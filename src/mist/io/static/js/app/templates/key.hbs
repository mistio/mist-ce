<div id="single-key-page" data-role="page" class="ui-page-active">

    <div data-role="header" data-theme="b">

        <a href="#/keys" class="responsive-button" data-icon="arrow-l">Keys</a>

        <h1>{{id}}</h1>

        {{view "userMenu"}}

    </div>

    <div data-role="content" data-theme="a">

        {{#if Mist.keysController.loading}}
        <div class="ajax-loader"></div>
        {{/if}}

         <div data-role="collapsible" data-collapsed="false">
            <h4>Public Key
                {{#if Mist.keysController.gettingPublicKey}}
                <div class="ajax-loader"></div>
                {{/if}}
            </h4>
            <input id="public-key" type="text" readonly="readonly" onclick="this.focus();this.select()"/>
        </div>

        <div data-role="collapsible">
            <h4>Private key
                {{#if Mist.keysController.gettingPrivateKey}}
                <div class="ajax-loader"></div>
                {{/if}}
            </h4>
            <a data-role="button" {{action "displayClicked" target="view"}}>Display</a>
        </div>

        {{#if machines}}
        <div id="single-key-machines" data-role="collapsible">

            <h4>Machines
                {{#if Mist.backendsController.loadingMachines}}
                <div class="ajax-loader"></div>
                {{/if}}
            </h4>
            <ul data-role="listview" class="checkbox-list" data-inset="true">
                {{#each view.machines}}
                    {{view "machineListItem"
                           machineBinding="this"
                           class="checkbox-link"}}
                {{/each}}
            </ul>
        </div>
        {{/if}}

        <div class="large-padding"></div>

    </div>

    {{view "dialog"}}

    {{view "keyEdit"}}

    <div class="dual-action-footer" data-role="footer" data-theme="b">
        <table><tbody><tr><td>
            <a data-role="button" data-icon="edit" {{action "renameClicked" target="view"}}>Rename</a>
        </td><td>
            <a data-role="button" data-icon="delete" {{action "deleteClicked" target="view"}}>Delete</a>
        </td></tr></tbody></table>
    </div>

</div>
