/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

/*!

 handlebars v1.3.0

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

/*!
 * @overview  Ember - JavaScript Application Framework
 * @copyright Copyright 2011-2014 Tilde Inc. and contributors
 *            Portions Copyright 2006-2011 Strobe Inc.
 *            Portions Copyright 2008-2011 Apple Inc. All rights reserved.
 * @license   Licensed under MIT license
 *            See https://raw.github.com/emberjs/ember.js/master/LICENSE
 * @version   1.6.0
 */

// Copyright: Â©2014 Tilde, Inc. All rights reserved.

/*! Socket.IO.js build:0.9.6, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */

/**
 * socket.io
 * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

/**
   * Parses an URI
   *
   * @author Steven Levithan <stevenlevithan.com> (MIT license)
   * @api public
   */

/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/

// Copyright: Hiroshi Ichikawa <http://gimite.net/en/>
// License: New BSD License
// Reference: http://dev.w3.org/html5/websockets/
// Reference: http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol

/*! jQuery Mobile 1.4.5 | Git HEADhash: 68e55e7 <> 2014-10-31T17:33:30Z | (c) 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */

/**
 * term.js - an xterm emulator
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */

function md5cycle(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=ff(n,r,i,s,t[0],7,-680876936),s=ff(s,n,r,i,t[1],12,-389564586),i=ff(i,s,n,r,t[2],17,606105819),r=ff(r,i,s,n,t[3],22,-1044525330),n=ff(n,r,i,s,t[4],7,-176418897),s=ff(s,n,r,i,t[5],12,1200080426),i=ff(i,s,n,r,t[6],17,-1473231341),r=ff(r,i,s,n,t[7],22,-45705983),n=ff(n,r,i,s,t[8],7,1770035416),s=ff(s,n,r,i,t[9],12,-1958414417),i=ff(i,s,n,r,t[10],17,-42063),r=ff(r,i,s,n,t[11],22,-1990404162),n=ff(n,r,i,s,t[12],7,1804603682),s=ff(s,n,r,i,t[13],12,-40341101),i=ff(i,s,n,r,t[14],17,-1502002290),r=ff(r,i,s,n,t[15],22,1236535329),n=gg(n,r,i,s,t[1],5,-165796510),s=gg(s,n,r,i,t[6],9,-1069501632),i=gg(i,s,n,r,t[11],14,643717713),r=gg(r,i,s,n,t[0],20,-373897302),n=gg(n,r,i,s,t[5],5,-701558691),s=gg(s,n,r,i,t[10],9,38016083),i=gg(i,s,n,r,t[15],14,-660478335),r=gg(r,i,s,n,t[4],20,-405537848),n=gg(n,r,i,s,t[9],5,568446438),s=gg(s,n,r,i,t[14],9,-1019803690),i=gg(i,s,n,r,t[3],14,-187363961),r=gg(r,i,s,n,t[8],20,1163531501),n=gg(n,r,i,s,t[13],5,-1444681467),s=gg(s,n,r,i,t[2],9,-51403784),i=gg(i,s,n,r,t[7],14,1735328473),r=gg(r,i,s,n,t[12],20,-1926607734),n=hh(n,r,i,s,t[5],4,-378558),s=hh(s,n,r,i,t[8],11,-2022574463),i=hh(i,s,n,r,t[11],16,1839030562),r=hh(r,i,s,n,t[14],23,-35309556),n=hh(n,r,i,s,t[1],4,-1530992060),s=hh(s,n,r,i,t[4],11,1272893353),i=hh(i,s,n,r,t[7],16,-155497632),r=hh(r,i,s,n,t[10],23,-1094730640),n=hh(n,r,i,s,t[13],4,681279174),s=hh(s,n,r,i,t[0],11,-358537222),i=hh(i,s,n,r,t[3],16,-722521979),r=hh(r,i,s,n,t[6],23,76029189),n=hh(n,r,i,s,t[9],4,-640364487),s=hh(s,n,r,i,t[12],11,-421815835),i=hh(i,s,n,r,t[15],16,530742520),r=hh(r,i,s,n,t[2],23,-995338651),n=ii(n,r,i,s,t[0],6,-198630844),s=ii(s,n,r,i,t[7],10,1126891415),i=ii(i,s,n,r,t[14],15,-1416354905),r=ii(r,i,s,n,t[5],21,-57434055),n=ii(n,r,i,s,t[12],6,1700485571),s=ii(s,n,r,i,t[3],10,-1894986606),i=ii(i,s,n,r,t[10],15,-1051523),r=ii(r,i,s,n,t[1],21,-2054922799),n=ii(n,r,i,s,t[8],6,1873313359),s=ii(s,n,r,i,t[15],10,-30611744),i=ii(i,s,n,r,t[6],15,-1560198380),r=ii(r,i,s,n,t[13],21,1309151649),n=ii(n,r,i,s,t[4],6,-145523070),s=ii(s,n,r,i,t[11],10,-1120210379),i=ii(i,s,n,r,t[2],15,718787259),r=ii(r,i,s,n,t[9],21,-343485551),e[0]=add32(n,e[0]),e[1]=add32(r,e[1]),e[2]=add32(i,e[2]),e[3]=add32(s,e[3])}function cmn(e,t,n,r,i,s){return t=add32(add32(t,e),add32(r,s)),add32(t<<i|t>>>32-i,n)}function ff(e,t,n,r,i,s,o){return cmn(t&n|~t&r,e,t,i,s,o)}function gg(e,t,n,r,i,s,o){return cmn(t&r|n&~r,e,t,i,s,o)}function hh(e,t,n,r,i,s,o){return cmn(t^n^r,e,t,i,s,o)}function ii(e,t,n,r,i,s,o){return cmn(n^(t|~r),e,t,i,s,o)}function md51(e){txt="";var t=e.length,n=[1732584193,-271733879,-1732584194,271733878],r;for(r=64;r<=e.length;r+=64)md5cycle(n,md5blk(e.substring(r-64,r)));e=e.substring(r-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);i[r>>2]|=128<<(r%4<<3);if(r>55){md5cycle(n,i);for(r=0;r<16;r++)i[r]=0}return i[14]=t*8,md5cycle(n,i),n}function md5blk(e){var t=[],n;for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}function rhex(e){var t="",n=0;for(;n<4;n++)t+=hex_chr[e>>n*8+4&15]+hex_chr[e>>n*8&15];return t}function hex(e){for(var t=0;t<e.length;t++)e[t]=rhex(e[t]);return e.join("")}function md5(e){return hex(md51(e))}function add32(e,t){return e+t&4294967295}function Ajax(e){return new function(){this.GET=function(e,t){return this.ajax("GET",e,t)},this.PUT=function(e,t){return this.ajax("PUT",e,t)},this.POST=function(e,t){return this.ajax("POST",e,t)},this.DELETE=function(e,t){return this.ajax("DELETE",e,t)},this.ajax=function(t,n,r){var i={},s={};return s.success=function(e){return i.success=e,s},s.error=function(e){return i.error=e,s},s.complete=function(e){return i.complete=e,s},s.ajax=function(){var o={url:n,type:t,headers:{"Csrf-Token":e,"Api-Version":2},complete:function(e){var t=e.status==200;t&&i.success&&i.success(e.responseJSON),!t&&i.error&&i.error(e.responseText,e.status),i.complete&&i.complete(t,e.responseJSON,e)}};return r&&Object.keys(r).length!=0&&(o.data=JSON.stringify(r)),$.ajax(o),s},s.ajax()}}}function Socket(e){function i(){n||(info(r,"initializing"),u(),a(),e.onInit instanceof Function&&e.onInit(t)),e.onConnect instanceof Function&&e.onConnect(t),n=!0}function s(){t===undefined?(t=io.connect(r),o()):t.socket.connected?(info(r,"connected"),i()):t.socket.connecting?(info(r,"connecting"),o()):(t.socket.connect(),o())}function o(){setTimeout(s,500)}function u(){(e.keepAlive!==undefined?e.keepAlive:!0)&&t.on("disconnect",function(){warn(r,"disconnected"),o()})}function a(){var e=t.on;t.on=function(n,i){var s=i;return i=function(e){DEBUG_SOCKET&&info((new Date).getPrettyTime()+" | "+r+"/"+n+" ",e),s(e)},e.apply(t,arguments)}}var t=undefined,n=!1,r=e.namespace;return s(),t}function Socket_(e){return window.EventHandler||(window.EventHandler=Ember.Object.extend(Ember.Evented,{})),Ember.Object.extend({events:null,socket:null,namespace:null,load:function(e){this._log("initializing"),this._parseArguments(e),this.set("socket",io.connect(this.get("namespace"))),this.set("events",EventHandler.create());var t=this;this._connect(function(){t._handleDisconnection(),t.onInit instanceof Function&&t.onInit(t)})}.on("init"),on:function(e){var t=this,n=this.get("events"),r=this.get("socket");return n.on.apply(n,arguments),(!r.$events||!r.$events[e])&&r.on(e,function(r){t._log("/"+e,"RECEIVE",r),n.trigger.call(n,e,r)}),this},send:function(){var e=slice(arguments);if(!e.length){error("No arguments passed to send");return}var t=e[0];e=e.slice(1),this._log("/"+t,"EMIT",e),e.length&&(t+=","+JSON.stringify(e));var n=this.get("channel");return n.send(t)},off:function(){var e=this.get("events");return e.off.apply(e,arguments),this},emit:function(){var e=slice(arguments);this._log("/"+e[0],"EMIT",e);var t=this.get("socket");return t.emit.apply(t,arguments),this},kill:function(){this.set("keepAlive",!1);var e=this.get("socket");e.socket.disconnect();if(e.$events)for(event in e.$events)delete e.$events[event];return this},_connect:function(e){var t=this.get("socket");t.socket.connected?(this._log("connected"),e instanceof Function&&e(),this.onConnect instanceof Function&&this.onConnect(this)):t.socket.connecting?(this._log("connecting"),this._reconnect(e)):(t.socket.connect(),this._reconnect(e))},_reconnect:function(e){Ember.run.later(this,function(){this._connect(e)},500)},_parseArguments:function(e){forIn(this,e,function(e,t){this.set(t,e)})},_handleDisconnection:function(){var e=this;this.get("socket").on("disconnect",function(){e._log("disconnected"),(e.get("keepAlive")!==undefined?e.get("keepAlive"):!0)&&e._reconnect()})},_log:function(){if(!DEBUG_SOCKET)return;var e=slice(arguments),t=(new Date).getPrettyTime()+" | "+this.get("namespace");e.unshift(t),console.log.apply(console,e)}}).create(e)}function virtualKeyboardHeight(){var e=0;if(!Mist.term)return 0;if(Mist.term.isIpad||Mist.term.isIphone){var t=document.body.scrollLeft,n=document.body.scrollTop,r=window.innerHeight;window.scrollTo(t,document.body.scrollHeight),e=r-window.innerHeight,window.scrollTo(t,n)}else Mist.term.isAndroid&&(e=0);return e}function forIn(){var e=arguments[arguments.length-2],t=arguments[arguments.length-1],n=arguments.length==3?arguments[0]:undefined;if(e instanceof Object){var r=Object.keys(e),i=r.length;for(var s=0;s<i;s++){var o=t.call(n,e[r[s]],r[s]);if(o===!0)return!0}return!1}return!1}function maxCharsInWidth(e,t){fontTest.css("font-size",e);var n=fontTest.text("t").width(),r=Array(parseInt(t/n)+5).join("t");n=fontTest.text(r).width();for(var i=r.length;n>t;i--)r=r.slice(1),n=fontTest.text(r).width();return i}function maxLinesInHeight(e,t){fontTest.css("font-size",e);var n="",r=0;for(var i=0;r<t;i++)n+="<div>t</div>",r=fontTest.html(n).height();return i}function lockScroll(){$("body").data("y-scroll",self.pageYOffset).css("overflow","hidden"),window.scrollTo(null,self.pageYOffset)}function unlockScroll(){$("body").css("overflow","auto"),window.scrollTo(null,$("body").data("y-scroll"))}function startTimer(){startTime=Date.now()}function getTime(){return Date.now()-startTime}function log(){LOGLEVEL>3&&console.log.apply(console,arguments)}function info(){LOGLEVEL>2&&console.info.apply(console,arguments)}function warn(){LOGLEVEL>1&&console.warn.apply(console,arguments)}function error(){LOGLEVEL>0&&console.error.apply(console,arguments)}function slice(e){return Array.prototype.slice.call(e)}function resetFileInputField(e){e.wrap("<form>").parent("form").trigger("reset"),e.unwrap()}function getProviderFields(e){var t=[];if(e&&e.provider){var n=e.provider;forIn(PROVIDER_MAP,function(e,r){n.indexOf(r)>-1&&(t=e)})}return t}function clearProviderFields(e){getProviderFields(e).forEach(function(e){e.set("value",e.defaultValue||"")})}function parseProviderMap(){forIn(PROVIDER_MAP,function(e,t){e.forEach(function(t,n){t.type=="slider"&&(t.on.forEach(function(t,r){t.className="on",e.splice(n+r+1,0,t)}),t.off.forEach(function(t,r){t.className="off",e.splice(n+r+1,0,t)}))})}),forIn(PROVIDER_MAP,function(e,t){PROVIDER_MAP[t].className="provider-",PROVIDER_MAP[t].className+=t=="bare_metal"?"baremetal":t,e.forEach(function(e,n){e=PROVIDER_MAP[t][n]=Ember.Object.create(e),e.value=e.defaultValue||"",e.showIf||(e.show=!0),e.type=="slider"&&(e.isSlider=!0);if(e.type=="text"||e.type=="password")e.isText=!0;e.type=="file"&&(e.isFile=!0),e.type=="ssh_key"&&(e.isKey=!0),e.type=="region"&&(e.isRegion=!0),e.type=="checkbox"&&(e.isCheckbox=!0),e.placeholder||(e.placeholder=""),e.optional&&(e.placeholder+="(optional)"),e.helpText&&(e.helpId=e.name+"_"+"help"),!e.label&&e.name&&(e.label=e.name.split("_").map(function(e){return e=="api"||e=="url"||e=="id"?e.toUpperCase():e.capitalize()}).join(" "))})}),forIn(PROVIDER_MAP,function(e,t){e.forEach(function(t,n){if(t.showIf){t.set("showDependency",e.findBy("name",t.showIf));var r=Ember.Binding.from("showDependency.value").to("show");r.connect(t)}})})}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(a,b){function s(e){var t=e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function x(e,t,r){if(n.isFunction(t))return n.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return n.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(w.test(t))return n.filter(t,e,r);t=n.filter(t,e)}return n.grep(e,function(e){return g.call(t,e)>=0!==r})}function D(e,t){while((e=e[t])&&1!==e.nodeType);return e}function G(e){var t=F[e]={};return n.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}function P(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(O,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:N.test(r)?n.parseJSON(r):r}catch(s){}M.set(e,t,r)}else r=void 0;return r}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(e){}}function jb(e,t){return n.nodeName(e,"table")&&n.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function kb(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function lb(e){var t=gb.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function mb(e,t){for(var n=0,r=e.length;r>n;n++)L.set(e[n],"globalEval",!t||L.get(t[n],"globalEval"))}function nb(e,t){var r,i,s,o,u,a,f,l;if(1===t.nodeType){if(L.hasData(e)&&(o=L.access(e),u=L.set(t,o),l=o.events)){delete u.handle,u.events={};for(s in l)for(r=0,i=l[s].length;i>r;r++)n.event.add(t,s,l[s][r])}M.hasData(e)&&(a=M.access(e),f=n.extend({},a),M.set(t,f))}}function ob(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&n.nodeName(e,t)?n.merge([e],r):r}function pb(e,t){var n=t.nodeName.toLowerCase();"input"===n&&T.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function sb(e,t){var r,i=n(t.createElement(e)).appendTo(t.body),s=a.getDefaultComputedStyle&&(r=a.getDefaultComputedStyle(i[0]))?r.display:n.css(i[0],"display");return i.detach(),s}function tb(e){var t=l,r=rb[e];return r||(r=sb(e,t),"none"!==r&&r||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qb[0].contentDocument,t.write(),t.close(),r=sb(e,t),qb.detach()),rb[e]=r),r}function xb(e,t,r){var i,s,o,u,a=e.style;return r=r||wb(e),r&&(u=r.getPropertyValue(t)||r[t]),r&&(""!==u||n.contains(e.ownerDocument,e)||(u=n.style(e,t)),vb.test(u)&&ub.test(t)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=u,u=r.width,a.width=i,a.minWidth=s,a.maxWidth=o)),void 0!==u?u+"":u}function yb(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Fb(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=Eb.length;while(i--)if(t=Eb[i]+n,t in e)return t;return r}function Gb(e,t,n){var r=Ab.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Hb(e,t,r,i,s){for(var o=r===(i?"border":"content")?4:"width"===t?1:0,u=0;4>o;o+=2)"margin"===r&&(u+=n.css(e,r+R[o],!0,s)),i?("content"===r&&(u-=n.css(e,"padding"+R[o],!0,s)),"margin"!==r&&(u-=n.css(e,"border"+R[o]+"Width",!0,s))):(u+=n.css(e,"padding"+R[o],!0,s),"padding"!==r&&(u+=n.css(e,"border"+R[o]+"Width",!0,s)));return u}function Ib(e,t,r){var i=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=wb(e),u="border-box"===n.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=xb(e,t,o),(0>s||null==s)&&(s=e.style[t]),vb.test(s))return s;i=u&&(k.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+Hb(e,t,r||(u?"border":"content"),i,o)+"px"}function Jb(e,t){for(var r,i,s,o=[],u=0,a=e.length;a>u;u++)i=e[u],i.style&&(o[u]=L.get(i,"olddisplay"),r=i.style.display,t?(o[u]||"none"!==r||(i.style.display=""),""===i.style.display&&S(i)&&(o[u]=L.access(i,"olddisplay",tb(i.nodeName)))):(s=S(i),"none"===r&&s||L.set(i,"olddisplay",s?r:n.css(i,"display"))));for(u=0;a>u;u++)i=e[u],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[u]||"":"none"));return e}function Kb(e,t,n,r,i){return new Kb.prototype.init(e,t,n,r,i)}function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=R[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ub(e,t,n){for(var r,i=(Rb[t]||[]).concat(Rb["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function Vb(e,t,r){var i,s,o,u,a,f,l,c,h=this,p={},d=e.style,v=e.nodeType&&S(e),m=L.get(e,"fxshow");r.queue||(a=n._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,f=a.empty.fire,a.empty.fire=function(){a.unqueued||f()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,n.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=n.css(e,"display"),c="none"===l?L.get(e,"olddisplay")||tb(e.nodeName):l,"inline"===c&&"none"===n.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in t)if(s=t[i],Nb.exec(s)){if(delete t[i],o=o||"toggle"===s,s===(v?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;v=!0}p[i]=m&&m[i]||n.style(e,i)}else l=void 0;if(n.isEmptyObject(p))"inline"===("none"===l?tb(e.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(v=m.hidden):m=L.access(e,"fxshow",{}),o&&(m.hidden=!v),v?n(e).show():h.done(function(){n(e).hide()}),h.done(function(){var t;L.remove(e,"fxshow");for(t in p)n.style(e,t,p[t])});for(i in p)u=Ub(v?m[i]:0,i,h),i in m||(m[i]=u.start,v&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function Wb(e,t){var r,i,s,o,u;for(r in e)if(i=n.camelCase(r),s=t[i],o=e[r],n.isArray(o)&&(s=o[1],o=e[r]=o[0]),r!==i&&(e[i]=o,delete e[r]),u=n.cssHooks[i],u&&"expand"in u){o=u.expand(o),delete e[i];for(r in o)r in e||(e[r]=o[r],t[r]=s)}else t[i]=s}function Xb(e,t,r){var i,s,o=0,u=Qb.length,a=n.Deferred().always(function(){delete f.elem}),f=function(){if(s)return!1;for(var t=Lb||Sb(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(i);return a.notifyWith(e,[l,i,n]),1>i&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:n.extend({},t),opts:n.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:Lb||Sb(),duration:r.duration,tweens:[],createTween:function(t,r){var i=n.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,r=t?l.tweens.length:0;if(s)return this;for(s=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Wb(c,l.opts.specialEasing);u>o;o++)if(i=Qb[o].call(l,e,c,l.opts))return i;return n.map(c,Ub,l),n.isFunction(l.opts.start)&&l.opts.start.call(e,l),n.fx.timer(n.extend(f,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function rc(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,s=0,o=t.toLowerCase().match(E)||[];if(n.isFunction(r))while(i=o[s++])"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function sc(e,t,r,i){function u(l){var h;return s[l]=!0,n.each(e[l]||[],function(e,n){var a=n(t,r,i);return"string"!=typeof a||o||s[a]?o?!(h=a):void 0:(t.dataTypes.unshift(a),u(a),!1)}),h}var s={},o=e===oc;return u(t.dataTypes[0])||!s["*"]&&u("*")}function tc(e,t){var r,i,s=n.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((s[r]?e:i||(i={}))[r]=t[r]);return i&&n.extend(!0,e,i),e}function uc(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function vc(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Bc(e,t,r,i){var s;if(n.isArray(t))n.each(t,function(t,n){r||xc.test(e)?i(e,n):Bc(e+"["+("object"==typeof n?t:"")+"]",n,r,i)});else if(r||"object"!==n.type(t))i(e,t);else for(s in t)Bc(e+"["+s+"]",t[s],r,i)}function Kc(e){return n.isWindow(e)?e:9===e.nodeType&&e.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(e,t){return new n.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(e,t){return t.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:d.call(this)},pushStack:function(e){var t=n.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return n.each(this,e,t)},map:function(e){return this.pushStack(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var e,t,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[a]||{},a++),"object"==typeof u||n.isFunction(u)||(u={}),a===f&&(u=this,a--);f>a;a++)if(null!=(e=arguments[a]))for(t in e)r=u[t],i=e[t],u!==i&&(l&&i&&(n.isPlainObject(i)||(s=n.isArray(i)))?(s?(s=!1,o=r&&n.isArray(r)?r:[]):o=r&&n.isPlainObject(r)?r:{},u[t]=n.extend(l,o,i)):void 0!==i&&(u[t]=i));return u},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===n.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!n.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==n.type(e)||e.nodeType||n.isWindow(e)?!1:e.constructor&&!j.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[i.call(e)]||"object":typeof e},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(e){return e.replace(p,"ms-").replace(q,r)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,u=s(e);if(n){if(u){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(u){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?n.merge(r,"string"==typeof e?[e]:e):f.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(t,n,r){var i,o=0,u=t.length,a=s(t),f=[];if(a)for(;u>o;o++)i=n(t[o],o,r),null!=i&&f.push(i);else for(o in t)i=n(t[o],o,r),null!=i&&f.push(i);return e.apply([],f)},guid:1,proxy:function(e,t){var r,i,s;return"string"==typeof t&&(r=e[t],t=e,e=r),n.isFunction(e)?(i=d.call(arguments,2),s=function(){return e.apply(t||this,i.concat(d.call(arguments)))},s.guid=e.guid=e.guid||n.guid++,s):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var t=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],!e||"string"!=typeof e)return r;if(1!==(l=t.nodeType)&&9!==l)return[];if(v&&!i){if(s=Z.exec(e))if(f=s[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return P.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){if(y=g=w,S=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+mt(d[c]);S=et.test(e)&&dt(t.parentNode)||t,x=d.join(",")}if(x)try{return P.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!==L&&e}function vt(){}function mt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(a=t[w]||(t[w]={}),(u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){for(var r=0,i=t.length;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function St(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];s>a;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,i>a&&St(e.slice(a,i)),s>i&&St(e=e.slice(i)),s>i&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=null==b?1:Math.random()||.1,x=w.length;for(l&&(f=o!==p&&o);m!==x&&null!=(c=w[m]);m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}if(v+=m,n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)g[m]||y[m]||(y[m]=_.call(a));y=wt(y)}P.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(a)}return l&&(S=E,f=b),g};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L="undefined",A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",U=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(U),J=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes),M[E.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=st.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;return i!==p&&9===i.nodeType&&i.documentElement?(p=i,d=i.documentElement,v=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){h()},!1):o.attachEvent&&o.attachEvent("onunload",function(){h()})),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(i.getElementsByClassName)&&at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=at(function(e){return d.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==L?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==L&&v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=Y.test(i.querySelectorAll))&&(at(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),at(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:l?B.call(l,e)-B.call(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0;if(s===o)return lt(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?lt(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},i):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!v||g&&g.test(t)||m&&m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[w]||(c[w]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return J.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){(!n||(i=W.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=X.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length));for(o in r.filter)!(i=K[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){if(l=f[a],r.relative[c=l.type])break;if((h=r.find[c])&&(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&dt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&mt(f),!e)return P.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),at(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ft("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ft("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),at(function(e){return null==e.getAttribute("disabled")})||ft(j,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?n.find.matchesSelector(i,e)?[i]:[]:n.find.matches(e,n.grep(t,function(e){return 1===e.nodeType}))},n.fn.extend({find:function(e){var t,r=this.length,i=[],s=this;if("string"!=typeof e)return this.pushStack(n(e).filter(function(){for(t=0;r>t;t++)if(n.contains(s[t],this))return!0}));for(t=0;r>t;t++)n.find(e,s[t],i);return i=this.pushStack(r>1?n.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&u.test(e)?n(e):e||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(e,t){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||y).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof n?t[0]:t,n.merge(this,n.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:l,!0)),v.test(r[1])&&n.isPlainObject(t))for(r in t)n.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=l.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=l,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):n.isFunction(e)?"undefined"!=typeof y.ready?y.ready(e):e(n):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),n.makeArray(e,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(e,t,r){var i=[],s=void 0!==r;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(s&&n(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),n.fn.extend({has:function(e){var t=n(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(n.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,i=0,s=this.length,o=[],a=u.test(e)||"string"!=typeof e?n(e,t||this.context):0;s>i;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&n.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?n.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(n(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(n.unique(n.merge(this.get(),n(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n.dir(e,"parentNode")},parentsUntil:function(e,t,r){return n.dir(e,"parentNode",r)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return n.dir(e,"nextSibling")},prevAll:function(e){return n.dir(e,"previousSibling")},nextUntil:function(e,t,r){return n.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return n.dir(e,"previousSibling",r)},siblings:function(e){return n.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return n.sibling(e.firstChild)},contents:function(e){return e.contentDocument||n.merge([],e.childNodes)}},function(e,t){n.fn[e]=function(r,i){var s=n.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(s=n.filter(i,s)),this.length>1&&(C[e]||n.unique(s),B.test(e)&&s.reverse()),this.pushStack(s)}});var E=/\S+/g,F={};n.Callbacks=function(e){e="string"==typeof e?F[e]||G(e):n.extend({},e);var t,r,i,s,o,u,a=[],f=!e.once&&[],l=function(n){for(t=e.memory&&n,r=!0,u=s||0,s=0,o=a.length,i=!0;a&&o>u;u++)if(a[u].apply(n[0],n[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function u(t){n.each(t,function(t,r){var i=n.type(r);"function"===i?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==i&&u(r)})}(arguments),i?o=a.length:t&&(s=r,l(t))}return this},remove:function(){return a&&n.each(arguments,function(e,t){var r;while((r=n.inArray(t,a,r))>-1)a.splice(r,1),i&&(o>=r&&o--,u>=r&&u--)}),this},has:function(e){return e?n.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],o=0,this},disable:function(){return a=f=t=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,t||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||r&&!f||(t=t||[],t=[e,t.slice?t.slice():t],i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},n.extend({Deferred:function(e){var t=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n.Deferred(function(r){n.each(t,function(t,o){var u=n.isFunction(e[t])&&e[t];s[o[1]](function(){var e=u&&u.apply(this,arguments);e&&n.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===i?r.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?n.extend(e,i):i}},s={};return i.pipe=i.then,n.each(t,function(e,n){var o=n[2],u=n[3];i[n[1]]=o.add,u&&o.add(function(){r=u},t[1^e][2].disable,t[2][2].lock),s[n[0]]=function(){return s[n[0]+"With"](this===s?i:this,arguments),this},s[n[0]+"With"]=o.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t=0,r=d.call(arguments),i=r.length,s=1!==i||e&&n.isFunction(e.promise)?i:0,o=1===s?e:n.Deferred(),u=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)r[t]&&n.isFunction(r[t].promise)?r[t].promise().done(u(t,l,r)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,r),o.promise()}});var H;n.fn.ready=function(e){return n.ready.promise().done(e),this},n.extend({isReady:!1,readyWait:1,holdReady:function(e){e?n.readyWait++:n.ready(!0)},ready:function(e){(e===!0?--n.readyWait:n.isReady)||(n.isReady=!0,e!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(e){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(e)},n.ready.promise();var J=n.access=function(e,t,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===n.type(r)){s=!0;for(a in r)n.access(e,t,a,r[a],!0,o,u)}else if(void 0!==i&&(s=!0,n.isFunction(i)||(u=!0),l&&(u?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(n(e),r)})),t))for(;f>a;a++)t(e[a],r,u?i:i.call(e[a],a,t(e[a],r)));return s?e:l?t.call(e):f?t(e[0],r):o};n.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(e){if(!K.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=K.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(i){t[this.expando]=r,n.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var i,s=this.key(e),o=this.cache[s];if("string"==typeof t)o[t]=r;else if(n.isEmptyObject(o))n.extend(this.cache[s],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,r){var i;return void 0===t||t&&"string"==typeof t&&void 0===r?(i=this.get(e,t),void 0!==i?i:this.get(e,n.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i,s,o=this.key(e),u=this.cache[o];if(void 0===t)this.cache[o]={};else{n.isArray(t)?i=t.concat(t.map(n.camelCase)):(s=n.camelCase(t),t in u?i=[t,s]:(i=s,i=i in u?[i]:i.match(E)||[])),r=i.length;while(r--)delete u[i[r]]}},hasData:function(e){return!n.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(e){return M.hasData(e)||L.hasData(e)},data:function(e,t,n){return M.access(e,t,n)},removeData:function(e,t){M.remove(e,t)},_data:function(e,t,n){return L.access(e,t,n)},_removeData:function(e,t){L.remove(e,t)}}),n.fn.extend({data:function(e,t){var r,i,s,o=this[0],u=o&&o.attributes;if(void 0===e){if(this.length&&(s=M.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){r=u.length;while(r--)u[r]&&(i=u[r].name,0===i.indexOf("data-")&&(i=n.camelCase(i.slice(5)),P(o,i,s[i])));L.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){M.set(this,e)}):J(this,function(t){var r,i=n.camelCase(e);if(o&&void 0===t){if(r=M.get(o,e),void 0!==r)return r;if(r=M.get(o,i),void 0!==r)return r;if(r=P(o,i,void 0),void 0!==r)return r}else this.each(function(){var n=M.get(this,i);M.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&M.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){M.remove(this,e)})}}),n.extend({queue:function(e,t,r){var i;return e?(t=(t||"fx")+"queue",i=L.get(e,t),r&&(!i||n.isArray(r)?i=L.access(e,t,n.makeArray(r)):i.push(r)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=n.queue(e,t),i=r.length,s=r.shift(),o=n._queueHooks(e,t),u=function(){n.dequeue(e,t)};"inprogress"===s&&(s=r.shift(),i--),s&&("fx"===t&&r.unshift("inprogress"),delete o.stop,s.call(e,u,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return L.get(e,r)||L.access(e,r,{empty:n.Callbacks("once memory").add(function(){L.remove(e,[t+"queue",r])})})}}),n.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?n.queue(this[0],e):void 0===t?this:this.each(function(){var r=n.queue(this,e,t);n._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&n.dequeue(this,e)})},dequeue:function(e){return this.each(function(){n.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,s=n.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(u--)r=L.get(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(e,t){return e=t||e,"none"===n.css(e,"display")||!n.contains(e.ownerDocument,e)},T=/^(?:checkbox|radio)$/i;!function(){var e=l.createDocumentFragment(),t=e.appendChild(l.createElement("div")),n=l.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),k.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.get(e);if(g){r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=n.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof n!==U&&n.event.triggered!==t.type?n.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(E)||[""],l=t.length;while(l--)a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=n.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=n.event.special[d]||{},c=n.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&n.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),n.event.global[d]=!0)}},remove:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.hasData(e)&&L.get(e);if(g&&(f=g.events)){t=(t||"").match(E)||[""],l=t.length;while(l--)if(a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d){h=n.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=f[d]||[],a=a[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;while(o--)c=p[o],!s&&m!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));u&&!p.length&&(h.teardown&&h.teardown.call(e,v,g.handle)!==!1||n.removeEvent(e,d,g.handle),delete f[d])}else for(d in f)n.event.remove(e,d+t[l],r,i,!0);n.isEmptyObject(f)&&(delete g.handle,L.remove(e,"events"))}},trigger:function(e,t,r,i){var s,o,u,f,c,h,p,d=[r||l],v=j.call(e,"type")?e.type:e,m=j.call(e,"namespace")?e.namespace.split("."):[];if(o=u=r=r||l,3!==r.nodeType&&8!==r.nodeType&&!X.test(v+n.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,e=e[n.expando]?e:new n.Event(v,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:n.makeArray(t,[e]),p=n.event.special[v]||{},i||!p.trigger||p.trigger.apply(r,t)!==!1)){if(!i&&!p.noBubble&&!n.isWindow(r)){for(f=p.delegateType||v,X.test(f+v)||(o=o.parentNode);o;o=o.parentNode)d.push(o),u=o;u===(r.ownerDocument||l)&&d.push(u.defaultView||u.parentWindow||a)}s=0;while((o=d[s++])&&!e.isPropagationStopped())e.type=s>1?f:p.bindType||v,h=(L.get(o,"events")||{})[e.type]&&L.get(o,"handle"),h&&h.apply(o,t),h=c&&o[c],h&&h.apply&&n.acceptData(o)&&(e.result=h.apply(o,t),e.result===!1&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),t)!==!1||!n.acceptData(r)||c&&n.isFunction(r[v])&&!n.isWindow(r)&&(u=r[c],u&&(r[c]=null),n.event.triggered=v,r[v](),n.event.triggered=void 0,u&&(r[c]=u)),e.result}},dispatch:function(e){e=n.event.fix(e);var t,r,i,s,o,u=[],a=d.call(arguments),f=(L.get(this,"events")||{})[e.type]||[],l=n.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=n.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((n.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!==this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==e.type){for(i=[],r=0;a>r;r++)o=t[r],s=o.selector+" ",void 0===i[s]&&(i[s]=o.needsContext?n(s,this).index(f)>=0:n.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<t.length&&u.push({elem:this,handlers:t.slice(a)}),u},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||l,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[n.expando])return e;var t,r,i,s=e.type,o=e,u=this.fixHooks[s];u||(this.fixHooks[s]=u=W.test(s)?this.mouseHooks:V.test(s)?this.keyHooks:{}),i=u.props?this.props.concat(u.props):this.props,e=new n.Event(o),t=i.length;while(t--)r=i[t],e[r]=o[r];return e.target||(e.target=l),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return n.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,i){var s=n.extend(new n.Event,r,{type:e,isSimulated:!0,originalEvent:{}});i?n.event.trigger(s,null,t):n.event.dispatch.call(t,s),s.isDefaultPrevented()&&r.preventDefault()}},n.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},n.Event=function(e,t){return this instanceof n.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?Z:$):this.type=e,t&&n.extend(this,t),this.timeStamp=e&&e.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(e,t)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Z,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Z,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Z,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==i&&!n.contains(i,s))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){n.event.simulate(t,e.target,n.event.fix(e),!0)};n.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=L.access(n,t);i||n.addEventListener(e,r,!0),L.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=L.access(n,t)-1;i?L.access(n,t,i):(n.removeEventListener(e,r,!0),L.remove(n,t))}}}),n.fn.extend({on:function(e,t,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof t&&(r=r||t,t=void 0);for(u in e)this.on(u,t,r,e[u],s);return this}if(null==r&&null==i?(i=t,r=t=void 0):null==i&&("string"==typeof t?(i=r,r=void 0):(i=r,r=t,t=void 0)),i===!1)i=$;else if(!i)return this;return 1===s&&(o=i,i=function(e){return n().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=n.guid++)),this.each(function(){n.event.add(this,e,i,r,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,n(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=$),this.each(function(){n.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){n.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?n.event.trigger(e,t,r,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td,n.extend({clone:function(e,t,r){var i,s,o,u,a=e.cloneNode(!0),f=n.contains(e.ownerDocument,e);if(!(k.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||n.isXMLDoc(e)))for(u=ob(a),o=ob(e),i=0,s=o.length;s>i;i++)pb(o[i],u[i]);if(t)if(r)for(o=o||ob(e),u=u||ob(a),i=0,s=o.length;s>i;i++)nb(o[i],u[i]);else nb(e,a);return u=ob(a,"script"),u.length>0&&mb(u,!f&&ob(e,"script")),a},buildFragment:function(e,t,r,i){for(var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;d>p;p++)if(s=e[p],s||0===s)if("object"===n.type(s))n.merge(h,s.nodeType?[s]:s);else if(cb.test(s)){o=o||c.appendChild(t.createElement("div")),u=(bb.exec(s)||["",""])[1].toLowerCase(),a=ib[u]||ib._default,o.innerHTML=a[1]+s.replace(ab,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.lastChild;n.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(s));c.textContent="",p=0;while(s=h[p++])if((!i||-1===n.inArray(s,i))&&(f=n.contains(s.ownerDocument,s),o=ob(c.appendChild(s),"script"),f&&mb(o),r)){l=0;while(s=o[l++])fb.test(s.type||"")&&r.push(s)}return c},cleanData:function(e){for(var t,r,i,s,o=n.event.special,u=0;void 0!==(r=e[u]);u++){if(n.acceptData(r)&&(s=r[L.expando],s&&(t=L.cache[s]))){if(t.events)for(i in t.events)o[i]?n.event.remove(r,i):n.removeEvent(r,i,t.handle);L.cache[s]&&delete L.cache[s]}delete M.cache[r[M.expando]]}}}),n.fn.extend({text:function(e){return J(this,function(e){return void 0===e?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=jb(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=jb(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var r,i=e?n.filter(e,this):this,s=0;null!=(r=i[s]);s++)t||1!==r.nodeType||n.cleanData(ob(r)),r.parentNode&&(t&&n.contains(r.ownerDocument,r)&&mb(ob(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(n.cleanData(ob(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return n.clone(this,e,t)})},html:function(e){return J(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!db.test(e)&&!ib[(bb.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ab,"<$1></$2>");try{for(;i>r;r++)t=this[r]||{},1===t.nodeType&&(n.cleanData(ob(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,n.cleanData(ob(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(t,r){t=e.apply([],t);var i,s,o,u,a,f,l=0,c=this.length,h=this,p=c-1,d=t[0],v=n.isFunction(d);if(v||c>1&&"string"==typeof d&&!k.checkClone&&eb.test(d))return this.each(function(e){var n=h.eq(e);v&&(t[0]=d.call(this,e,n.html())),n.domManip(t,r)});if(c&&(i=n.buildFragment(t,this[0].ownerDocument,!1,this),s=i.firstChild,1===i.childNodes.length&&(i=s),s)){for(o=n.map(ob(i,"script"),kb),u=o.length;c>l;l++)a=i,l!==p&&(a=n.clone(a,!0,!0),u&&n.merge(o,ob(a,"script"))),r.call(this[l],a,l);if(u)for(f=o[o.length-1].ownerDocument,n.map(o,lb),l=0;u>l;l++)a=o[l],fb.test(a.type||"")&&!L.access(a,"globalEval")&&n.contains(f,a)&&(a.src?n._evalUrl&&n._evalUrl(a.src):n.globalEval(a.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){n.fn[e]=function(e){for(var r,i=[],s=n(e),o=s.length-1,u=0;o>=u;u++)r=u===o?this:this.clone(!0),n(s[u])[t](r),f.apply(i,r.get());return this.pushStack(i)}});var qb,rb={},ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){var e,t,r=l.documentElement,i=l.createElement("div"),s=l.createElement("div");if(s.style){s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===s.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(s);function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(i);var n=a.getComputedStyle(s,null);e="1%"!==n.top,t="4px"===n.width,r.removeChild(i)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(l.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(a.getComputedStyle(t,null).marginRight),r.removeChild(i),e}})}}(),n.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xb(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=n.camelCase(t),f=e.style;return t=n.cssProps[a]||(n.cssProps[a]=Fb(f,a)),u=n.cssHooks[t]||n.cssHooks[a],void 0===r?u&&"get"in u&&void 0!==(s=u.get(e,!1,i))?s:f[t]:(o=typeof r,"string"===o&&(s=Bb.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(n.css(e,t)),o="number"),null!=r&&r===r&&("number"!==o||n.cssNumber[a]||(r+="px"),k.clearCloneStyle||""!==r||0!==t.indexOf("background")||(f[t]="inherit"),u&&"set"in u&&void 0===(r=u.set(e,r,i))||(f[t]=r)),void 0)}},css:function(e,t,r,i){var s,o,u,a=n.camelCase(t);return t=n.cssProps[a]||(n.cssProps[a]=Fb(e.style,a)),u=n.cssHooks[t]||n.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,r)),void 0===s&&(s=xb(e,t,i)),"normal"===s&&t in Db&&(s=Db[t]),""===r||r?(o=parseFloat(s),r===!0||n.isNumeric(o)?o||0:s):s}}),n.each(["height","width"],function(e,t){n.cssHooks[t]={get:function(e,r,i){return r?zb.test(n.css(e,"display"))&&0===e.offsetWidth?n.swap(e,Cb,function(){return Ib(e,t,i)}):Ib(e,t,i):void 0},set:function(e,r,i){var s=i&&wb(e);return Gb(e,r,i?Hb(e,t,i,"border-box"===n.css(e,"boxSizing",!1,s),s):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(e,t){return t?n.swap(e,{display:"inline-block"},xb,[e,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(e,t){n.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+R[r]+t]=s[r]||s[r-2]||s[0];return i}},ub.test(e)||(n.cssHooks[e+t].set=Gb)}),n.fn.extend({css:function(e,t){return J(this,function(e,t,r){var i,s,o={},u=0;if(n.isArray(t)){for(i=wb(e),s=t.length;s>u;u++)o[t[u]]=n.css(e,t[u],!1,i);return o}return void 0!==r?n.style(e,t,r):n.css(e,t)},e,t,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(e,t,r,i,s,o){this.elem=e,this.prop=r,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(n.cssNumber[r]?"":"px")},cur:function(){var e=Kb.propHooks[this.prop];return e&&e.get?e.get(this):Kb.propHooks._default.get(this)},run:function(e){var t,r=Kb.propHooks[this.prop];return this.pos=t=this.options.duration?n.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=n.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){n.fx.step[e.prop]?n.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[n.cssProps[e.prop]]||n.cssHooks[e.prop])?n.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},n.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(e,t){var r=this.createTween(e,t),i=r.cur(),s=Ob.exec(t),o=s&&s[3]||(n.cssNumber[e]?"":"px"),u=(n.cssNumber[e]||"px"!==o&&+i)&&Ob.exec(n.css(r.elem,e)),a=1,f=20;if(u&&u[3]!==o){o=o||u[3],s=s||[],u=+i||1;do a=a||".5",u/=a,n.style(r.elem,e,u+o);while(a!==(a=r.cur()/i)&&1!==a&&--f)}return s&&(u=r.start=+u||+i||0,r.unit=o,r.end=s[1]?u+(s[1]+1)*s[2]:+s[2]),r}]};n.Animation=n.extend(Xb,{tweener:function(e,t){n.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,i=0,s=e.length;s>i;i++)r=e[i],Rb[r]=Rb[r]||[],Rb[r].unshift(t)},prefilter:function(e,t){t?Qb.unshift(e):Qb.push(e)}}),n.speed=function(e,t,r){var i=e&&"object"==typeof e?n.extend({},e):{complete:r||!r&&t||n.isFunction(e)&&e,duration:e,easing:r&&t||t&&!n.isFunction(t)&&t};return i.duration=n.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in n.fx.speeds?n.fx.speeds[i.duration]:n.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){n.isFunction(i.old)&&i.old.call(this),i.queue&&n.dequeue(this,i.queue)},i},n.fn.extend({fadeTo:function(e,t,n,r){return this.filter(S).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,r,i){var s=n.isEmptyObject(e),o=n.speed(t,r,i),u=function(){var t=Xb(this,n.extend({},e),o);(s||L.get(this,"finish"))&&t.stop(!0)};return u.finish=u,s||o.queue===!1?this.each(u):this.queue(o.queue,u)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=n.timers,u=L.get(this);if(s)u[s]&&u[s].stop&&i(u[s]);else for(s in u)u[s]&&u[s].stop&&Pb.test(s)&&i(u[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(r),t=!1,o.splice(s,1));(t||!r)&&n.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=L.get(this),i=r[e+"queue"],s=r[e+"queueHooks"],o=n.timers,u=i?i.length:0;for(r.finish=!0,n.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;u>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),n.each(["toggle","show","hide"],function(e,t){var r=n.fn[t];n.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Tb(t,!0),e,n,i)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){n.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),n.timers=[],n.fx.tick=function(){var e,t=0,r=n.timers;for(Lb=n.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(e){n.timers.push(e),e()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(e,t){return e=n.fx?n.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=l.createElement("input"),t=l.createElement("select"),n=t.appendChild(l.createElement("option"));e.type="checkbox",k.checkOn=""!==e.value,k.optSelected=n.selected,t.disabled=!0,k.optDisabled=!n.disabled,e=l.createElement("input"),e.value="t",e.type="radio",k.radioValue="t"===e.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(e,t){return J(this,n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){n.removeAttr(this,e)})}}),n.extend({attr:function(e,t,r){var i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===U?n.prop(e,t,r):(1===o&&n.isXMLDoc(e)||(t=t.toLowerCase(),i=n.attrHooks[t]||(n.expr.match.bool.test(t)?Zb:Yb)),void 0===r?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=n.find.attr(e,t),null==s?void 0:s):null!==r?i&&"set"in i&&void 0!==(s=i.set(e,r,t))?s:(e.setAttribute(t,r+""),r):void n.removeAttr(e,t))},removeAttr:function(e,t){var r,i,s=0,o=t&&t.match(E);if(o&&1===e.nodeType)while(r=o[s++])i=n.propFix[r]||r,n.expr.match.bool.test(r)&&(e[i]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!k.radioValue&&"radio"===t&&n.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),Zb={set:function(e,t,r){return t===!1?n.removeAttr(e,r):e.setAttribute(r,r),r}},n.each(n.expr.match.bool.source.match(/\w+/g),function(e,t){var r=$b[t]||n.find.attr;$b[t]=function(e,t,n){var i,s;return n||(s=$b[t],$b[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,$b[t]=s),i}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(e,t){return J(this,n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[n.propFix[e]||e]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,r){var i,s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!n.isXMLDoc(e),o&&(t=n.propFix[t]||t,s=n.propHooks[t]),void 0!==r?s&&"set"in s&&void 0!==(i=s.set(e,r,t))?i:e[t]=r:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||_b.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(e){var t,r,i,s,o,u,a="string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ac," "):" ")){o=0;while(s=t[o++])i.indexOf(" "+s+" ")<0&&(i+=s+" ");u=n.trim(i),r.className!==u&&(r.className=u)}return this},removeClass:function(e){var t,r,i,s,o,u,a=0===arguments.length||"string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ac," "):"")){o=0;while(s=t[o++])while(i.indexOf(" "+s+" ")>=0)i=i.replace(" "+s+" "," ");u=e?n.trim(i):"",r.className!==u&&(r.className=u)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):this.each(n.isFunction(e)?function(r){n(this).toggleClass(e.call(this,r,this.className,t),t)}:function(){if("string"===r){var t,i=0,s=n(this),o=e.match(E)||[];while(t=o[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(r===U||"boolean"===r)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||e===!1?"":L.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ac," ").indexOf(t)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(e){var t,r,i,s=this[0];if(arguments.length)return i=n.isFunction(e),this.each(function(r){var s;1===this.nodeType&&(s=i?e.call(this,r,n(this).val()):e,null==s?s="":"number"==typeof s?s+="":n.isArray(s)&&(s=n.map(s,function(e){return null==e?"":e+""})),t=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=n.valHooks[s.type]||n.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(s,"value"))?r:(r=s.value,"string"==typeof r?r.replace(bc,""):null==r?"":r)}}),n.extend({valHooks:{option:{get:function(e){var t=n.find.attr(e,"value");return null!=t?t:n.trim(n.text(e))}},select:{get:function(e){for(var t,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,u=o?null:[],a=o?s+1:i.length,f=0>s?a:o?s:0;a>f;f++)if(r=i[f],!(!r.selected&&f!==s||(k.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&n.nodeName(r.parentNode,"optgroup"))){if(t=n(r).val(),o)return t;u.push(t)}return u},set:function(e,t){var r,i,s=e.options,o=n.makeArray(t),u=s.length;while(u--)i=s[u],(i.selected=n.inArray(i.value,o)>=0)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(e,t){return n.isArray(t)?e.checked=n.inArray(n(e).val(),t)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){n.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(e){return JSON.parse(e+"")},n.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,t=r.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+e),t};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?tc(tc(e,n.ajaxSettings),t):tc(n.ajaxSettings,e)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(e,t){function T(e,t,o,a){var l,g,y,w,E,x=t;2!==b&&(b=2,u&&clearTimeout(u),r=void 0,s=a||"",S.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(w=uc(c,S,o)),w=vc(c,w,S,l),l?(c.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(n.lastModified[i]=E),E=S.getResponseHeader("etag"),E&&(n.etag[i]=E)),204===e||"HEAD"===c.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,l=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),S.status=e,S.statusText=(t||x)+"",l?d.resolveWith(h,[g,x,S]):d.rejectWith(h,[S,x,y]),S.statusCode(m),m=void 0,f&&p.trigger(l?"ajaxSuccess":"ajaxError",[S,c,l?g:y]),v.fireWith(h,[S,x]),f&&(p.trigger("ajaxComplete",[S,c]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,a,f,l,c=n.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?n(h):n.event,d=n.Deferred(),v=n.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o){o={};while(t=ic.exec(s))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),T(0,t),this}};if(d.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,c.url=((e||c.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=n.trim(c.dataType||"*").toLowerCase().match(E)||[""],null==c.crossDomain&&(a=mc.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ec[1]&&a[2]===ec[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=n.param(c.data,c.traditional)),sc(nc,c,t,S),2===b)return S;f=c.global,f&&0===n.active++&&n.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!kc.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(dc.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=hc.test(i)?i.replace(hc,"$1_="+cc++):i+(dc.test(i)?"&":"?")+"_="+cc++)),c.ifModified&&(n.lastModified[i]&&S.setRequestHeader("If-Modified-Since",n.lastModified[i]),n.etag[i]&&S.setRequestHeader("If-None-Match",n.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",c.contentType),S.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+pc+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)S.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,S,c)!==!1&&2!==b){w="abort";for(l in{success:1,error:1,complete:1})S[l](c[l]);if(r=sc(oc,c,t,S)){S.readyState=1,f&&p.trigger("ajaxSend",[S,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},c.timeout));try{b=1,r.send(g,T)}catch(x){if(!(2>b))throw x;T(-1,x)}}else T(-1,"No Transport");return S}return S.abort()},getJSON:function(e,t,r){return n.get(e,t,r,"json")},getScript:function(e,t){return n.get(e,void 0,t,"script")}}),n.each(["get","post"],function(e,t){n[t]=function(e,r,i,s){return n.isFunction(r)&&(s=s||i,i=r,r=void 0),n.ajax({url:e,type:t,dataType:s,data:r,success:i})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){n.fn[t]=function(e){return this.on(t,e)}}),n._evalUrl=function(e){return n.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(e){var t;return n.isFunction(e)?this.each(function(t){n(this).wrapAll(e.call(this,t))}):(this[0]&&(t=n(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(n.isFunction(e)?function(t){n(this).wrapInner(e.call(this,t))}:function(){var t=n(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=n.isFunction(e);return this.each(function(r){n(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},n.expr.filters.visible=function(e){return!n.expr.filters.hidden(e)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;n.param=function(e,t){var r,i=[],s=function(e,t){t=n.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(e)||e.jquery&&!n.isPlainObject(e))n.each(e,function(){s(this.name,this.value)});else for(r in e)Bc(r,e[r],t,s);return i.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=n.prop(this,"elements");return e?n.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(e)&&(this.checked||!T.test(e))}).map(function(e,t){var r=n(this).val();return null==r?null:n.isArray(r)?n.map(r,function(e){return{name:t.name,value:e.replace(yc,"\r\n")}}):{name:t.name,value:r.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var e in Dc)Dc[e]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(e){var t;return k.cors||Fc&&!e.crossDomain?{send:function(n,r){var i,s=e.xhr(),o=++Cc;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Dc[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status,s.statusText):r(Ec[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Dc[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return n.globalEval(e),e}}}),n.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),n.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,s){t=n("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&s("error"===e.type?404:200,e.type)}),l.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gc.pop()||n.expando+"_"+cc++;return this[e]=!0,e}}),n.ajaxPrefilter("json jsonp",function(e,t,r){var i,s,o,u=e.jsonp!==!1&&(Hc.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(e.data)&&"data");return u||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=n.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Hc,"$1"+i):e.jsonp!==!1&&(e.url+=(dc.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||n.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=a[i],a[i]=function(){o=arguments},r.always(function(){a[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Gc.push(i)),o&&n.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),n.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||l;var i=v.exec(e),s=!r&&[];return i?[t.createElement(i[1])]:(i=n.buildFragment([e],t,s),s&&s.length&&n(s).remove(),n.merge([],i.childNodes))};var Ic=n.fn.load;n.fn.load=function(e,t,r){if("string"!=typeof e&&Ic)return Ic.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=n.trim(e.slice(a)),e=e.slice(0,a)),n.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),u.length>0&&n.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){o=arguments,u.html(i?n("<div>").append(n.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},n.expr.filters.animated=function(e){return n.grep(n.timers,function(t){return e===t.elem}).length};var Jc=a.document.documentElement;n.offset={setOffset:function(e,t,r){var i,s,o,u,a,f,l,c=n.css(e,"position"),h=n(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=n.css(e,"top"),f=n.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+f).indexOf("auto")>-1,l?(i=h.position(),u=i.top,s=i.left):(u=parseFloat(o)||0,s=parseFloat(f)||0),n.isFunction(t)&&(t=t.call(e,r,a)),null!=t.top&&(p.top=t.top-a.top+u),null!=t.left&&(p.left=t.left-a.left+s),"using"in t?t.using.call(e,p):h.css(p)}},n.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){n.offset.setOffset(this,e,t)});var t,r,i=this[0],s={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,n.contains(t,i)?(typeof i.getBoundingClientRect!==U&&(s=i.getBoundingClientRect()),r=Kc(o),{top:s.top+r.pageYOffset-t.clientTop,left:s.left+r.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===n.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),n.nodeName(e[0],"html")||(i=e.offset()),i.top+=n.css(e[0],"borderTopWidth",!0),i.left+=n.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-n.css(r,"marginTop",!0),left:t.left-i.left-n.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||Jc;while(e&&!n.nodeName(e,"html")&&"static"===n.css(e,"position"))e=e.offsetParent;return e||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;n.fn[e]=function(n){return J(this,function(e,n,i){var s=Kc(e);return void 0===i?s?s[t]:e[n]:void (s?s.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):e[n]=i)},e,n,arguments.length,null)}}),n.each(["top","left"],function(e,t){n.cssHooks[t]=yb(k.pixelPosition,function(e,r){return r?(r=xb(e,t),vb.test(r)?n(e).position()[t]+"px":r):void 0})}),n.each({Height:"height",Width:"width"},function(e,t){n.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){n.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return J(this,function(t,r,i){var s;return n.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?n.css(t,r,u):n.style(t,r,i,u)},t,o?i:void 0,o,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(e){return a.$===n&&(a.$=Mc),e&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});var Handlebars=function(){var e=function(){function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){function t(e){return u[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function r(e){return e instanceof o?e.toString():e||0===e?(e=""+e,f.test(e)?e.replace(a,t):e):""}function i(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}var s={},o=e,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,f=/[&<>"'`]/;s.extend=n;var l=Object.prototype.toString;s.toString=l;var c=function(e){return"function"==typeof e};c(/x/)&&(c=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)});var c;s.isFunction=c;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===l.call(e):!1};return s.isArray=h,s.escapeExpression=r,s.isEmpty=i,s}(e),n=function(){function e(e,t){var r;t&&t.firstLine&&(r=t.firstLine,e+=" - "+r+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),s=0;s<n.length;s++)this[n[s]]=i[n[s]];r&&(this.lineNumber=r,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),r=function(e,t){function n(e,t){this.helpers=e||{},this.partials=t||{},r(this)}function r(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new u("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},i=n.fn;return h(t)&&(t=t.call(this)),t===!0?i(this):t===!1||null==t?r(this):c(t)?t.length>0?e.helpers.each(t,n):r(this):i(t)}),e.registerHelper("each",function(e,t){var n,r=t.fn,i=t.inverse,s=0,o="";if(h(e)&&(e=e.call(this)),t.data&&(n=m(t.data)),e&&"object"==typeof e)if(c(e))for(var u=e.length;u>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1),o+=r(e[s],{data:n});else for(var a in e)e.hasOwnProperty(a)&&(n&&(n.key=a,n.index=s,n.first=0===s),o+=r(e[a],{data:n}),s++);return 0===s&&(o=i(this)),o}),e.registerHelper("if",function(e,t){return h(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return h(e)&&(e=e.call(this)),o.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)})}function i(e,t){v.log(e,t)}var s={},o=e,u=t,a="1.3.0";s.VERSION=a;var f=4;s.COMPILER_REVISION=f;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};s.REVISION_CHANGES=l;var c=o.isArray,h=o.isFunction,p=o.toString,d="[object Object]";s.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:v,log:i,registerHelper:function(e,t,n){if(p.call(e)===d){if(n||t)throw new u("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){p.call(e)===d?o.extend(this.partials,e):this.partials[e]=t}};var v={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(v.level<=e){var n=v.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};s.logger=v,s.log=i;var m=function(e){var t={};return o.extend(t,e),t};return s.createFrame=m,s}(t,n),i=function(e,t,n){function r(e){var t=e&&e[0]||1,n=h;if(t!==n){if(n>t){var r=p[n],i=p[t];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new c("No environment passed to template");var n=function(e,n,r,i,s,o){var u=t.VM.invokePartial.apply(this,arguments);if(null!=u)return u;if(t.compile){var a={helpers:i,partials:s,data:o};return s[n]=t.compile(e,{data:void 0!==o},t),s[n](r,a)}throw new c("The partial "+n+" could not be compiled when running in runtime-only mode")},r={escapeExpression:l.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=o(e,t,n):r||(r=this.programs[e]=o(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},l.extend(n,t),l.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,i){i=i||{};var s,o,u=i.partial?i:t;i.partial||(s=i.helpers,o=i.partials);var a=e.call(r,u,n,s,o,i.data);return i.partial||t.VM.checkRevision(r.compilerInfo),a}}function s(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i}function o(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r}function u(e,t,n,r,i,s){var o={partial:!0,helpers:r,partials:i,data:s};if(void 0===e)throw new c("The partial "+t+" could not be found");return e instanceof Function?e(n,o):void 0}function a(){return""}var f={},l=e,c=t,h=n.COMPILER_REVISION,p=n.REVISION_CHANGES;return f.checkRevision=r,f.template=i,f.programWithDepth=s,f.program=o,f.invokePartial=u,f.noop=a,f}(t,n,r),s=function(e,t,n,r,i){var s,o=e,u=t,a=n,f=r,l=i,c=function(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u,e.Exception=a,e.Utils=f,e.VM=l,e.template=function(t){return l.template(t,e)},e},h=c();return h.create=c,s=h}(r,e,n,t,i),o=function(e){function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var n,r=e,i={ProgramNode:function(e,n,r,s){var o,u;3===arguments.length?(s=r,r=null):2===arguments.length&&(s=n,n=null),t.call(this,s),this.type="program",this.statements=e,this.strip={},r?(u=r[0],u?(o={first_line:u.firstLine,last_line:u.lastLine,last_column:u.lastColumn,first_column:u.firstColumn},this.inverse=new i.ProgramNode(r,n,o)):this.inverse=new i.ProgramNode(r,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(e,n,r,s,o){if(t.call(this,o),this.type="mustache",this.strip=s,null!=r&&r.charAt){var u=r.charAt(3)||r.charAt(2);this.escaped="{"!==u&&"&"!==u}else this.escaped=!!r;this.sexpr=e instanceof i.SexprNode?e:new i.SexprNode(e,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,n,r){t.call(this,r),this.type="sexpr",this.hash=n;var i=this.id=e[0],s=this.params=e.slice(1),o=this.eligibleHelper=i.isSimple;this.isHelper=o&&(s.length||n)},PartialNode:function(e,n,r,i){t.call(this,i),this.type="partial",this.partialName=e,this.context=n,this.strip=r},BlockNode:function(e,n,i,s,o){if(t.call(this,o),e.sexpr.id.original!==s.path.original)throw new r(e.sexpr.id.original+" doesn't match "+s.path.original,this);this.type="block",this.mustache=e,this.program=n,this.inverse=i,this.strip={left:e.strip.left,right:s.strip.right},(n||i).strip.left=e.strip.right,(i||n).strip.right=s.strip.left,i&&!n&&(this.isInverse=!0)},ContentNode:function(e,n){t.call(this,n),this.type="content",this.string=e},HashNode:function(e,n){t.call(this,n),this.type="hash",this.pairs=e},IdNode:function(e,n){t.call(this,n),this.type="ID";for(var i="",s=[],o=0,u=0,a=e.length;a>u;u++){var f=e[u].part;if(i+=(e[u].separator||"")+f,".."===f||"."===f||"this"===f){if(s.length>0)throw new r("Invalid path: "+i,this);".."===f?o++:this.isScoped=!0}else s.push(f)}this.original=i,this.parts=s,this.string=s.join("."),this.depth=o,this.isSimple=1===e.length&&!this.isScoped&&0===o,this.stringModeValue=this.string},PartialNameNode:function(e,n){t.call(this,n),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,n){t.call(this,n),this.type="DATA",this.id=e},StringNode:function(e,n){t.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,n){t.call(this,n),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,n){t.call(this,n),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,n){t.call(this,n),this.type="comment",this.comment=e}};return n=i}(n),u=function(){var e,t=function(){function e(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,n,r,i,s,o){var u=o.length-1;switch(s){case 1:return new i.ProgramNode(o[u-1],this._$);case 2:return new i.ProgramNode([],this._$);case 3:this.$=new i.ProgramNode([],o[u-1],o[u],this._$);break;case 4:this.$=new i.ProgramNode(o[u-2],o[u-1],o[u],this._$);break;case 5:this.$=new i.ProgramNode(o[u-1],o[u],[],this._$);break;case 6:this.$=new i.ProgramNode(o[u],this._$);break;case 7:this.$=new i.ProgramNode([],this._$);break;case 8:this.$=new i.ProgramNode([],this._$);break;case 9:this.$=[o[u]];break;case 10:o[u-1].push(o[u]),this.$=o[u-1];break;case 11:this.$=new i.BlockNode(o[u-2],o[u-1].inverse,o[u-1],o[u],this._$);break;case 12:this.$=new i.BlockNode(o[u-2],o[u-1],o[u-1].inverse,o[u],this._$);break;case 13:this.$=o[u];break;case 14:this.$=o[u];break;case 15:this.$=new i.ContentNode(o[u],this._$);break;case 16:this.$=new i.CommentNode(o[u],this._$);break;case 17:this.$=new i.MustacheNode(o[u-1],null,o[u-2],e(o[u-2],o[u]),this._$);break;case 18:this.$=new i.MustacheNode(o[u-1],null,o[u-2],e(o[u-2],o[u]),this._$);break;case 19:this.$={path:o[u-1],strip:e(o[u-2],o[u])};break;case 20:this.$=new i.MustacheNode(o[u-1],null,o[u-2],e(o[u-2],o[u]),this._$);break;case 21:this.$=new i.MustacheNode(o[u-1],null,o[u-2],e(o[u-2],o[u]),this._$);break;case 22:this.$=new i.PartialNode(o[u-2],o[u-1],e(o[u-3],o[u]),this._$);break;case 23:this.$=e(o[u-1],o[u]);break;case 24:this.$=new i.SexprNode([o[u-2]].concat(o[u-1]),o[u],this._$);break;case 25:this.$=new i.SexprNode([o[u]],null,this._$);break;case 26:this.$=o[u];break;case 27:this.$=new i.StringNode(o[u],this._$);break;case 28:this.$=new i.IntegerNode(o[u],this._$);break;case 29:this.$=new i.BooleanNode(o[u],this._$);break;case 30:this.$=o[u];break;case 31:o[u-1].isHelper=!0,this.$=o[u-1];break;case 32:this.$=new i.HashNode(o[u],this._$);break;case 33:this.$=[o[u-2],o[u]];break;case 34:this.$=new i.PartialNameNode(o[u],this._$);break;case 35:this.$=new i.PartialNameNode(new i.StringNode(o[u],this._$),this._$);break;case 36:this.$=new i.PartialNameNode(new i.IntegerNode(o[u],this._$));break;case 37:this.$=new i.DataNode(o[u],this._$);break;case 38:this.$=new i.IdNode(o[u],this._$);break;case 39:o[u-2].push({part:o[u],separator:o[u-1]}),this.$=o[u-2];break;case 40:this.$=[{part:o[u]}];break;case 43:this.$=[];break;case 44:o[u-1].push(o[u]);break;case 47:this.$=[o[u]];break;case 48:o[u-1].push(o[u])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;s.push(c);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,v,m,g,y,b,w,E,S={};;){if(v=r[r.length-1],this.defaultActions[v]?m=this.defaultActions[v]:((null===p||"undefined"==typeof p)&&(p=t()),m=o[v]&&o[v][p]),"undefined"==typeof m||!m.length||!m[0]){var x="";if(!l){E=[];for(y in o[v])this.terminals_[y]&&y>2&&E.push("'"+this.terminals_[y]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:E})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+p);switch(m[0]){case 1:r.push(p),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(m[1]),p=null,d?(p=d,d=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(b=this.productions_[m[1]][1],S.$=i[i.length-b],S._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},h&&(S._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),g=this.performAction.call(S,u,f,a,this.yy,m[1],i,s),"undefined"!=typeof g)return g;b&&(r=r.slice(0,-1*b*2),i=i.slice(0,-1*b),s=s.slice(0,-1*b)),r.push(this.productions_[m[1]][0]),i.push(S.$),s.push(S._$),w=o[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},r=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(n=this._input.match(this.rules[s[o]]),!n||t&&!(n[0].length>t[0].length)||(t=n,r=o,this.options.flex));o++);return t?(i=t[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,r){function i(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return i(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return i(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=i(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=i(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=i(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return n.lexer=r,t.prototype=n,n.Parser=t,new t}();return e=t}(),a=function(e,t){function n(e){return e.constructor===s.ProgramNode?e:(i.yy=s,i.parse(e))}var r={},i=e,s=t;return r.parser=i,r.parse=n,r}(u,o),f=function(e){function t(){}function n(e,t,n){if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var r=n.parse(e),i=(new n.Compiler).compile(r,t);return(new n.JavaScriptCompiler).compile(i,t)}function r(e,t,n){function r(){var r=n.parse(e),i=(new n.Compiler).compile(r,t),s=(new n.JavaScriptCompiler).compile(i,t,void 0,!0);return n.template(s)}if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var i;return function(e,t){return i||(i=r()),i.call(this,e,t)}}var i={},s=e;return i.Compiler=t,t.prototype={compiler:t,disassemble:function(){for(var e,t,n,r=this.opcodes,i=[],s=0,o=r.length;o>s;s++)if(e=r[s],"DECLARE"===e.opcode)i.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var u=0;u<e.args.length;u++)n=e.args[u],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);i.push(e.opcode+" "+t.join(" "))}return i.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||r.args.length!==i.args.length)return!1;for(var s=0;s<r.args.length;s++)if(r.args[s]!==i.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.accept(e)},accept:function(e){var t,n=e.strip||{};return n.left&&this.opcode("strip"),t=this[e.type](e),n.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,n=0,r=t.length;r>n;n++)this.accept(t[n]);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),r=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[r]=n;for(var i=0,s=n.depths.list.length;s>i;i++)t=n.depths.list[i],2>t||this.addDepth(t-1);return r},block:function(e){var t=e.mustache,n=e.program,r=e.inverse;n&&(n=this.compileProgram(n)),r&&(r=this.compileProgram(r));var i=t.sexpr,s=this.classifySexpr(i);"helper"===s?this.helperSexpr(i,n,r):"simple"===s?(this.simpleSexpr(i),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(i,n,r),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,r=e.pairs;this.opcode("pushHash");for(var i=0,s=r.length;s>i;i++)t=r[i],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(e,t,n){var r=e.id,i=r.parts[0],s=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",i,s)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),i=e.id.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else{if(this.options.knownHelpersOnly)throw new s("You specified knownHelpersOnly, but used the unknown helper "+i,e);this.opcode("invokeHelper",r.length,i,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,r=e.parts.length;r>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new s("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");for(var t=e.id.parts,n=0,r=t.length;r>n;n++)this.opcode("lookup",t[n])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,r=this.options;if(n&&!t){var i=e.id.parts[0];r.knownHelpers[i]?t=!0:r.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(e,t,n){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),r}},i.precompile=n,i.compile=r,i}(n),l=function(e,t){function n(e){this.value=e}function r(){}var i,s=e.COMPILER_REVISION,o=e.REVISION_CHANGES,u=e.log,a=t;r.prototype={nameLookup:function(e,t){var n,i;return 0===e.indexOf("depth")&&(n=!0),i=/^[0-9]+$/.test(t)?e+"["+t+"]":r.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",n?"("+e+" && "+i+")":i},compilerInfo:function(){var e=s,t=o[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},u("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var i,s=e.opcodes;this.i=0;for(var o=s.length;this.i<o;this.i++)i=s[this.i],"DECLARE"===i.opcode?this[i.name]=i.value:this[i.opcode].apply(this,i.args),i.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a("Compile completed with content left on stack");return this.createFunctionContext(r)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],i=0,s=this.environment.depths.list.length;s>i;i++)r.push("depth"+this.environment.depths.list[i]);var o=this.mergeSource();if(this.isChild||(o=this.compilerInfo()+o),e)return r.push(o),Function.apply(this,r);var a="function "+(this.name||"")+"("+r.join(",")+") {\n  "+o+"}";return u("debug",a+"\n\n"),a},mergeSource:function(){for(var e,t="",n=0,r=this.source.length;r>n;n++){var i=this.source[n];i.appendToBuffer?e=e?e+"\n    + "+i.content:i.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=i+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var r=this.lastHelper=this.setupHelper(e,t,!0),i=this.nameLookup("depth"+this.lastContext,t,"context"),s="helper = "+r.name+" || "+i;r.paramsInit&&(s+=","+r.paramsInit),this.push("("+s+",helper ? helper.call("+r.callParams+") : helperMissing.call("+r.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),i=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+r+") { "+s+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+i+"; "+s+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,r=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var i=this.hash;t&&i.contexts.push("'"+e+"': "+t),n&&i.types.push("'"+e+"': "+n),i.values.push("'"+e+"': ("+r+")")},compiler:r,compileChildren:function(e,t){for(var n,r,i=e.children,s=0,o=i.length;o>s;s++){n=i[s],r=new this.compiler;var u=this.matchExistingProgram(n);null==u?(this.context.programs.push(""),u=this.context.programs.length,n.index=u,n.name="program"+u,this.context.programs[u]=r.compile(n,t,this.context),this.context.environments[u]=n):(n.index=u,n.name="program"+u)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var r=this.context.environments[t];if(r&&r.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],r=n.depths.list,i=[n.index,n.name,"data"],s=0,o=r.length;o>s;s++)t=r[s],1===t?i.push("depth0"):i.push("depth"+(t-1));return(0===r.length?"self.program(":"self.programWithDepth(")+i.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,r,i,s="",o=this.isInline();if(o){var u=this.popStack(!0);if(u instanceof n)t=u.value,i=!0;else{r=!this.stackSlot;var a=r?this.incrStack():this.topStackName();s="("+this.push(a)+" = "+u+"),",t=this.topStack()}}else t=this.topStack();var f=e.call(this,t);return o?(i||this.popStack(),r&&this.stackSlot--,this.push("("+s+f+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+s+f+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,r=e.length;r>t;t++){var i=e[t];i instanceof n?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),r=(t?this.inlineStack:this.compileStack).pop();if(!e&&r instanceof n)return r.value;if(!t){if(!this.stackSlot)throw new a("Invalid stack pop");this.stackSlot--}return r},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,r=t[t.length-1];return!e&&r instanceof n?r.value:r},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var r=[],i=this.setupParams(e,r,n),s=this.nameLookup("helpers",t,"helper");return{params:r,paramsInit:i,name:s,callParams:["depth0"].concat(r).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(r).join(", ")}},setupOptions:function(e,t){var n,r,i,s=[],o=[],u=[];s.push("hash:"+this.popStack()),this.options.stringParams&&(s.push("hashTypes:"+this.popStack()),s.push("hashContexts:"+this.popStack())),r=this.popStack(),i=this.popStack(),(i||r)&&(i||(this.context.aliases.self="this",i="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),s.push("inverse:"+r),s.push("fn:"+i));for(var a=0;e>a;a++)n=this.popStack(),t.push(n),this.options.stringParams&&(u.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+o.join(",")+"]"),s.push("types:["+u.join(",")+"]")),this.options.data&&s.push("data:data"),s},setupParams:function(e,t,n){var r="{"+this.setupOptions(e,t).join(",")+"}";return n?(this.useRegister("options"),t.push("options"),"options="+r):(t.push(r),"")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),l=r.RESERVED_WORDS={},c=0,h=f.length;h>c;c++)l[f[c]]=!0;return r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)?!0:!1},i=r}(r,n),c=function(e,t,n,r,i){var s,o=e,u=t,a=n.parser,f=n.parse,l=r.Compiler,c=r.compile,h=r.precompile,p=i,d=o.create,v=function(){var e=d();return e.compile=function(t,n){return c(t,n,e)},e.precompile=function(t,n){return h(t,n,e)},e.AST=u,e.Compiler=l,e.JavaScriptCompiler=p,e.Parser=a,e.parse=f,e};return o=v(),o.create=v,s=o}(s,o,a,f,l);return c}();define("handlebars",function(){}),!function(){var e,t,n,r,i;!function(){if(i=this.Ember=this.Ember||{},"undefined"==typeof i&&(i={}),"undefined"==typeof i.__loader){var s={},o={};e=function(e,t,n){s[e]={deps:t,callback:n}},r=n=t=function(e){function n(t){if("."!==t.charAt(0))return t;for(var n=t.split("/"),r=e.split("/").slice(0,-1),i=0,s=n.length;s>i;i++){var o=n[i];if(".."===o)r.pop();else{if("."===o)continue;r.push(o)}}return r.join("/")}if(o.hasOwnProperty(e))return o[e];if(o[e]={},!s[e])throw new Error("Could not find module "+e);for(var r,i=s[e],u=i.deps,f=i.callback,l=[],c=0,h=u.length;h>c;c++)"exports"===u[c]?l.push(r={}):l.push(t(n(u[c])));var p=f.apply(this,l);return o[e]=r||p},r._eak_seen=s,i.__loader={define:e,require:n,registry:s}}else e=i.__loader.define,r=n=t=i.__loader.require}(),function(){e("ember-metal/array",["exports"],function(){var e=arguments,t=e[e.length-1],n=Array.prototype,r=function(e){return e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1},s=r(n.map)?n.map:function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=new Array(n),i=arguments[1],s=0;n>s;s++)s in t&&(r[s]=e.call(i,t[s],s,t));return r},o=r(n.forEach)?n.forEach:function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=arguments[1],i=0;n>i;i++)i in t&&e.call(r,t[i],i,t)},u=r(n.indexOf)?n.indexOf:function(e,t){null===t||void 0===t?t=0:0>t&&(t=Math.max(0,this.length+t));for(var n=t,r=this.length;r>n;n++)if(this[n]===e)return n;return-1},a=r(n.filter)?n.filter:function(e,t){var n,r,i=[],s=this.length;for(n=0;s>n;n++)this.hasOwnProperty(n)&&(r=this[n],e.call(t,r,n,this)&&i.push(r));return i};i.SHIM_ES5&&(n.map||(n.map=s),n.forEach||(n.forEach=o),n.filter||(n.filter=a),n.indexOf||(n.indexOf=u)),t.map=s,t.forEach=o,t.filter=a,t.indexOf=u}),e("ember-metal/binding",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/map","ember-metal/observer","ember-metal/run_loop","exports"],function(){function e(e){return m.test(e)}function t(t,n){return a(e(n)?u.lookup:t,n)}function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function r(e,t,n){return(new g(t,n)).connect(e)}function i(e,t,n){return(new g(t,n)).oneWay().connect(e)}var s=arguments,o=s[s.length-1],u=s[0]["default"],a=s[1].get,f=(s[2].set,s[2].trySet),l=s[3].guidFor,c=s[4].Map,h=s[5].addObserver,p=s[5].removeObserver,d=s[5]._suspendObserver,v=s[6]["default"];u.LOG_BINDINGS=!!u.ENV.LOG_BINDINGS;var m=/^([A-Z$]|([0-9][A-Z$]))/,g=function(e,t){this._direction="fwd",this._from=t,this._to=e,this._directionMap=c.create()};g.prototype={copy:function(){var e=new g(this._to,this._from);return this._oneWay&&(e._oneWay=!0),e},from:function(e){return this._from=e,this},to:function(e){return this._to=e,this},oneWay:function(){return this._oneWay=!0,this},toString:function(){var e=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+l(this)+">("+this._from+" -> "+this._to+")"+e},connect:function(e){var n=this._from,r=this._to;return f(e,r,t(e,n)),h(e,n,this,this.fromDidChange),this._oneWay||h(e,r,this,this.toDidChange),this._readyToSync=!0,this},disconnect:function(e){var t=!this._oneWay;return p(e,this._from,this,this.fromDidChange),t&&p(e,this._to,this,this.toDidChange),this._readyToSync=!1,this},fromDidChange:function(e){this._scheduleSync(e,"fwd")},toDidChange:function(e){this._scheduleSync(e,"back")},_scheduleSync:function(e,t){var n=this._directionMap,r=n.get(e);r||(v.schedule("sync",this,this._sync,e),n.set(e,t)),"back"===r&&"fwd"===t&&n.set(e,"fwd")},_sync:function(n){var r=u.LOG_BINDINGS;if(!n.isDestroyed&&this._readyToSync){var i=this._directionMap,s=i.get(n),o=this._from,l=this._to;if(i.remove(n),"fwd"===s){var c=t(n,this._from);r&&u.Logger.log(" ",this.toString(),"->",c,n),this._oneWay?f(n,l,c):d(n,l,this,this.toDidChange,function(){f(n,l,c)})}else if("back"===s){var h=a(n,this._to);r&&u.Logger.log(" ",this.toString(),"<-",h,n),d(n,o,this,this.fromDidChange,function(){f(e(o)?u.lookup:n,o,h)})}}}},n(g,{from:function(){var e=this,t=new e;return t.from.apply(t,arguments)},to:function(){var e=this,t=new e;return t.to.apply(t,arguments)},oneWay:function(e,t){var n=this,r=new n(null,e);return r.oneWay(t)}}),o.Binding=g,o.bind=r,o.oneWay=i,o.isGlobalPath=e}),e("ember-metal/chains",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/array","ember-metal/watch_key","exports"],function(){function e(e){return e.match(b)[0]}function t(){if(0!==w.length){var e=w;w=[],d.call(e,function(e){e[0].add(e[1])}),y("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",0===w.length)}}function n(e,t,n){if(e&&"object"==typeof e){var r=g(e),i=r.chainWatchers;r.hasOwnProperty("chainWatchers")||(i=r.chainWatchers={}),i[t]||(i[t]=[]),i[t].push(n),v(e,t,r)}}function r(e,t,n){if(e&&"object"==typeof e){var r=e[p];if(!r||r.hasOwnProperty("chainWatchers")){var i=r&&r.chainWatchers;if(i&&i[t]){i=i[t];for(var s=0,o=i.length;o>s;s++)i[s]===n&&i.splice(s,1)}m(e,t,r)}}}function i(e,t,r){this._parent=e,this._key=t,this._watching=void 0===r,this._value=r,this._paths={},this._watching&&(this._object=e.value(),this._object&&n(this._object,this._key,this)),this._parent&&"@each"===this._parent._key&&this.value()}function s(e,t){if(!e)return void 0;var n=e[p];if(n&&n.proto===e)return void 0;if("@each"===t)return l(e,t);var r=n&&n.descs[t];return r&&r._cacheable?t in n.cache?n.cache[t]:void 0:l(e,t)}function o(e){var t=e[p],n=t&&t.chains;n&&(n.value()!==e?g(e).chains=n=n.copy(e):n.didChange(null))}var u=arguments,a=u[u.length-1],f=u[0]["default"],l=u[1].get,c=u[1].normalizeTuple,h=u[2].meta,p=u[2].META_KEY,d=u[3].forEach,v=u[4].watchKey,m=u[4].unwatchKey,g=h,y=f.warn,b=/^([^\.]+)/,w=[],E=i.prototype;E.value=function(){if(void 0===this._value&&this._watching){var e=this._parent.value();this._value=s(e,this._key)}return this._value},E.destroy=function(){if(this._watching){var e=this._object;e&&r(e,this._key,this),this._watching=!1}},E.copy=function(e){var t,n=new i(null,null,e),r=this._paths;for(t in r)r[t]<=0||n.add(t);return n},E.add=function(t){var n,r,i,s,o;if(o=this._paths,o[t]=(o[t]||0)+1,n=this.value(),r=c(n,t),r[0]&&r[0]===n)t=r[1],i=e(t),t=t.slice(i.length+1);else{if(!r[0])return w.push([this,t]),r.length=0,void 0;s=r[0],i=t.slice(0,0-(r[1].length+1)),t=r[1]}r.length=0,this.chain(i,t,s)},E.remove=function(t){var n,r,i,s,o;o=this._paths,o[t]>0&&o[t]--,n=this.value(),r=c(n,t),r[0]===n?(t=r[1],i=e(t),t=t.slice(i.length+1)):(s=r[0],i=t.slice(0,0-(r[1].length+1)),t=r[1]),r.length=0,this.unchain(i,t)},E.count=0,E.chain=function(t,n,r){var s,o=this._chains;o||(o=this._chains={}),s=o[t],s||(s=o[t]=new i(this,t,r)),s.count++,n&&n.length>0&&(t=e(n),n=n.slice(t.length+1),s.chain(t,n))},E.unchain=function(t,n){var r=this._chains,i=r[t];n&&n.length>1&&(t=e(n),n=n.slice(t.length+1),i.unchain(t,n)),i.count--,i.count<=0&&(delete r[i._key],i.destroy())},E.willChange=function(e){var t=this._chains;if(t)for(var n in t)t.hasOwnProperty(n)&&t[n].willChange(e);this._parent&&this._parent.chainWillChange(this,this._key,1,e)},E.chainWillChange=function(e,t,n,r){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainWillChange(this,t,n+1,r):(n>1&&r.push(this.value(),t),t="this."+t,this._paths[t]>0&&r.push(this.value(),t))},E.chainDidChange=function(e,t,n,r){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainDidChange(this,t,n+1,r):(n>1&&r.push(this.value(),t),t="this."+t,this._paths[t]>0&&r.push(this.value(),t))},E.didChange=function(e){if(this._watching){var t=this._parent.value();t!==this._object&&(r(this._object,this._key,this),this._object=t,n(t,this._key,this)),this._value=void 0,this._parent&&"@each"===this._parent._key&&this.value()}var i=this._chains;if(i)for(var s in i)i.hasOwnProperty(s)&&i[s].didChange(e);null!==e&&this._parent&&this._parent.chainDidChange(this,this._key,1,e)},a.flushPendingChains=t,a.removeChainWatcher=r,a.ChainNode=i,a.finishChains=o}),e("ember-metal/computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/watching","ember-metal/expand_properties","ember-metal/error","ember-metal/properties","ember-metal/property_events","ember-metal/is_empty","ember-metal/is_none","exports"],function(){function e(){}function t(e,t){var n=e[t];return n?e.hasOwnProperty(t)||(n=e[t]=_(n)):n=e[t]={},n}function n(e){return t(e,"deps")}function r(e,r,i,s){var o,u,a,f,l,c=e._dependentKeys;if(c)for(o=n(s),u=0,a=c.length;a>u;u++)f=c[u],l=t(o,f),l[i]=(l[i]||0)+1,w(r,f,s)}function i(e,r,i,s){var o,u,a,f,l,c=e._dependentKeys;if(c)for(o=n(s),u=0,a=c.length;a>u;u++)f=c[u],l=t(o,f),l[i]=(l[i]||0)-1,E(r,f,s)}function s(e,t){e.__ember_arity__=e.length,this.func=e,this._cacheable=t&&void 0!==t.cacheable?t.cacheable:!0,this._dependentKeys=t&&t.dependentKeys,this._readOnly=t&&(void 0!==t.readOnly||!!t.readOnly)||!1}function o(e){for(var t=0,n=e.length;n>t;t++)e[t].didChange(null)}function u(e){var t;if(arguments.length>1&&(t=M.call(arguments,0,-1),e=M.call(arguments,-1)[0]),"function"!=typeof e)throw new x("Computed Property declared without a property function");var n=new s(e);return t&&n.property.apply(n,t),n}function a(t,n){var r=t[g],i=r&&r.cache,s=i&&i[n];return s===e?void 0:s}function f(e,t){for(var n={},r=0;r<t.length;r++)n[t[r]]=d(e,t[r]);return n}function l(e,t){u[e]=function(e){var n=M.call(arguments);return u(e,function(){return t.apply(this,n)})}}function c(e,t){u[e]=function(){var e=M.call(arguments),n=u(function(){return t.apply(this,[f(this,e)])});return n.property.apply(n,e)}}var h=arguments,p=h[h.length-1],d=(h[0]["default"],h[1].get),v=h[2].set,m=h[3].meta,g=h[3].META_KEY,y=(h[3].guidFor,h[3].typeOf,h[3].inspect),b=(h[4]["default"],h[5].create),w=h[6].watch,E=h[6].unwatch,S=h[7]["default"],x=h[8]["default"],T=h[9].Descriptor,N=h[9].defineProperty,C=h[10].propertyWillChange,k=h[10].propertyDidChange,L=h[11]["default"],A=h[12].isNone,O=m,M=[].slice,_=b;s.prototype=new T;var D=s.prototype;D._dependentKeys=void 0,D._suspended=void 0,D._meta=void 0,D.cacheable=function(e){return this._cacheable=e!==!1,this},D.volatile=function(){return this.cacheable(!1)},D.readOnly=function(e){return this._readOnly=void 0===e||!!e,this},D.property=function(){var e,t=function(t){e.push(t)};e=[];for(var n=0,r=arguments.length;r>n;n++)S(arguments[n],t);return this._dependentKeys=e,this},D.meta=function(e){return 0===arguments.length?this._meta||{}:(this._meta=e,this)},D.didChange=function(e,t){if(this._cacheable&&this._suspended!==e){var n=O(e);void 0!==n.cache[t]&&(n.cache[t]=void 0,i(this,e,t,n))}},D.get=function(t,n){var i,s,u,a;if(this._cacheable){u=O(t),s=u.cache;var f=s[n];if(f===e)return void 0;if(void 0!==f)return f;i=this.func.call(t,n),s[n]=void 0===i?e:i,a=u.chainWatchers&&u.chainWatchers[n],a&&o(a),r(this,t,n,u)}else i=this.func.call(t,n);return i},D.set=function(t,n,i){var s,o,u,a=this._cacheable,f=this.func,l=O(t,a),c=this._suspended,h=!1,p=l.cache;if(this._readOnly)throw new x('Cannot set read-only property "'+n+'" on object: '+y(t));this._suspended=t;try{if(a&&void 0!==p[n]&&(o=p[n],h=!0),s=f.wrappedFunction?f.wrappedFunction.__ember_arity__:f.__ember_arity__,3===s)u=f.call(t,n,i,o);else{if(2!==s)return N(t,n,null,o),v(t,n,i),void 0;u=f.call(t,n,i)}if(h&&o===u)return;var d=l.watching[n];d&&C(t,n),h&&(p[n]=void 0),a&&(h||r(this,t,n,l),p[n]=void 0===u?e:u),d&&k(t,n)}finally{this._suspended=c}return u},D.teardown=function(e,t){var n=O(e);return t in n.cache&&i(this,e,t,n),this._cacheable&&delete n.cache[t],null},a.set=function(t,n,r){t[n]=void 0===r?e:r},a.get=function(t,n){var r=t[n];return r===e?void 0:r},a.remove=function(e,t){e[t]=void 0},u.empty=function(e){return u(e+".length",function(){return L(d(this,e))})},l("notEmpty",function(e){return!L(d(this,e))}),l("none",function(e){return A(d(this,e))}),l("not",function(e){return!d(this,e)}),l("bool",function(e){return!!d(this,e)}),l("match",function(e,t){var n=d(this,e);return"string"==typeof n?t.test(n):!1}),l("equal",function(e,t){return d(this,e)===t}),l("gt",function(e,t){return d(this,e)>t}),l("gte",function(e,t){return d(this,e)>=t}),l("lt",function(e,t){return d(this,e)<t}),l("lte",function(e,t){return d(this,e)<=t}),c("and",function(e){for(var t in e)if(e.hasOwnProperty(t)&&!e[t])return!1;return!0}),c("or",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0;return!1}),c("any",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return e[t];return null}),c("collect",function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(A(e[n])?t.push(null):t.push(e[n]));return t}),u.alias=function(e){return u(e,function(t,n){return arguments.length>1?(v(this,e,n),d(this,e)):d(this,e)})},u.oneWay=function(e){return u(e,function(){return d(this,e)})},u.readOnly=function(e){return u(e,function(){return d(this,e)}).readOnly()},u.defaultTo=function(e){return u(function(t,n){return 1===arguments.length?d(this,e):null!=n?n:d(this,e)})},p.ComputedProperty=s,p.computed=u,p.cacheFor=a}),e("ember-metal/core",["exports"],function(){var e=arguments,t=e[e.length-1];"undefined"==typeof i&&(i={});var n=(i.imports=i.imports||this,i.exports=i.exports||this);i.lookup=i.lookup||this,n.Em=n.Ember=i,i.isNamespace=!0,i.toString=function(){return"Ember"},i.VERSION="1.6.0",i.ENV||(i.ENV="undefined"!=typeof EmberENV?EmberENV:"undefined"!=typeof ENV?ENV:{}),i.config=i.config||{},"undefined"==typeof i.ENV.DISABLE_RANGE_API&&(i.ENV.DISABLE_RANGE_API=!0),"undefined"==typeof MetamorphENV&&(n.MetamorphENV={}),MetamorphENV.DISABLE_RANGE_API=i.ENV.DISABLE_RANGE_API,i.FEATURES=i.ENV.FEATURES||{},i.FEATURES.isEnabled=function(e){var t=i.FEATURES[e];return i.ENV.ENABLE_ALL_FEATURES?!0:t===!0||t===!1||void 0===t?t:i.ENV.ENABLE_OPTIONAL_FEATURES?!0:!1},i.EXTEND_PROTOTYPES=i.ENV.EXTEND_PROTOTYPES,"undefined"==typeof i.EXTEND_PROTOTYPES&&(i.EXTEND_PROTOTYPES=!0),i.LOG_STACKTRACE_ON_DEPRECATION=i.ENV.LOG_STACKTRACE_ON_DEPRECATION!==!1,i.SHIM_ES5=i.ENV.SHIM_ES5===!1?!1:i.EXTEND_PROTOTYPES,i.LOG_VERSION=i.ENV.LOG_VERSION===!1?!1:!0,i.K=function(){return this},"undefined"==typeof i.assert&&(i.assert=i.K),"undefined"==typeof i.warn&&(i.warn=i.K),"undefined"==typeof i.debug&&(i.debug=i.K),"undefined"==typeof i.runInDebug&&(i.runInDebug=i.K),"undefined"==typeof i.deprecate&&(i.deprecate=i.K),"undefined"==typeof i.deprecateFunc&&(i.deprecateFunc=function(e,t){return t}),i.uuid=0,t["default"]=i}),e("ember-metal/enumerable_utils",["ember-metal/array","exports"],function(){var e,t,n,r,i,s=arguments,o=s[s.length-1],e=s[0].map,t=s[0].forEach,n=s[0].indexOf,i=s[0].filter;e=Array.prototype.map||e,t=Array.prototype.forEach||t,n=Array.prototype.indexOf||n,i=Array.prototype.filter||i,r=Array.prototype.splice;var u={map:function(t,n,r){return t.map?t.map.call(t,n,r):e.call(t,n,r)},forEach:function(e,n,r){return e.forEach?e.forEach.call(e,n,r):t.call(e,n,r)},filter:function(e,t,n){return e.filter?e.filter.call(e,t,n):i.call(e,t,n)},indexOf:function(e,t,r){return e.indexOf?e.indexOf.call(e,t,r):n.call(e,t,r)},indexesOf:function(e,t){return void 0===t?[]:u.map(t,function(t){return u.indexOf(e,t)})},addObject:function(e,t){var n=u.indexOf(e,t);-1===n&&e.push(t)},removeObject:function(e,t){var n=u.indexOf(e,t);-1!==n&&e.splice(n,1)},_replace:function(e,t,n,i){for(var s,o,u=[].concat(i),a=[],f=6e4,l=t,c=n;u.length;)o=c>f?f:c,0>=o&&(o=0),s=u.splice(0,f),s=[l,o].concat(s),l+=f,c-=o,a=a.concat(r.apply(e,s));return a},replace:function(e,t,n,r){return e.replace?e.replace(t,n,r):u._replace(e,t,n,r)},intersection:function(e,t){var n=[];return u.forEach(e,function(e){u.indexOf(t,e)>=0&&n.push(e)}),n}};o["default"]=u}),e("ember-metal/error",["ember-metal/platform","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].create,r=["description","fileName","lineNumber","message","name","number","stack"],s=function(){var e=Error.apply(this,arguments);Error.captureStackTrace&&Error.captureStackTrace(this,i.Error);for(var t=0;t<r.length;t++)this[r[t]]=e[r[t]]};s.prototype=n(Error.prototype),t["default"]=s}),e("ember-metal/events",["ember-metal/core","ember-metal/utils","ember-metal/platform","exports"],function(){function e(e,t,n){for(var r=-1,i=e.length-3;i>=0;i-=3)if(t===e[i]&&n===e[i+1]){r=i;break}return r}function t(e,t){var n,r=x(e,!0);return r.listeners||(r.listeners={}),r.hasOwnProperty("listeners")||(r.listeners=E(r.listeners)),n=r.listeners[t],n&&!r.listeners.hasOwnProperty(t)?n=r.listeners[t]=r.listeners[t].slice():n||(n=r.listeners[t]=[]),n}function n(t,n,r){var i=t[g],s=i&&i.listeners&&i.listeners[n];if(s)for(var o=s.length-3;o>=0;o-=3){var u=s[o],a=s[o+1],f=s[o+2],l=e(r,u,a);-1===l&&r.push(u,a,f)}}function r(t,n,r){var i=t[g],s=i&&i.listeners&&i.listeners[n],o=[];if(s){for(var u=s.length-3;u>=0;u-=3){var a=s[u],f=s[u+1],l=s[u+2],c=e(r,a,f);-1===c&&(r.push(a,f,l),o.push(a,f,l))}return o}}function i(n,r,i,s,o){s||"function"!=typeof i||(s=i,i=null);var u=t(n,r),a=e(u,i,s),f=0;o&&(f|=T),-1===a&&(u.push(i,s,f),"function"==typeof n.didAddListener&&n.didAddListener(r,i,s))}function s(n,r,i,s){function o(i,s){var o=t(n,r),u=e(o,i,s);-1!==u&&(o.splice(u,3),"function"==typeof n.didRemoveListener&&n.didRemoveListener(r,i,s))}if(s||"function"!=typeof i||(s=i,i=null),s)o(i,s);else{var u=n[g],a=u&&u.listeners&&u.listeners[r];if(!a)return;for(var f=a.length-3;f>=0;f-=3)o(a[f],a[f+1])}}function o(n,r,i,s,o){function u(){return o.call(i)}function a(){-1!==l&&(f[l+2]&=~N)}s||"function"!=typeof i||(s=i,i=null);var f=t(n,r),l=e(f,i,s);return-1!==l&&(f[l+2]|=N),y(u,a)}function u(n,r,i,s,o){function u(){return o.call(i)}function a(){for(var e=0,t=p.length;t>e;e++){var n=p[e];d[e][n+2]&=~N}}s||"function"!=typeof i||(s=i,i=null);var f,l,c,h,p=[],d=[];for(c=0,h=r.length;h>c;c++){f=r[c],l=t(n,f);var v=e(l,i,s);-1!==v&&(l[v+2]|=N,p.push(v),d.push(l))}return y(u,a)}function a(e){var t=e[g].listeners,n=[];if(t)for(var r in t)t[r]&&n.push(r);return n}function f(e,t,n,r){if(e!==v&&"function"==typeof e.sendEvent&&e.sendEvent(t,n),!r){var i=e[g];r=i&&i.listeners&&i.listeners[t]}if(r){for(var o=r.length-3;o>=0;o-=3){var u=r[o],a=r[o+1],f=r[o+2];a&&(f&N||(f&T&&s(e,t,u,a),u||(u=e),"string"==typeof a?n?w(u,a,n):u[a]():n?b(u,a,n):a.call(u)))}return!0}}function l(e,t){var n=e[g],r=n&&n.listeners&&n.listeners[t];return!!r&&!!r.length}function c(e,t){var n=[],r=e[g],i=r&&r.listeners&&r.listeners[t];if(!i)return n;for(var s=0,o=i.length;o>s;s+=3){var u=i[s],a=i[s+1];n.push([u,a])}return n}function h(){var e=S.call(arguments,-1)[0],t=S.call(arguments,0,-1);return e.__ember_listens__=t,e}var p=arguments,d=p[p.length-1],v=p[0]["default"],m=p[1].meta,g=p[1].META_KEY,y=p[1].tryFinally,b=p[1].apply,w=p[1].applyStr,E=p[2].create,S=[].slice,x=m,T=1,N=2;d.on=h,d.addListener=i,d.removeListener=s,d.suspendListener=o,d.suspendListeners=u,d.sendEvent=f,d.hasListeners=l,d.watchedEvents=a,d.listenersFor=c,d.listenersDiff=r,d.listenersUnion=n}),e("ember-metal/expand_properties",["ember-metal/error","ember-metal/enumerable_utils","exports"],function(){function e(e,t){var n,i,u;if(e.indexOf(" ")>-1)throw new r("Brace expanded properties cannot contain spaces, e.g. `user.{firstName, lastName}` should be `user.{firstName,lastName}`");(n=o.exec(e))?(i=n[1],u=n[2],s(u.split(","),function(e){t(i+e)})):t(e)}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=t[1]["default"],s=i.forEach,o=/^((?:[^\.]*\.)*)\{(.*)\}$/;n["default"]=e}),e("ember-metal/get_properties",["ember-metal/property_get","ember-metal/utils","exports"],function(){function e(e){var t={},n=arguments,s=1;2===arguments.length&&"array"===i(arguments[1])&&(s=0,n=arguments[1]);for(var o=n.length;o>s;s++)t[n[s]]=r(e,n[s]);return t}var t=arguments,n=t[t.length-1],r=t[0].get,i=t[1].typeOf;n["default"]=e}),e("ember-metal/instrumentation",["ember-metal/core","ember-metal/utils","exports"],function(){function e(e,t,n,r){function i(){for(g=0,y=v.length;y>g;g++)m=v[g],b[g]=m.before(e,c(),t);return n.call(r)}function s(e){t=t||{},t.exception=e}function a(){for(g=0,y=v.length;y>g;g++)m=v[g],m.after(e,c(),t,b[g]);o.STRUCTURED_PROFILE&&console.timeEnd(p)}var p,d,v=f[e];if(o.STRUCTURED_PROFILE&&(p=e+": "+t.object,console.time(p)),v||(v=l(e)),0===v.length)return d=n.call(r),o.STRUCTURED_PROFILE&&console.timeEnd(p),d;var m,g,y,b=[];return u(i,s,a)}function t(e,t){for(var n,r=e.split("."),i=[],s=0,o=r.length;o>s;s++)n=r[s],"*"===n?i.push("[^\\.]*"):i.push(n);i=i.join("\\."),i+="(\\..*)?";var u={pattern:e,regex:new RegExp("^"+i+"$"),object:t};return a.push(u),f={},u}function n(e){for(var t,n=0,r=a.length;r>n;n++)a[n]===e&&(t=n);a.splice(t,1),f={}}function r(){a=[],f={}}var i=arguments,s=i[i.length-1],o=i[0]["default"],u=i[1].tryCatchFinally,a=[],f={},l=function(e){for(var t,n=[],r=0,i=a.length;i>r;r++)t=a[r],t.regex.test(e)&&n.push(t.object);return f[e]=n,n},c=function(){var e="undefined"!=typeof window?window.performance||{}:{},t=e.now||e.mozNow||e.webkitNow||e.msNow||e.oNow;return t?t.bind(e):function(){return+(new Date)}}();s.instrument=e,s.subscribe=t,s.unsubscribe=n,s.reset=r}),e("ember-metal/is_blank",["ember-metal/core","ember-metal/is_empty","exports"],function(){function e(e){return r(e)||"string"==typeof e&&null===e.match(/\S/)}var t=arguments,n=t[t.length-1],r=(t[0]["default"],t[1]["default"]);n["default"]=e}),e("ember-metal/is_empty",["ember-metal/core","ember-metal/property_get","ember-metal/is_none","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=e[2]["default"],s=function(e){return i(e)||0===e.length&&"function"!=typeof e||"object"==typeof e&&0===r(e,"length")},o=n.deprecateFunc("Ember.empty is deprecated. Please use Ember.isEmpty instead.",s);t["default"]=s,t.isEmpty=s,t.empty=o}),e("ember-metal/is_none",["ember-metal/core","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=function(e){return null===e||void 0===e},i=n.deprecateFunc("Ember.none is deprecated. Please use Ember.isNone instead.",r);t["default"]=r,t.isNone=r,t.none=i}),e("ember-metal/libraries",["ember-metal/enumerable_utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=n.forEach,i=n.indexOf,s=function(){var e=[],t=0,n=function(t){for(var n=0;n<e.length;n++)if(e[n].name===t)return e[n]};return e.register=function(t,r){n(t)||e.push({name:t,version:r})},e.registerCoreLibrary=function(r,i){n(r)||e.splice(t++,0,{name:r,version:i})},e.deRegister=function(t){var r=n(t);r&&e.splice(i(e,r),1)},e.each=function(t){r(e,function(e){t(e.name,e.version)})},e}();t["default"]=s}),e("ember-metal/logger",["ember-metal/core","ember-metal/error","exports"],function(){function e(e){var t,n;i.imports.console?t=i.imports.console:"undefined"!=typeof console&&(t=console);var r="object"==typeof t?t[e]:null;return r?"function"==typeof r.apply?(n=function(){r.apply(t,arguments)},n.displayName="console."+e,n):function(){var e=Array.prototype.join.call(arguments,", ");r(e)}:void 0}function t(e,t){if(!e)try{throw new s("assertion failed: "+t)}catch(n){setTimeout(function(){throw n},0)}}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1]["default"],o={log:e("log")||i.K,warn:e("warn")||i.K,error:e("error")||i.K,info:e("info")||i.K,debug:e("debug")||e("info")||i.K,assert:e("assert")||t};r["default"]=o}),e("ember-metal",["ember-metal/core","ember-metal/merge","ember-metal/instrumentation","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/array","ember-metal/logger","ember-metal/property_get","ember-metal/events","ember-metal/observer_set","ember-metal/property_events","ember-metal/properties","ember-metal/property_set","ember-metal/map","ember-metal/get_properties","ember-metal/set_properties","ember-metal/watch_key","ember-metal/chains","ember-metal/watch_path","ember-metal/watching","ember-metal/expand_properties","ember-metal/computed","ember-metal/observer","ember-metal/mixin","ember-metal/binding","ember-metal/run_loop","ember-metal/libraries","ember-metal/is_none","ember-metal/is_empty","ember-metal/is_blank","exports"],function(){var e=arguments,n=e[e.length-1],r=i.Instrumentation={};r.instrument=e[2].instrument,r.subscribe=e[2].subscribe,r.unsubscribe=e[2].unsubscribe,r.reset=e[2].reset,i.instrument=e[2].instrument,i.subscribe=e[2].subscribe,i.generateGuid=e[3].generateGuid,i.GUID_KEY=e[3].GUID_KEY,i.GUID_PREFIX=e[3].GUID_PREFIX,i.create=e[6].create,i.platform=e[6].platform;var s=i.ArrayPolyfills={};s.map=e[7].map,s.forEach=e[7].forEach,s.filter=e[7].filter,s.indexOf=e[7].indexOf,i.Error=e[4]["default"],i.guidFor=e[3].guidFor,i.META_DESC=e[3].META_DESC,i.EMPTY_META=e[3].EMPTY_META,i.meta=e[3].meta,i.getMeta=e[3].getMeta,i.setMeta=e[3].setMeta,i.metaPath=e[3].metaPath,i.inspect=e[3].inspect,i.typeOf=e[3].typeOf,i.tryCatchFinally=e[3].tryCatchFinally,i.isArray=e[3].isArray,i.makeArray=e[3].makeArray,i.canInvoke=e[3].canInvoke,i.tryInvoke=e[3].tryInvoke,i.tryFinally=e[3].tryFinally,i.wrap=e[3].wrap,i.apply=e[3].apply,i.applyStr=e[3].applyStr,i.Logger=e[8]["default"],i.get=e[9].get,i.getWithDefault=e[9].getWithDefault,i.normalizeTuple=e[9].normalizeTuple,i._getPath=e[9]._getPath,i.EnumerableUtils=e[5]["default"],i.on=e[10].on,i.addListener=e[10].addListener,i.removeListener=e[10].removeListener,i._suspendListener=e[10].suspendListener,i._suspendListeners=e[10].suspendListeners,i.sendEvent=e[10].sendEvent,i.hasListeners=e[10].hasListeners,i.watchedEvents=e[10].watchedEvents,i.listenersFor=e[10].listenersFor,i.listenersDiff=e[10].listenersDiff,i.listenersUnion=e[10].listenersUnion,i._ObserverSet=e[11]["default"],i.propertyWillChange=e[12].propertyWillChange,i.propertyDidChange=e[12].propertyDidChange,i.overrideChains=e[12].overrideChains,i.beginPropertyChanges=e[12].beginPropertyChanges,i.endPropertyChanges=e[12].endPropertyChanges,i.changeProperties=e[12].changeProperties,i.Descriptor=e[13].Descriptor,i.defineProperty=e[13].defineProperty,i.set=e[14].set,i.trySet=e[14].trySet,i.OrderedSet=e[15].OrderedSet,i.Map=e[15].Map,i.MapWithDefault=e[15].MapWithDefault,i.getProperties=e[16]["default"],i.setProperties=e[17]["default"],i.watchKey=e[18].watchKey,i.unwatchKey=e[18].unwatchKey,i.flushPendingChains=e[19].flushPendingChains,i.removeChainWatcher=e[19].removeChainWatcher,i._ChainNode=e[19].ChainNode,i.finishChains=e[19].finishChains,i.watchPath=e[20].watchPath,i.unwatchPath=e[20].unwatchPath,i.watch=e[21].watch,i.isWatching=e[21].isWatching,i.unwatch=e[21].unwatch,i.rewatch=e[21].rewatch,i.destroy=e[21].destroy,i.expandProperties=e[22]["default"],i.ComputedProperty=e[23].ComputedProperty,i.computed=e[23].computed,i.cacheFor=e[23].cacheFor,i.addObserver=e[24].addObserver,i.observersFor=e[24].observersFor,i.removeObserver=e[24].removeObserver,i.addBeforeObserver=e[24].addBeforeObserver,i._suspendBeforeObserver=e[24]._suspendBeforeObserver,i._suspendBeforeObservers=e[24]._suspendBeforeObservers,i._suspendObserver=e[24]._suspendObserver,i._suspendObservers=e[24]._suspendObservers,i.beforeObserversFor=e[24].beforeObserversFor,i.removeBeforeObserver=e[24].removeBeforeObserver,i.IS_BINDING=e[25].IS_BINDING,i.required=e[25].required,i.aliasMethod=e[25].aliasMethod,i.observer=e[25].observer,i.immediateObserver=e[25].immediateObserver,i.beforeObserver=e[25].beforeObserver,i.mixin=e[25].mixin,i.Mixin=e[25].Mixin,i.oneWay=e[26].oneWay,i.bind=e[26].bind,i.Binding=e[26].Binding,i.isGlobalPath=e[26].isGlobalPath,i.run=e[27]["default"],i.libraries=e[28]["default"],i.libraries.registerCoreLibrary("Ember",i.VERSION),i.isNone=e[29].isNone,i.none=e[29].none,i.isEmpty=e[30].isEmpty,i.empty=e[30].empty,i.isBlank=e[31]["default"],i.merge=e[1]["default"],i.onerror=null,i.__loader.registry["ember-debug"]&&t("ember-debug"),n["default"]=i}),e("ember-metal/map",["ember-metal/property_set","ember-metal/utils","ember-metal/array","ember-metal/platform","exports"],function(){function e(){this.clear()}function t(e){c.call(this),this.defaultValue=e.defaultValue}var n=arguments,r=n[n.length-1],s=n[0].set,o=n[1].guidFor,u=n[2].indexOf,a=n[3].create,f=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},l=function(e,t){var n=e.keys.copy(),r=f(e.values);return t.keys=n,t.values=r,t.length=e.length,t};e.create=function(){return new e},e.prototype={clear:function(){this.presenceSet={},this.list=[]},add:function(e){var t=o(e),n=this.presenceSet,r=this.list;t in n||(n[t]=!0,r.push(e))},remove:function(e){var t=o(e),n=this.presenceSet,r=this.list;delete n[t];var i=u.call(r,e);i>-1&&r.splice(i,1)},isEmpty:function(){return 0===this.list.length},has:function(e){var t=o(e),n=this.presenceSet;return t in n},forEach:function(e,t){for(var n=this.toArray(),r=0,i=n.length;i>r;r++)e.call(t,n[r])},toArray:function(){return this.list.slice()},copy:function(){var t=new e;return t.presenceSet=f(this.presenceSet),t.list=this.toArray(),t}};var c=i.Map=function(){this.keys=e.create(),this.values={}};c.create=function(){return new c},c.prototype={length:0,get:function(e){var t=this.values,n=o(e);return t[n]},set:function(e,t){var n=this.keys,r=this.values,i=o(e);n.add(e),r[i]=t,s(this,"length",n.list.length)},remove:function(e){var t=this.keys,n=this.values,r=o(e);return n.hasOwnProperty(r)?(t.remove(e),delete n[r],s(this,"length",t.list.length),!0):!1},has:function(e){var t=this.values,n=o(e);return t.hasOwnProperty(n)},forEach:function(e,t){var n=this.keys,r=this.values;n.forEach(function(n){var i=o(n);e.call(t,n,r[i])})},copy:function(){return l(this,new c)}},t.create=function(e){return e?new t(e):new c},t.prototype=a(c.prototype),t.prototype.get=function(e){var t=this.has(e);if(t)return c.prototype.get.call(this,e);var n=this.defaultValue(e);return this.set(e,n),n},t.prototype.copy=function(){return l(this,new t({defaultValue:this.defaultValue}))},r.OrderedSet=e,r.Map=c,r.MapWithDefault=t}),e("ember-metal/merge",["exports"],function(){function e(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var t=arguments,n=t[t.length-1];n["default"]=e}),e("ember-metal/mixin",["ember-metal/core","ember-metal/merge","ember-metal/array","ember-metal/platform","ember-metal/utils","ember-metal/expand_properties","ember-metal/properties","ember-metal/computed","ember-metal/binding","ember-metal/observer","ember-metal/events","exports"],function(){function e(){var e,t=this.__nextSuper;return t&&(this.__nextSuper=null,e=z(this,t,arguments),this.__nextSuper=t),e}function t(e){var t=ot(e,!0),n=t.mixins;return n?t.hasOwnProperty("mixins")||(n=t.mixins=st(n)):n=t.mixins={},n}function n(e,t){return t&&t.length>0&&(e.mixins=tt.call(t,function(e){if(e instanceof w)return e;var t=new w;return t.properties=e,t})),e}function r(e){return"function"==typeof e&&e.isMethod!==!1&&e!==Boolean&&e!==Object&&e!==Number&&e!==Array&&e!==Date&&e!==String}function i(e,t){var n;return t instanceof w?(n=F(t),e[n]?ut:(e[n]=t,t.properties)):t}function s(e,t,n,r){var i;return i=n[e]||r[e],t[e]&&(i=i?i.concat(t[e]):t[e]),i}function o(e,t,n,r,i){var s;return void 0===r[t]&&(s=i[t]),s=s||e.descs[t],s&&s instanceof $?(n=st(n),n.func=R(n.func,s.func),n):n}function u(e,t,n,r,i){var s;return void 0===i[t]&&(s=r[t]),s=s||e[t],"function"!=typeof s?n:R(n,s)}function a(e,t,n,r){var i=r[t]||e[t];return i?"function"==typeof i.concat?i.concat(n):U(i).concat(n):U(n)}function f(t,n,i,s){var o=s[n]||t[n];if(!o)return i;var a=D({},o),f=!1;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];r(c)?(f=!0,a[l]=u(t,l,c,o,{})):a[l]=c}return f&&(a._super=e),a}function l(e,t,n,i,s,l,c,h){if(n instanceof X){if(n===L&&s[t])return ut;n.func&&(n=o(i,t,n,l,s)),s[t]=n,l[t]=void 0}else c&&nt.call(c,t)>=0||"concatenatedProperties"===t||"mergedProperties"===t?n=a(e,t,n,l):h&&nt.call(h,t)>=0?n=f(e,t,n,l):r(n)&&(n=u(e,t,n,l,s)),s[t]=void 0,l[t]=n}function c(e,t,n,r,o,u){function a(e){delete n[e],delete r[e]}for(var f,h,p,d,v,m,g=0,y=e.length;y>g;g++)if(f=e[g],h=i(t,f),h!==ut)if(h){m=ot(o),o.willMergeMixin&&o.willMergeMixin(h),d=s("concatenatedProperties",h,r,o),v=s("mergedProperties",h,r,o);for(p in h)h.hasOwnProperty(p)&&(u.push(p),l(o,p,h[p],m,n,r,d,v));h.hasOwnProperty("toString")&&(o.toString=h.toString)}else f.mixins&&(c(f.mixins,t,n,r,o,u),f._without&&rt.call(f._without,a))}function h(e,t,n,r){if(at.test(t)){var i=r.bindings;i?r.hasOwnProperty("bindings")||(i=r.bindings=st(r.bindings)):i=r.bindings={},i[t]=n}}function p(e,t){var n,r,i,s=t.bindings;if(s){for(n in s)r=s[n],r&&(i=n.slice(0,-7),r instanceof J?(r=r.copy(),r.to(i)):r=new J(i,r),r.connect(e),e[n]=r);t.bindings={}}}function d(e,t){return p(e,t||ot(e)),e}function v(e,t,n,r,i){var s,o=t.methodName;return r[o]||i[o]?(s=i[o],t=r[o]):n.descs[o]?(t=n.descs[o],s=void 0):(t=void 0,s=e[o]),{desc:t,value:s}}function m(e,t,n,r,i){var s=n[r];if(s)for(var o=0,u=s.length;u>o;o++)i(e,s[o],null,t)}function g(e,t,n){var r=e[t];"function"==typeof r&&(m(e,t,r,"__ember_observesBefore__",Y),m(e,t,r,"__ember_observes__",Q),m(e,t,r,"__ember_listens__",et)),"function"==typeof n&&(m(e,t,n,"__ember_observesBefore__",G),m(e,t,n,"__ember_observes__",K),m(e,t,n,"__ember_listens__",Z))}function y(n,r,i){var s,o,u,a={},f={},l=ot(n),p=[];n._super=e,c(r,t(n),a,f,n,p);for(var m=0,y=p.length;y>m;m++)if(s=p[m],"constructor"!==s&&f.hasOwnProperty(s)&&(u=a[s],o=f[s],u!==L)){for(;u&&u instanceof A;){var b=v(n,u,l,a,f);u=b.desc,o=b.value}(void 0!==u||void 0!==o)&&(g(n,s,o),h(n,s,o,l),V(n,s,u,o,l))}return i||d(n,l),n}function b(e){var t=it.call(arguments,1);return y(e,t,!1),e}function w(){return n(this,arguments)}function E(e,t,n){var r=F(e);if(n[r])return!1;if(n[r]=!0,e===t)return!0;for(var i=e.mixins,s=i?i.length:0;--s>=0;)if(E(i[s],t,n))return!0;return!1}function S(e,t,n){if(!n[F(t)])if(n[F(t)]=!0,t.properties){var r=t.properties;for(var i in r)r.hasOwnProperty(i)&&(e[i]=!0)}else t.mixins&&rt.call(t.mixins,function(t){S(e,t,n)})}function x(){return L}function T(e){return new A(e)}function N(){var e,t=it.call(arguments,-1)[0],n=function(t){e.push(t)},r=it.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],r=it.call(arguments,1)),e=[];for(var i=0;i<r.length;++i)W(r[i],n);if("function"!=typeof t)throw new _.Error("Ember.observer called without a function");return t.__ember_observes__=e,t}function C(){for(var e=0,t=arguments.length;t>e;e++)arguments[e];return N.apply(this,arguments)}function k(){var e,t=it.call(arguments,-1)[0],n=function(t){e.push(t)},r=it.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],r=it.call(arguments,1)),e=[];for(var i=0;i<r.length;++i)W(r[i],n);if("function"!=typeof t)throw new _.Error("Ember.beforeObserver called without a function");return t.__ember_observesBefore__=e,t}var L,A,O=arguments,M=O[O.length-1],_=O[0]["default"],D=O[1]["default"],P=O[2].map,H=O[2].indexOf,B=O[2].forEach,j=O[3].create,F=O[4].guidFor,I=O[4].meta,q=O[4].META_KEY,R=O[4].wrap,U=O[4].makeArray,z=O[4].apply,W=O[5]["default"],X=O[6].Descriptor,V=O[6].defineProperty,$=O[7].ComputedProperty,J=O[8].Binding,K=O[9].addObserver,Q=O[9].removeObserver,G=O[9].addBeforeObserver,Y=O[9].removeBeforeObserver,Z=O[10].addListener,et=O[10].removeListener,tt=P,nt=H,rt=B,it=[].slice,st=j,V=V,ot=I,ut={},at=/^.+Binding$/;w.prototype={properties:null,mixins:null,ownerConstructor:null},w._apply=y,w.applyPartial=function(e){var t=it.call(arguments,1);return y(e,t,!0)},w.finishPartial=d,_.anyUnprocessedMixins=!1,w.create=function(){_.anyUnprocessedMixins=!0;var e=this;return n(new e,arguments)};var ft=w.prototype;ft.reopen=function(){var e,t;this.properties?(e=w.create(),e.properties=this.properties,delete this.properties,this.mixins=[e]):this.mixins||(this.mixins=[]);var n,r=arguments.length,i=this.mixins;for(n=0;r>n;n++)e=arguments[n],e instanceof w?i.push(e):(t=w.create(),t.properties=e,i.push(t));return this},ft.apply=function(e){return y(e,[this],!1)},ft.applyPartial=function(e){return y(e,[this],!0)},ft.detect=function(e){if(!e)return!1;if(e instanceof w)return E(e,this,{});var t=e[q],n=t&&t.mixins;return n?!!n[F(this)]:!1},ft.without=function(){var e=new w(this);return e._without=it.call(arguments),e},ft.keys=function(){var e={},t={},n=[];S(e,this,t);for(var r in e)e.hasOwnProperty(r)&&n.push(r);return n},w.mixins=function(e){var t=e[q],n=t&&t.mixins,r=[];if(!n)return r;for(var i in n){var s=n[i];s.properties||r.push(s)}return r},L=new X,L.toString=function(){return"(Required Property)"},A=function(e){this.methodName=e},A.prototype=new X,M.IS_BINDING=at,M.mixin=b,M.Mixin=w,M.required=x,M.aliasMethod=T,M.observer=N,M.immediateObserver=C,M.beforeObserver=k}),e("ember-metal/observer",["ember-metal/watching","ember-metal/array","ember-metal/events","exports"],function(){function e(e){return e+S}function t(e){return e+x}function n(t,n,r,i){return y(t,e(n),r,i),d(t,n),this}function r(t,n){return g(t,e(n))}function i(t,n,r,i){return v(t,n),b(t,e(n),r,i),this}function s(e,n,r,i){return y(e,t(n),r,i),d(e,n),this}function o(e,n,r,i,s){return E(e,t(n),r,i,s)}function u(t,n,r,i,s){return E(t,e(n),r,i,s)}function a(e,n,r,i,s){var o=m.call(n,t);return w(e,o,r,i,s)}function f(t,n,r,i,s){var o=m.call(n,e);return w(t,o,r,i,s)}function l(e,n){return g(e,t(n))}function c(e,n,r,i){return v(e,n),b(e,t(n),r,i),this}var h=arguments,p=h[h.length-1],d=h[0].watch,v=h[0].unwatch,m=h[1].map,g=h[2].listenersFor,y=h[2].addListener,b=h[2].removeListener,w=h[2].suspendListeners,E=h[2].suspendListener,S=":change",x=":before";p.addObserver=n,p.observersFor=r,p.removeObserver=i,p.addBeforeObserver=s,p._suspendBeforeObserver=o,p._suspendObserver=u,p._suspendBeforeObservers=a,p._suspendObservers=f,p.beforeObserversFor=l,p.removeBeforeObserver=c}),e("ember-metal/observer_set",["ember-metal/utils","ember-metal/events","exports"],function(){function e(){this.clear()}var t=arguments,n=t[t.length-1],r=t[0].guidFor,i=t[1].sendEvent;e.prototype.add=function(e,t,n){var i,s=this.observerSet,o=this.observers,u=r(e),a=s[u];return a||(s[u]=a={}),i=a[t],void 0===i&&(i=o.push({sender:e,keyName:t,eventName:n,listeners:[]})-1,a[t]=i),o[i].listeners},e.prototype.flush=function(){var e,t,n,r,s=this.observers;for(this.clear(),e=0,t=s.length;t>e;++e)n=s[e],r=n.sender,r.isDestroying||r.isDestroyed||i(r,n.eventName,[r,n.keyName],n.listeners)},e.prototype.clear=function(){this.observerSet={},this.observers=[]},n["default"]=e}),e("ember-metal/platform",["ember-metal/core","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r={},i=Object.create;if(i&&2!==i({a:1},{a:{value:2}}).a&&(i=null),!i||n.ENV.STUB_OBJECT_CREATE){var s=function(){};i=function(e,t){if(s.prototype=e,e=new s,t){s.prototype=e;for(var n in t)s.prototype[n]=t[n].value;e=new s}return s.prototype=null,e},i.isSimulated=!0}var o,u,a=Object.defineProperty;if(a)try{a({},"a",{get:function(){}})}catch(f){a=null}a&&(o=function(){var e={};return a(e,"a",{configurable:!0,enumerable:!0,get:function(){},set:function(){}}),a(e,"a",{configurable:!0,enumerable:!0,writable:!0,value:!0}),e.a===!0}(),u=function(){try{return a(document.createElement("div"),"definePropertyOnDOM",{}),!0}catch(e){}return!1}(),o?u||(a=function(e,t,n){var r;return r="object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,r?e[t]=n.value:Object.defineProperty(e,t,n)}):a=null),r.defineProperty=a,r.hasPropertyAccessors=!0,r.defineProperty||(r.hasPropertyAccessors=!1,r.defineProperty=function(e,t,n){n.get||(e[t]=n.value)},r.defineProperty.isSimulated=!0),n.ENV.MANDATORY_SETTER&&!r.hasPropertyAccessors&&(n.ENV.MANDATORY_SETTER=!1),t.create=i,t.platform=r}),e("ember-metal/properties",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/property_events","exports"],function(){function e(){}function t(t,n,r,i,s){var o,u,d,v;return s||(s=f(t)),o=s.descs,u=s.descs[n],d=s.watching[n]>0,u instanceof e&&u.teardown(t,n),r instanceof e?(v=r,o[n]=r,c&&d?l(t,n,{configurable:!0,enumerable:!0,writable:!0,value:void 0}):t[n]=void 0):(o[n]=void 0,null==r?(v=i,c&&d?(s.values[n]=i,l(t,n,{configurable:!0,enumerable:!0,set:h,get:p(n)})):t[n]=i):(v=r,l(t,n,r))),d&&a(t,n,s),t.didDefineProperty&&t.didDefineProperty(t,n,v),this}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1].META_KEY,o=n[1].meta,u=n[2].platform,a=n[3].overrideChains,f=o,l=u.defineProperty,c=i.ENV.MANDATORY_SETTER,h=i.MANDATORY_SETTER_FUNCTION=function(){},p=i.DEFAULT_GETTER_FUNCTION=function(e){return function(){var t=this[s];return t&&t.values[e]}};r.Descriptor=e,r.defineProperty=t}),e("ember-metal/property_events",["ember-metal/utils","ember-metal/events","ember-metal/observer_set","exports"],function(){function e(e,t){var r=e[g],i=r&&r.watching[t]>0||"length"===t,o=r&&r.proto,u=r&&r.descs[t];i&&o!==e&&(u&&u.willChange&&u.willChange(e,t),n(e,t,r),s(e,t,r),c(e,t))}function t(e,t){var n=e[g],i=n&&n.watching[t]>0||"length"===t,s=n&&n.proto,u=n&&n.descs[t];s!==e&&(u&&u.didChange&&u.didChange(e,t),(i||"length"===t)&&(r(e,t,n),o(e,t,n,!1),h(e,t)))}function n(t,n,r){if(!t.isDestroying){var s=p,o=!s;o&&(s=p={}),i(e,t,n,s,r),o&&(p=null)}}function r(e,n,r){if(!e.isDestroying){var s=d,o=!s;o&&(s=d={}),i(t,e,n,s,r),o&&(d=null)}}function i(e,t,n,r,i){var s=y(t);if(r[s]||(r[s]={}),!r[s][n]){r[s][n]=!0;var o=i.deps;if(o=o&&o[n])for(var u in o){var a=i.descs[u];a&&a._suspended===t||e(t,u)}}}function s(t,n,r){if(r.hasOwnProperty("chainWatchers")&&r.chainWatchers[n]){var i,s,o=r.chainWatchers[n],u=[];for(i=0,s=o.length;s>i;i++)o[i].willChange(u);for(i=0,s=u.length;s>i;i+=2)e(u[i],u[i+1])}}function o(e,n,r,i){if(r&&r.hasOwnProperty("chainWatchers")&&r.chainWatchers[n]){var s,o,u=r.chainWatchers[n],a=i?null:[];for(s=0,o=u.length;o>s;s++)u[s].didChange(a);if(!i)for(s=0,o=a.length;o>s;s+=2)t(a[s],a[s+1])}}function u(e,t,n){o(e,t,n,!0)}function a(){C++}function f(){C--,0>=C&&(T.clear(),N.flush())}function l(e,t){a(),b(e,f,t)}function c(e,t){if(!e.isDestroying){var n,r,i=t+":before";C?(n=T.add(e,t,i),r=S(e,i,n),w(e,i,[e,t],r)):w(e,i,[e,t])}}function h(e,t){if(!e.isDestroying){var n,r=t+":change";C?(n=N.add(e,t,r),E(e,r,n)):w(e,r,[e,t])}}var p,d,v=arguments,m=v[v.length-1],g=v[0].META_KEY,y=v[0].guidFor,b=v[0].tryFinally,w=v[1].sendEvent,E=v[1].listenersUnion,S=v[1].listenersDiff,x=v[2]["default"],T=new x,N=new x,C=0;m.propertyWillChange=e,m.propertyDidChange=t,m.overrideChains=u,m.beginPropertyChanges=a,m.endPropertyChanges=f,m.changeProperties=l}),e("ember-metal/property_get",["ember-metal/core","ember-metal/utils","ember-metal/error","exports"],function(){function e(e,t){var n,i=0===t.indexOf(c),s=!i&&l.test(t);if((!e||s)&&(e=o.lookup),i&&(t=t.slice(5)),e===o.lookup&&(n=t.match(h)[0],e=r(e,n),t=t.slice(n.length+1)),!t||0===t.length)throw new a("Path cannot be empty");return[e,t]}function t(t,n){var i,s,u,a,f;if(null===t&&-1===n.indexOf("."))return r(o.lookup,n);for(i=0===n.indexOf(c),(!t||i)&&(u=e(t,n),t=u[0],n=u[1],u.length=0),s=n.split("."),f=s.length,a=0;null!=t&&f>a;a++)if(t=r(t,s[a],!0),t&&t.isDestroyed)return void 0;return t}function n(e,t,n){var i=r(e,t);return void 0===i?n:i}var r,i=arguments,s=i[i.length-1],o=i[0]["default"],u=i[1].META_KEY,a=i[2]["default"],f=o.ENV.MANDATORY_SETTER,l=/^([A-Z$]|([0-9][A-Z$])).*[\.]/,c="this.",h=/^([^\.]+)/;r=function(e,n){if(""===n)return e;if(n||"string"!=typeof e||(n=e,e=null),null===e)return t(e,n);var r,i=e[u],s=i&&i.descs[n];return void 0===s&&-1!==n.indexOf(".")?t(e,n):s?s.get(e,n):(r=f&&i&&i.watching[n]>0?i.values[n]:e[n],void 0!==r||"object"!=typeof e||n in e||"function"!=typeof e.unknownProperty?r:e.unknownProperty(n))},o.config.overrideAccessors&&(o.get=r,o.config.overrideAccessors(),r=o.get),s["default"]=r,s.get=r,s.getWithDefault=n,s.normalizeTuple=e,s._getPath=t}),e("ember-metal/property_set",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/property_events","ember-metal/properties","ember-metal/error","exports"],function(){function e(e,t,n,r){var i;if(i=t.slice(t.lastIndexOf(".")+1),t=t===i?i:t.slice(0,t.length-(i.length+1)),"this"!==t&&(e=s(e,t)),!i||0===i.length)throw new l("Property set failed: You passed an empty path");if(!e){if(r)return;throw new l('Property set failed: object in path "'+t+'" could not be found or was destroyed.')}return h(e,i,n)}function t(e,t,n){return h(e,t,n,!0)}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1]._getPath,o=n[2].META_KEY,u=n[3].propertyWillChange,a=n[3].propertyDidChange,f=n[4].defineProperty,l=n[5]["default"],c=i.ENV.MANDATORY_SETTER,h=function(t,n,r,i){if("string"==typeof t&&(r=n,n=t,t=null),!t)return e(t,n,r,i);var s,l,h=t[o],p=h&&h.descs[n];if(void 0===p&&-1!==n.indexOf("."))return e(t,n,r,i);if(void 0!==p)p.set(t,n,r);else{if("object"==typeof t&&null!==t&&void 0!==r&&t[n]===r)return r;s="object"==typeof t&&!(n in t),s&&"function"==typeof t.setUnknownProperty?t.setUnknownProperty(n,r):h&&h.watching[n]>0?(l=c?h.values[n]:t[n],r!==l&&(u(t,n),c?(void 0!==l||n in t)&&t.propertyIsEnumerable(n)?h.values[n]=r:f(t,n,null,r):t[n]=r,a(t,n))):t[n]=r}return r};i.config.overrideAccessors&&(i.set=h,i.config.overrideAccessors(),h=i.set),r.set=h,r.trySet=t}),e("ember-metal/run_loop",["ember-metal/core","ember-metal/utils","ember-metal/array","ember-metal/property_events","exports"],function(){function e(){!d.currentRunLoop}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1].apply,o=n[2].indexOf,u=n[3].beginPropertyChanges,a=n[3].endPropertyChanges,f=function(e){d.currentRunLoop=e},l=function(e,t){d.currentRunLoop=t},c=t("backburner").Backburner,h=new c(["sync","actions","destroy"],{sync:{before:u,after:a},defaultQueue:"actions",onBegin:f,onEnd:l,onErrorTarget:i,onErrorMethod:"onerror"}),p=[].slice,d=([].concat,function(){return s(h,h.run,arguments)});d.join=function(){if(!d.currentRunLoop)return s(i,d,arguments);var e=p.call(arguments);e.unshift("actions"),s(d,d.schedule,e)},d.bind=function(){var e=p.call(arguments);return function(){return s(d,d.join,e.concat(p.call(arguments)))}},d.backburner=h,d.currentRunLoop=null,d.queues=h.queueNames,d.begin=function(){h.begin()},d.end=function(){h.end()},d.schedule=function(){e(),s(h,h.schedule,arguments)},d.hasScheduledTimers=function(){return h.hasTimers()},d.cancelTimers=function(){h.cancelTimers()},d.sync=function(){h.currentInstance&&h.currentInstance.queues.sync.flush()},d.later=function(){return s(h,h.later,arguments)},d.once=function(){e();var t=p.call(arguments);return t.unshift("actions"),s(h,h.scheduleOnce,t)},d.scheduleOnce=function(){return e(),s(h,h.scheduleOnce,arguments)},d.next=function(){var e=p.call(arguments);return e.push(1),s(h,h.later,e)},d.cancel=function(e){return h.cancel(e)},d.debounce=function(){return s(h,h.debounce,arguments)},d.throttle=function(){return s(h,h.throttle,arguments)},d._addQueue=function(e,t){-1===o.call(d.queues,e)&&d.queues.splice(o.call(d.queues,t)+1,0,e)},r["default"]=d}),e("ember-metal/set_properties",["ember-metal/property_events","ember-metal/property_set","exports"],function(){function e(e,t){return r(function(){for(var n in t)t.hasOwnProperty(n)&&i(e,n,t[n])}),e}var t=arguments,n=t[t.length-1],r=t[0].changeProperties,i=t[1].set;n["default"]=e}),e("ember-metal/utils",["ember-metal/core","ember-metal/platform","ember-metal/array","exports"],function(){function e(e,t){t||(t=T);var n=t+A++;return e&&(null===e[M]?e[M]=n:(_.value=n,N(e,M,_))),n}function n(e){if(void 0===e)return"(undefined)";if(null===e)return"(null)";var t,n=typeof e;switch(n){case"number":return t=k[e],t||(t=k[e]="nu"+e),t;case"string":return t=L[e],t||(t=L[e]="st"+A++),t;case"boolean":return e?"(true)":"(false)";default:return e[M]?e[M]:e===Object?"(Object)":e===Array?"(Array)":(t="ember"+A++,null===e[M]?e[M]=t:(_.value=t,N(e,M,_)),t)}}function i(e){this.descs={},this.watching={},this.cache={},this.cacheMeta={},this.source=e}function s(e,t){var n=e[P];return t===!1?n||B:(n?n.source!==e&&(H||N(e,P,D),n=C(n),n.descs=C(n.descs),n.watching=C(n.watching),n.cache={},n.cacheMeta={},n.source=e,O&&(n.values=C(n.values)),e[P]=n):(H||N(e,P,D),n=new i(e),O&&(n.values={}),e[P]=n,n.descs.constructor=null),n)}function o(e,t){var n=s(e,!1);return n[t]}function u(e,t,n){var r=s(e,!0);return r[t]=n,n}function a(e,t,n){for(var r,i,o=s(e,n),u=0,a=t.length;a>u;u++){if(r=t[u],i=o[r]){if(i.__ember_source__!==e){if(!n)return void 0;i=o[r]=C(i),i.__ember_source__=e}}else{if(!n)return void 0;i=o[r]={__ember_source__:e}}o=i}return i}function f(e,t){function n(){var n,r=this.__nextSuper;return this.__nextSuper=t,n=m(this,e,arguments),this.__nextSuper=r,n}return n.wrappedFunction=e,n.wrappedFunction.__ember_arity__=e.length,n.__ember_observes__=e.__ember_observes__,n.__ember_observesBefore__=e.__ember_observesBefore__,n.__ember_listens__=e.__ember_listens__,n}function l(e){var n,i;return"undefined"==typeof j&&(n="ember-runtime/mixins/array",r._eak_seen[n]&&(j=t(n)["default"])),!e||e.setInterval?!1:Array.isArray&&Array.isArray(e)?!0:j&&j.detect(e)?!0:(i=d(e),"array"===i?!0:void 0!==e.length&&"object"===i?!0:!1)}function c(e){return null===e||void 0===e?[]:l(e)?e:[e]}function h(e,t){return!!e&&"function"==typeof e[t]}function p(e,t,n){return h(e,t)?n?g(e,t,n):g(e,t):void 0}function d(e){var n,i;return"undefined"==typeof z&&(i="ember-runtime/system/object",r._eak_seen[i]&&(z=t(i)["default"])),n=null===e||void 0===e?String(e):R[W.call(e)]||"object","function"===n?z&&z.detect(e)&&(n="class"):"object"===n&&(e instanceof Error?n="error":z&&e instanceof z?n="instance":e instanceof Date&&(n="date")),n}function v(e){var t=d(e);if("array"===t)return"["+e+"]";if("object"!==t)return e+"";var n,r=[];for(var i in e)if(e.hasOwnProperty(i)){if(n=e[i],"toString"===n)continue;"function"===d(n)&&(n="function() { ... }"),r.push(i+": "+n)}return"{"+r.join(", ")+"}"}function m(e,t,n){var r=n&&n.length;if(!n||!r)return t.call(e);switch(r){case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function g(e,t,n){var r=n&&n.length;if(!n||!r)return e[t]();switch(r){case 1:return e[t](n[0]);case 2:return e[t](n[0],n[1]);case 3:return e[t](n[0],n[1],n[2]);case 4:return e[t](n[0],n[1],n[2],n[3]);case 5:return e[t](n[0],n[1],n[2],n[3],n[4]);default:return e[t].apply(e,n)}}var y=arguments,b=y[y.length-1],w=y[0]["default"],E=y[1].platform,S=y[1].create,x=y[2].forEach,T="ember",N=E.defineProperty,C=S,k=[],L={},A=0,O=w.ENV.MANDATORY_SETTER,M="__ember"+ +(new Date),_={writable:!1,configurable:!1,enumerable:!1,value:null},D={writable:!0,configurable:!1,enumerable:!1,value:null},P="__ember_meta__",H=E.defineProperty.isSimulated;i.prototype={descs:null,deps:null,watching:null,listeners:null,cache:null,cacheMeta:null,source:null,mixins:null,bindings:null,chains:null,chainWatchers:null,values:null,proto:null},H&&(i.prototype.__preventPlainObject__=!0,i.prototype.toJSON=function(){});var B=new i(null);O&&(B.values={});var j,F,I=function(){var e=0;try{try{}finally{throw e++,new Error("needsFinallyFixTest")}}catch(t){}return 1!==e}();F=I?function(e,t,n){var r,i,s;n=n||this;try{r=e.call(n)}finally{try{i=t.call(n)}catch(o){s=o}}if(s)throw s;return void 0===i?r:i}:function(e,t,n){var r,i;n=n||this;try{r=e.call(n)}finally{i=t.call(n)}return void 0===i?r:i};var q;q=I?function(e,t,n,r){var i,s,o;r=r||this;try{i=e.call(r)}catch(u){i=t.call(r,u)}finally{try{s=n.call(r)}catch(a){o=a}}if(o)throw o;return void 0===s?i:s}:function(e,t,n,r){var i,s;r=r||this;try{i=e.call(r)}catch(o){i=t.call(r,o)}finally{s=n.call(r)}return void 0===s?i:s};var R={},U="Boolean Number String Function Array Date RegExp Object".split(" ");x.call(U,function(e){R["[object "+e+"]"]=e.toLowerCase()});var z,W=Object.prototype.toString;b.generateGuid=e,b.GUID_KEY=M,b.GUID_PREFIX=T,b.guidFor=n,b.META_DESC=D,b.EMPTY_META=B,b.META_KEY=P,b.meta=s,b.getMeta=o,b.setMeta=u,b.metaPath=a,b.inspect=v,b.typeOf=d,b.tryCatchFinally=q,b.isArray=l,b.makeArray=c,b.canInvoke=h,b.tryInvoke=p,b.tryFinally=F,b.wrap=f,b.applyStr=g,b.apply=m}),e("backburner",["backburner/utils","backburner/deferred_action_queues","exports"],function(){function e(e){return w(e)||x.test(e)}function t(e,t){this.queueNames=e,this.options=t||{},this.options.defaultQueue||(this.options.defaultQueue=e[0]),this.instanceStack=[],this._debouncees=[],this._throttlers=[]}function n(e){return function(){try{return e.apply(this,arguments)}catch(t){throw t}}}function r(e){return e.onError||e.onErrorTarget&&e.onErrorTarget[e.onErrorMethod]}function i(e){e.begin(),e._autorun=S.setTimeout(function(){e._autorun=null,e.end()})}function s(e,t,n){(!e._laterTimer||t<e._laterTimerExpiresAt)&&(e._laterTimer=S.setTimeout(function(){e._laterTimer=null,e._laterTimerExpiresAt=null,o(e)},n),e._laterTimerExpiresAt=t)}function o(e){var t,n,r,i=+(new Date);e.run(function(){for(n=l(i,E),t=E.splice(0,n),n=1,r=t.length;r>n;n+=2)e.schedule(e.options.defaultQueue,null,t[n])}),E.length&&s(e,E[0],E[0]-i)}function u(e,t,n){return f(e,t,n)}function a(e,t,n){return f(e,t,n)}function f(e,t,n){for(var r,i=-1,s=0,o=n.length;o>s;s++)if(r=n[s],r[0]===e&&r[1]===t){i=s;break}return i}function l(e,t){for(var n,r,i=0,s=t.length-2;s>i;)r=(s-i)/2,n=i+r-r%2,e>=t[n]?i=n+2:s=n;return e>=t[i]?i+2:i}var c=arguments,h=c[c.length-1],p=c[0]["default"],d=c[1].DeferredActionQueues,v=[].slice,m=[].pop,g=p.each,y=p.isString,b=p.isFunction,w=p.isNumber,E=[],S=this,x=/\d+/,T=function(e,t){try{t()}catch(e){}return!!e}();if(t.prototype={queueNames:null,options:null,currentInstance:null,instanceStack:null,begin:function(){var e=this.options,t=e&&e.onBegin,n=this.currentInstance;n&&this.instanceStack.push(n),this.currentInstance=new d(this.queueNames,e),t&&t(this.currentInstance,n)},end:function(){var e=this.options,t=e&&e.onEnd,n=this.currentInstance,r=null,i=!1;try{n.flush()}finally{i||(i=!0,this.currentInstance=null,this.instanceStack.length&&(r=this.instanceStack.pop(),this.currentInstance=r),t&&t(n,r))}},run:function(e,t){var n=r(this.options);this.begin(),t||(t=e,e=null),y(t)&&(t=e[t]);var i=v.call(arguments,2),s=!1;if(n)try{return t.apply(e,i)}catch(o){n(o)}finally{s||(s=!0,this.end())}else try{return t.apply(e,i)}finally{s||(s=!0,this.end())}},defer:function(e,t,n){n||(n=t,t=null),y(n)&&(n=t[n]);var r=this.DEBUG?new Error:void 0,s=arguments.length>3?v.call(arguments,3):void 0;return this.currentInstance||i(this),this.currentInstance.schedule(e,t,n,s,!1,r)},deferOnce:function(e,t,n){n||(n=t,t=null),y(n)&&(n=t[n]);var r=this.DEBUG?new Error:void 0,s=arguments.length>3?v.call(arguments,3):void 0;return this.currentInstance||i(this),this.currentInstance.schedule(e,t,n,s,!0,r)},setTimeout:function(){function t(){if(m)try{n.apply(o,c)}catch(e){m(e)}else n.apply(o,c)}var n,i,o,u,a,f,c=v.call(arguments),h=c.length;if(0!==h){if(1===h)n=c.shift(),i=0;else if(2===h)u=c[0],a=c[1],b(a)||b(u[a])?(o=c.shift(),n=c.shift(),i=0):e(a)?(n=c.shift(),i=c.shift()):(n=c.shift(),i=0);else{var p=c[c.length-1];i=e(p)?c.pop():0,u=c[0],f=c[1],b(f)||y(f)&&null!==u&&f in u?(o=c.shift(),n=c.shift()):n=c.shift()}var d=+(new Date)+parseInt(i,10);y(n)&&(n=o[n]);var m=r(this.options),g=l(d,E);return E.splice(g,0,d,t),s(this,d,i),t}},throttle:function(e,t){var n,r,i,s,o=this,u=arguments,f=m.call(u);return w(f)||y(f)?(n=f,f=!0):n=m.call(u),n=parseInt(n,10),i=a(e,t,this._throttlers),i>-1?this._throttlers[i]:(s=S.setTimeout(function(){f||o.run.apply(o,u);var n=a(e,t,o._throttlers);n>-1&&o._throttlers.splice(n,1)},n),f&&o.run.apply(o,u),r=[e,t,s],this._throttlers.push(r),r)},debounce:function(e,t){var n,r,i,s,o=this,a=arguments,f=m.call(a);return w(f)||y(f)?(n=f,f=!1):n=m.call(a),n=parseInt(n,10),r=u(e,t,this._debouncees),r>-1&&(i=this._debouncees[r],this._debouncees.splice(r,1),clearTimeout(i[2])),s=S.setTimeout(function(){f||o.run.apply(o,a);var n=u(e,t,o._debouncees);n>-1&&o._debouncees.splice(n,1)},n),f&&-1===r&&o.run.apply(o,a),i=[e,t,s],o._debouncees.push(i),i},cancelTimers:function(){var e=function(e){clearTimeout(e[2])};g(this._throttlers,e),this._throttlers=[],g(this._debouncees,e),this._debouncees=[],this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),E=[],this._autorun&&(clearTimeout(this._autorun),this._autorun=null)},hasTimers:function(){return!!E.length||!!this._debouncees.length||!!this._throttlers.length||this._autorun},cancel:function(e){var t=typeof e;if(e&&"object"===t&&e.queue&&e.method)return e.queue.cancel(e);if("function"!==t)return"[object Array]"===Object.prototype.toString.call(e)?this._cancelItem(a,this._throttlers,e)||this._cancelItem(u,this._debouncees,e):void 0;for(var n=0,r=E.length;r>n;n+=2)if(E[n+1]===e)return E.splice(n,2),!0},_cancelItem:function(e,t,n){var r,i;return n.length<3?!1:(i=e(n[0],n[1],t),i>-1&&(r=t[i],r[2]===n[2])?(t.splice(i,1),clearTimeout(n[2]),!0):!1)}},t.prototype.schedule=t.prototype.defer,t.prototype.scheduleOnce=t.prototype.deferOnce,t.prototype.later=t.prototype.setTimeout,T){var N=t.prototype.run;t.prototype.run=n(N);var C=t.prototype.end;t.prototype.end=n(C)}h.Backburner=t}),e("backburner/deferred_action_queues",["backburner/utils","backburner/queue","exports"],function(){function e(e,t){var n=this.queues={};this.queueNames=e=e||[],this.options=t,o(e,function(e){n[e]=new s(this,e,t)})}function t(e,t){for(var n,r,i=0,s=t;s>=i;i++)if(n=e.queueNames[i],r=e.queues[n],r._queue.length)return i;return-1}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1].Queue,o=i.each,u=i.isString;e.prototype={queueNames:null,queues:null,options:null,schedule:function(e,t,n,r,i,s){var o=this.queues,u=o[e];if(!u)throw new Error("You attempted to schedule an action in a queue ("+e+") that doesn't exist");return i?u.pushUnique(t,n,r,s):u.push(t,n,r,s)},invoke:function(e,t,n){n&&n.length>0?t.apply(e,n):t.call(e)},invokeWithOnError:function(e,t,n,r){try{n&&n.length>0?t.apply(e,n):t.call(e)}catch(i){r(i)}},flush:function(){for(var e,n,r,i,s=this.queues,o=this.queueNames,a=0,f=o.length,l=this.options,c=l.onError||l.onErrorTarget&&l.onErrorTarget[l.onErrorMethod],h=c?this.invokeWithOnError:this.invoke;f>a;){e=o[a],n=s[e],r=n._queueBeingFlushed=n._queue.slice(),n._queue=[];var p,d,v,m,g=n.options,y=g&&g.before,b=g&&g.after,w=0,E=r.length;for(E&&y&&y();E>w;)p=r[w],d=r[w+1],v=r[w+2],m=r[w+3],u(d)&&(d=p[d]),d&&h(p,d,v,c),w+=4;n._queueBeingFlushed=null,E&&b&&b(),-1===(i=t(this,a))?a++:a=i}}},r.DeferredActionQueues=e}),e("backburner/queue",["exports"],function(){function e(e,t,n){this.daq=e,this.name=t,this.globalOptions=n,this.options=n[t],this._queue=[]}var t=arguments,n=t[t.length-1];e.prototype={daq:null,name:null,options:null,onError:null,_queue:null,push:function(e,t,n,r){var i=this._queue;return i.push(e,t,n,r),{queue:this,target:e,method:t}},pushUnique:function(e,t,n,r){var i,s,o,u,a=this._queue;for(o=0,u=a.length;u>o;o+=4)if(i=a[o],s=a[o+1],i===e&&s===t)return a[o+2]=n,a[o+3]=r,{queue:this,target:e,method:t};return a.push(e,t,n,r),{queue:this,target:e,method:t}},flush:function(){var e,t,n,r,i,s=this._queue,o=this.globalOptions,u=this.options,a=u&&u.before,f=u&&u.after,l=o.onError||o.onErrorTarget&&o.onErrorTarget[o.onErrorMethod],c=s.length;for(c&&a&&a(),i=0;c>i;i+=4)if(e=s[i],t=s[i+1],n=s[i+2],r=s[i+3],n&&n.length>0)if(l)try{t.apply(e,n)}catch(h){l(h)}else t.apply(e,n);else if(l)try{t.call(e)}catch(h){l(h)}else t.call(e);c&&f&&f(),s.length>c?(this._queue=s.slice(c),this.flush()):this._queue.length=0},cancel:function(e){var t,n,r,i,s=this._queue;for(r=0,i=s.length;i>r;r+=4)if(t=s[r],n=s[r+1],t===e.target&&n===e.method)return s.splice(r,4),!0;if(s=this._queueBeingFlushed)for(r=0,i=s.length;i>r;r+=4)if(t=s[r],n=s[r+1],t===e.target&&n===e.method)return s[r+1]=null,!0}},n.Queue=e}),e("backburner/utils",["exports"],function(){var e=arguments,t=e[e.length-1];t["default"]={each:function(e,t){for(var n=0;n<e.length;n++)t(e[n])},isString:function(e){return"string"==typeof e},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e}}}),e("ember-metal/watch_key",["ember-metal/core","ember-metal/utils","ember-metal/platform","exports"],function(){function e(e,t,n){if("length"!==t||"array"!==o(e)){var r=n||a(e),s=r.watching;s[t]?s[t]=(s[t]||0)+1:(s[t]=1,"function"==typeof e.willWatchProperty&&e.willWatchProperty(t),f&&t in e&&(r.values[t]=e[t],l(e,t,{configurable:!0,enumerable:e.propertyIsEnumerable(t),set:i.MANDATORY_SETTER_FUNCTION,get:i.DEFAULT_GETTER_FUNCTION(t)})))}}function t(e,t,n){var r=n||a(e),s=r.watching;1===s[t]?(s[t]=0,"function"==typeof e.didUnwatchProperty&&e.didUnwatchProperty(t),f&&t in e&&l(e,t,{configurable:!0,enumerable:e.propertyIsEnumerable(t),set:function(n){l(e,t,{configurable:!0,writable:!0,enumerable:!0,value:n}),delete r.values[t]},get:i.DEFAULT_GETTER_FUNCTION(t)})):s[t]>1&&s[t]--}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1].meta,o=n[1].typeOf,u=n[2].platform,a=s,f=i.ENV.MANDATORY_SETTER,l=u.defineProperty;r.watchKey=e,r.unwatchKey=t}),e("ember-metal/watch_path",["ember-metal/utils","ember-metal/chains","exports"],function(){function e(e,t){var n=t||a(e),r=n.chains;return r?r.value()!==e&&(r=n.chains=r.copy(e)):r=n.chains=new u(null,null,e),r}function t(t,n,r){if("length"!==n||"array"!==o(t)){var i=r||a(t),s=i.watching;s[n]?s[n]=(s[n]||0)+1:(s[n]=1,e(t,i).add(n))}}function n(t,n,r){var i=r||a(t),s=i.watching;1===s[n]?(s[n]=0,e(t,i).remove(n)):s[n]>1&&s[n]--}var r=arguments,i=r[r.length-1],s=r[0].meta,o=r[0].typeOf,u=r[1].ChainNode,a=s;i.watchPath=t,i.unwatchPath=n}),e("ember-metal/watching",["ember-metal/utils","ember-metal/chains","ember-metal/watch_key","ember-metal/watch_path","exports"],function(){function e(e){return-1===e.indexOf(".")}function t(t,n,r){("length"!==n||"array"!==l(t))&&(e(n)?d(t,n,r):m(t,n,r))}function n(e,t){var n=e[a];return(n&&n.watching[t])>0}function r(t,n,r){("length"!==n||"array"!==l(t))&&(e(n)?v(t,n,r):g(t,n,r))}function i(e){var t=e[a],n=t&&t.chains;f in e&&!e.hasOwnProperty(f)&&c(e),n&&n.value()!==e&&(t.chains=n.copy(e))}function s(e){var t,n,r,i,s=e[a];if(s&&(e[a]=null,t=s.chains))for(y.push(t);y.length>0;){if(t=y.pop(),n=t._chains)for(r in n)n.hasOwnProperty(r)&&y.push(n[r]);t._watching&&(i=t._object,i&&h(i,t._key,t))}}var o=arguments,u=o[o.length-1],a=(o[0].meta,o[0].META_KEY),f=o[0].GUID_KEY,l=o[0].typeOf,c=o[0].generateGuid,h=o[1].removeChainWatcher,p=o[1].flushPendingChains,d=o[2].watchKey,v=o[2].unwatchKey,m=o[3].watchPath,g=o[3].unwatchPath;t.flushPending=p;var y=[];u.watch=t,u.isWatching=n,u.unwatch=r,u.rewatch=i,u.destroy=s})}(),function(){e("rsvp/all",["./promise","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"];t["default"]=function(e,t){return n.all(e,t)}}),e("rsvp/all_settled",["./promise","./utils","exports"],function(){function e(e){return{state:"fulfilled",value:e}}function t(e){return{state:"rejected",reason:e}}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1].isArray,o=n[1].isNonThenable;r["default"]=function(n,r){return new i(function(r){function u(t){return function(n){l(t,e(n))}}function f(e){return function(n){l(e,t(n))}}function l(e,t){p[e]=t,0===--h&&r(p)}if(!s(n))throw new TypeError("You must pass an array to allSettled.");var c,h=n.length;if(0===h)return r([]),void 0;for(var p=new Array(h),d=0;d<n.length;d++)c=n[d],o(c)?l(d,e(c)):i.cast(c).then(u(d),f(d))},r)}}),e("rsvp/config",["./events","exports"],function(){function e(e,t){return"onerror"===e?(i.on("error",t),void 0):2!==arguments.length?i[e]:(i[e]=t,void 0)}var t=arguments,n=t[t.length-1],r=t[0]["default"],i={instrument:!1};r.mixin(i),n.config=i,n.configure=e}),e("rsvp/defer",["./promise","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"];t["default"]=function(e){var t={};return t.promise=new n(function(e,n){t.resolve=e,t.reject=n},e),t}}),e("rsvp/events",["exports"],function(){var e=arguments,t=e[e.length-1],n=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},r=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t};t["default"]={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,t){var i,s=r(this);i=s[e],i||(i=s[e]=[]),-1===n(i,t)&&i.push(t)},off:function(e,t){var i,s,o=r(this);return t?(i=o[e],s=n(i,t),-1!==s&&i.splice(s,1),void 0):(o[e]=[],void 0)},trigger:function(e,t){var n,i,s=r(this);if(n=s[e])for(var o=0;o<n.length;o++)(i=n[o])(t)}}}),e("rsvp/filter",["./all","./map","./utils","exports"],function(){function e(e,t,n){return r(e,n).then(function(r){if(!o(e))throw new TypeError("You must pass an array to filter.");if(!s(t))throw new TypeError("You must pass a function to filter's second argument.");return i(e,t,n).then(function(e){var t,n=r.length,i=[];for(t=0;n>t;t++)e[t]&&i.push(r[t]);return i})})}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=t[1]["default"],s=t[2].isFunction,o=t[2].isArray;n["default"]=e}),e("rsvp/hash",["./promise","./utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].isNonThenable,i=e[1].keysOf;t["default"]=function(e){return new n(function(t,s){function o(e){return function(n){l[e]=n,0===--h&&t(l)}}function u(e){h=0,s(e)}var a,f,l={},c=i(e),h=c.length;if(0===h)return t(l),void 0;for(var p=0;p<c.length;p++)f=c[p],a=e[f],r(a)?(l[f]=a,0===--h&&t(l)):n.cast(a).then(o(f),u)})}}),e("rsvp/instrument",["./config","./utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].config,r=e[1].now;t["default"]=function(e,t,i){try{n.trigger(e,{guid:t._guidKey+t._id,eventName:e,detail:t._detail,childGuid:i&&t._guidKey+i._id,label:t._label,timeStamp:r(),stack:(new Error(t._label)).stack})}catch(s){setTimeout(function(){throw s},0)}}}),e("rsvp/map",["./promise","./all","./utils","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1]["default"]),r=e[2].isArray,i=e[2].isFunction;t["default"]=function(e,t,s){return n(e,s).then(function(o){if(!r(e))throw new TypeError("You must pass an array to map.");if(!i(t))throw new TypeError("You must pass a function to map's second argument.");var u,f=o.length,l=[];for(u=0;f>u;u++)l.push(t(o[u]));return n(l,s)})}}),e("rsvp/node",["./promise","exports"],function(){function e(e,t){return function(n,r){n?t(n):arguments.length>2?e(i.call(arguments,1)):e(r)}}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=Array.prototype.slice;n["default"]=function(t,n){return function(){var s=i.call(arguments),o=this||n;return new r(function(n,i){r.all(s).then(function(r){try{r.push(e(n,i)),t.apply(o,r)}catch(s){i(s)}})})}}}),e("rsvp/promise",["./config","./events","./instrument","./utils","./promise/cast","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(){function e(){}function t(r,i){if(!g(r))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof t))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._id=N++,this._label=i,this._subscribers=[],d.instrument&&v("created",this),e!==r&&n(r,this)}function n(e,t){function n(e){u(t,e)}function r(e){f(t,e)}try{e(n,r)}catch(i){r(i)}}function r(e,t,n,r){var i=e._subscribers,s=i.length;i[s]=t,i[s+L]=n,i[s+A]=r}function i(e,t){var n,r,i=e._subscribers,o=e._detail;d.instrument&&v(t===L?"fulfilled":"rejected",e);for(var u=0;u<i.length;u+=3)n=i[u],r=i[u+t],s(t,n,r,o);e._subscribers=null}function s(e,t,n,r){var i,s,a,l,c=g(n);if(c)try{i=n(r),a=!0}catch(h){l=!0,s=h}else i=r,a=!0;o(t,i)||(c&&a?u(t,i):l?f(t,s):e===L?u(t,i):e===A&&f(t,i))}function o(e,t){var n,r=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(m(t)&&(r=t.then,g(r)))return r.call(t,function(r){return n?!0:(n=!0,t!==r?u(e,r):a(e,r),void 0)},function(t){return n?!0:(n=!0,f(e,t),void 0)},"derived from: "+(e._label||" unknown promise")),!0}catch(i){return n?!0:(f(e,i),!0)}return!1}function u(e,t){e===t?a(e,t):o(e,t)||a(e,t)}function a(e,t){e._state===C&&(e._state=k,e._detail=t,d.async(l,e))}function f(e,t){e._state===C&&(e._state=k,e._detail=t,d.async(c,e))}function l(e){i(e,e._state=L)}function c(e){e._onerror&&e._onerror(e._detail),i(e,e._state=A)}var h=arguments,p=h[h.length-1],d=h[0].config,v=(h[1]["default"],h[2]["default"]),m=h[3].objectOrFunction,g=h[3].isFunction,y=h[3].now,b=h[4]["default"],w=h[5]["default"],E=h[6]["default"],S=h[7]["default"],x=h[8]["default"],T="rsvp_"+y()+"-",N=0;p["default"]=t,t.cast=b,t.all=w,t.race=E,t.resolve=S,t.reject=x;var C=void 0,k=0,L=1,A=2;t.prototype={constructor:t,_id:void 0,_guidKey:T,_label:void 0,_state:void 0,_detail:void 0,_subscribers:void 0,_onerror:function(e){d.trigger("error",e)},then:function(t,n,i){var o=this;this._onerror=null;var u=new this.constructor(e,i);if(this._state){var a=arguments;d.async(function(){s(o._state,u,a[o._state-1],o._detail)})}else r(this,u,t,n);return d.instrument&&v("chained",o,u),u},"catch":function(e,t){return this.then(null,e,t)},"finally":function(e,t){var n=this.constructor;return this.then(function(t){return n.cast(e()).then(function(){return t})},function(t){return n.cast(e()).then(function(){throw t})},t)}}}),e("rsvp/promise/all",["../utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].isArray,r=e[0].isNonThenable;t["default"]=function(e,t){var i=this;return new i(function(t,s){function o(e){return function(n){l[e]=n,0===--f&&t(l)}}function u(e){f=0,s(e)}if(!n(e))throw new TypeError("You must pass an array to all.");var a,f=e.length,l=new Array(f);if(0===f)return t(l),void 0;for(var c=0;c<e.length;c++)a=e[c],r(a)?(l[c]=a,0===--f&&t(l)):i.cast(a).then(o(c),u)},t)}}),e("rsvp/promise/cast",["exports"],function(){var e=arguments,t=e[e.length-1];t["default"]=function(e,t){var n=this;return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)},t)}}),e("rsvp/promise/race",["../utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].isArray,r=(e[0].isFunction,e[0].isNonThenable);t["default"]=function(e,t){var i,s=this;return new s(function(t,o){function u(e){l&&(l=!1,t(e))}function f(e){l&&(l=!1,o(e))}if(!n(e))throw new TypeError("You must pass an array to race.");for(var l=!0,c=0;c<e.length;c++){if(i=e[c],r(i))return l=!1,t(i),void 0;s.cast(i).then(u,f)}},t)}}),e("rsvp/promise/reject",["exports"],function(){var e=arguments,t=e[e.length-1];t["default"]=function(e,t){var n=this;return new n(function(t,n){n(e)},t)}}),e("rsvp/promise/resolve",["exports"],function(){var e=arguments,t=e[e.length-1];t["default"]=function(e,t){var n=this;return new n(function(t){t(e)},t)}}),e("rsvp/race",["./promise","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"];t["default"]=function(e,t){return n.race(e,t)}}),e("rsvp/reject",["./promise","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"];t["default"]=function(e,t){return n.reject(e,t)}}),e("rsvp/resolve",["./promise","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"];t["default"]=function(e,t){return n.resolve(e,t)}}),e("rsvp/rethrow",["exports"],function(){var e=arguments,t=e[e.length-1];t["default"]=function(e){throw setTimeout(function(){throw e}),e}}),e("rsvp/utils",["exports"],function(){function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(t){return!e(t)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}var i=arguments,s=i[i.length-1];s.objectOrFunction=e,s.isFunction=t,s.isNonThenable=n,s.isArray=r;var o=Date.now||function(){return(new Date).getTime()};s.now=o;var u=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};s.keysOf=u}),e("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all_settled","./rsvp/race","./rsvp/hash","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","exports"],function(){function e(e,t){d.async(e,t)}function t(){d.on.apply(d,arguments)}function n(){d.off.apply(d,arguments)}var r=arguments,i=r[r.length-1],s=r[0]["default"],o=r[1]["default"],u=r[2]["default"],a=r[3]["default"],f=r[4]["default"],l=r[5]["default"],c=r[6]["default"],h=r[7]["default"],p=r[8]["default"],d=r[9].config,v=r[9].configure,m=r[10]["default"],g=r[11]["default"],y=r[12]["default"],b=r[13]["default"];if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var w=window.__PROMISE_INSTRUMENTATION__;v("instrument",!0);for(var E in w)w.hasOwnProperty(E)&&t(E,w[E])}i.Promise=s,i.EventTarget=o,i.all=a,i.allSettled=f,i.race=l,i.hash=c,i.rethrow=h,i.defer=p,i.denodeify=u,i.configure=v,i.on=t,i.off=n,i.resolve=g,i.reject=y,i.async=e,i.map=m,i.filter=b})}(),function(){e("container/container",["container/inheriting_dict","exports"],function(){function e(e){this.parent=e,this.children=[],this.resolver=e&&e.resolver||function(){},this.registry=new b(e&&e.registry),this.cache=new b(e&&e.cache),this.factoryCache=new b(e&&e.factoryCache),this.resolveCache=new b(e&&e.resolveCache),this.typeInjections=new b(e&&e.typeInjections),this.injections={},this.factoryTypeInjections=new b(e&&e.factoryTypeInjections),this.factoryInjections={},this._options=new b(e&&e._options),this._typeOptions=new b(e&&e._typeOptions)}function t(e,t){return e.cache.has(t)?!0:!!e.resolve(t)}function n(e,t,n){if(n=n||{},e.cache.has(t)&&n.singleton!==!1)return e.cache.get(t);var r=c(e,t);return void 0!==r?(s(e,t)&&n.singleton!==!1&&e.cache.set(t,r),r):void 0}function r(e){throw new Error(e+" is not currently supported on child containers")}function s(e,t){var n=u(e,t,"singleton");return n!==!1}function o(e,t){var r={};if(!t)return r;for(var i,s,o=0,u=t.length;u>o;o++){if(i=t[o],s=n(e,i.fullName),void 0===s)throw new Error("Attempting to inject an unknown injection: `"+i.fullName+"`");r[i.property]=s}return r}function u(e,t,n){var r=e._options.get(t);if(r&&void 0!==r[n])return r[n];var i=t.split(":")[0];return r=e._typeOptions.get(i),r?r[n]:void 0}function a(e,t){var n,r=t,s=e.resolve(r),o=e.factoryCache,u=t.split(":")[0];if(void 0!==s){if(o.has(t))return o.get(t);if(!s||"function"!=typeof s.extend||!i.MODEL_FACTORY_INJECTIONS&&"model"===u)return s;var a=f(e,t),c=l(e,t);return c._toString=e.makeToString(s,t),n=s.extend(a),n.reopenClass(c),o.set(t,n),n}}function f(e,t){var n=t.split(":"),r=n[0],i=[];return i=i.concat(e.typeInjections.get(r)||[]),i=i.concat(e.injections[t]||[]),i=o(e,i),i._debugContainerKey=t,i.container=e,i}function l(e,t){var n=t.split(":"),r=n[0],i=[];return i=i.concat(e.factoryTypeInjections.get(r)||[]),i=i.concat(e.factoryInjections[t]||[]),i=o(e,i),i._debugContainerKey=t,i}function c(e,t){var n=a(e,t);return u(e,t,"instantiate")===!1?n:n?"function"==typeof n.extend?n.create():n.create(f(e,t)):void 0}function h(e,t){e.cache.eachLocal(function(n,r){u(e,n,"instantiate")!==!1&&t(r)})}function p(e){e.cache.eachLocal(function(t,n){u(e,t,"instantiate")!==!1&&n.destroy()}),e.cache.dict={}}function d(e,t,n,r){var i=e.get(t);i||(i=[],e.set(t,i)),i.push({property:n,fullName:r})}function v(e){if(!w.test(e))throw new TypeError("Invalid Fullname, expected: `type:name` got: "+e)}function m(e,t,n,r){var i=e[t]=e[t]||[];i.push({property:n,fullName:r})}var g=arguments,y=g[g.length-1],b=g[0]["default"];e.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var t=new e(this);return this.children.push(t),t},set:function(e,t,n){e[t]=n},register:function(e,t,n){if(v(e),void 0===t)throw new TypeError("Attempting to register an unknown factory: `"+e+"`");var r=this.normalize(e);if(this.cache.has(r))throw new Error("Cannot re-register: `"+e+"`, as it has already been looked up.");this.registry.set(r,t),this._options.set(r,n||{})},unregister:function(e){v(e);var t=this.normalize(e);this.registry.remove(t),this.cache.remove(t),this.factoryCache.remove(t),this.resolveCache.remove(t),this._options.remove(t)},resolve:function(e){v(e);var t=this.normalize(e),n=this.resolveCache.get(t);if(n)return n;var r=this.resolver(t)||this.registry.get(t);return this.resolveCache.set(t,r),r},describe:function(e){return e},normalize:function(e){return e},makeToString:function(e){return e.toString()},lookup:function(e,t){return v(e),n(this,this.normalize(e),t)},lookupFactory:function(e){return v(e),a(this,this.normalize(e))},has:function(e){return v(e),t(this,this.normalize(e))},optionsForType:function(e,t){this.parent&&r("optionsForType"),this._typeOptions.set(e,t)},options:function(e,t){this.optionsForType(e,t)},typeInjection:function(e,t,n){v(n),this.parent&&r("typeInjection");var i=n.split(":")[0];if(i===e)throw new Error("Cannot inject a `"+n+"` on other "+e+"(s). Register the `"+n+"` as a different type and perform the typeInjection.");d(this.typeInjections,e,t,n)},injection:function(e,t,n){this.parent&&r("injection"),v(n);var i=this.normalize(n);if(-1===e.indexOf(":"))return this.typeInjection(e,t,i);v(e);var s=this.normalize(e);m(this.injections,s,t,i)},factoryTypeInjection:function(e,t,n){this.parent&&r("factoryTypeInjection"),d(this.factoryTypeInjections,e,t,this.normalize(n))},factoryInjection:function(e,t,n){this.parent&&r("injection");var i=this.normalize(e),s=this.normalize(n);return v(n),-1===e.indexOf(":")?this.factoryTypeInjection(i,t,s):(v(e),m(this.factoryInjections,i,t,s),void 0)},destroy:function(){for(var e=0,t=this.children.length;t>e;e++)this.children[e].destroy();this.children=[],h(this,function(e){e.destroy()}),this.parent=void 0,this.isDestroyed=!0},reset:function(){for(var e=0,t=this.children.length;t>e;e++)p(this.children[e]);p(this)}};var w=/^[^:]+.+:[^:]+$/;y["default"]=e}),e("container/inheriting_dict",["exports"],function(){function e(e){this.parent=e,this.dict={}}var t=arguments,n=t[t.length-1];e.prototype={parent:null,dict:null,get:function(e){var t=this.dict;return t.hasOwnProperty(e)?t[e]:this.parent?this.parent.get(e):void 0},set:function(e,t){this.dict[e]=t},remove:function(e){delete this.dict[e]},has:function(e){var t=this.dict;return t.hasOwnProperty(e)?!0:this.parent?this.parent.has(e):!1},eachLocal:function(e,t){var n=this.dict;for(var r in n)n.hasOwnProperty(r)&&e.call(t,r,n[r])}},n["default"]=e}),e("container",["container/container","exports"],function(){var e=arguments,t=e[e.length-1];i.MODEL_FACTORY_INJECTIONS=!1,i.ENV&&"undefined"!=typeof i.ENV.MODEL_FACTORY_INJECTIONS&&(i.MODEL_FACTORY_INJECTIONS=!!i.ENV.MODEL_FACTORY_INJECTIONS);var n=e[0]["default"];t["default"]=n})}(),function(){e("ember-runtime/compare",["ember-metal/core","ember-metal/utils","ember-runtime/mixins/comparable","exports"],function(){function e(t,n){if(t===n)return 0;var o=i(t),u=i(n);if(s){if("instance"===o&&s.detect(t.constructor))return t.constructor.compare(t,n);if("instance"===u&&s.detect(n.constructor))return 1-n.constructor.compare(n,t)}var f=r.ORDER_DEFINITION_MAPPING;if(!f){var l=r.ORDER_DEFINITION;f=r.ORDER_DEFINITION_MAPPING={};var c,h;for(c=0,h=l.length;h>c;++c)f[l[c]]=c;delete r.ORDER_DEFINITION}var p=f[o],d=f[u];if(d>p)return-1;if(p>d)return 1;switch(o){case"boolean":case"number":return n>t?-1:t>n?1:0;case"string":var v=t.localeCompare(n);return 0>v?-1:v>0?1:0;case"array":for(var m=t.length,g=n.length,y=Math.min(m,g),b=0,w=0;0===b&&y>w;)b=e(t[w],n[w]),w++;return 0!==b?b:g>m?-1:m>g?1:0;case"instance":return s&&s.detect(t)?t.compare(t,n):0;case"date":var E=t.getTime(),S=n.getTime();return S>E?-1:E>S?1:0;default:return 0}}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=t[1].typeOf,s=t[2]["default"];r.ORDER_DEFINITION=r.ENV.ORDER_DEFINITION||["undefined","null","boolean","number","string","array","object","instance","function","class","date"],n["default"]=e}),e("ember-runtime/computed/array_computed",["ember-metal/core","ember-runtime/computed/reduce_computed","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/observer","ember-metal/error","exports"],function(){function e(){var e=this;return s.apply(this,arguments),this.func=function(t){return function(n){return e._hasInstanceMeta(this,n)||h(e._dependentKeys,function(t){a(this,t,function(){e.recomputeOnce.call(this,n)})},this),t.apply(this,arguments)}}(this.func),this}function t(t){var n;if(arguments.length>1&&(n=l.call(arguments,0,-1),t=l.call(arguments,-1)[0]),"object"!=typeof t)throw new f("Array Computed Property declared without an options hash");var r=new e(t);return n&&r.property.apply(r,n),r}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=(n[1].reduceComputed,n[1].ReduceComputedProperty),o=n[2]["default"],u=n[3].create,a=n[4].addObserver,f=n[5]["default"],l=[].slice,c=u,h=o.forEach;e.prototype=c(s.prototype),e.prototype.initialValue=function(){return i.A()},e.prototype.resetValue=function(e){return e.clear(),e},e.prototype.didChange=function(){},r.arrayComputed=t,r.ArrayComputedProperty=e}),e("ember-runtime/computed/reduce_computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/property_events","ember-metal/expand_properties","ember-metal/observer","ember-metal/computed","ember-metal/platform","ember-metal/enumerable_utils","ember-runtime/system/tracked_array","ember-runtime/mixins/array","ember-metal/run_loop","ember-runtime/system/set","exports"],function(){function e(e,t){return"@this"===t?e:v(e,t)}function t(e,t,n){this.callbacks=e,this.cp=t,this.instanceMeta=n,this.dependentKeysByGuid={},this.trackedArraysByGuid={},this.suspended=!1,this.changedItems={},this.changedItemCount=0}function n(e,t,n){this.dependentArray=e,this.index=t,this.item=e.objectAt(t),this.trackedArray=n,this.beforeObserver=null,this.observer=null,this.destroyed=!1}function r(e,t,n){return 0>e?Math.max(0,t+e):t>e?e:Math.min(t-n,e)}function i(e,t,n){return Math.min(n,t-e)}function s(e,t,n,r,i,s){var o={arrayChanged:e,index:n,item:t,propertyName:r,property:i};return s&&(o.previousValues=s),o}function o(e,t,n,r,i){I(e,function(o,u){i.setValue(t.addedItem.call(this,i.getValue(),o,s(e,o,u,r,n),i.sugarMeta))},this)}function u(e,t){var n;e._callbacks(),e._hasInstanceMeta(this,t)?(n=e._instanceMeta(this,t),n.setValue(e.resetValue(n.getValue()))):n=e._instanceMeta(this,t),e.options.initialize&&e.options.initialize.call(this,n.getValue(),{property:e,propertyName:t},n.sugarMeta)}function a(t,n){if(U.test(n))return!1;var r=e(t,n);return M.detect(r)}function f(e,t,n){this.context=e,this.propertyName=t,this.cache=g(e).cache,this.dependentArrays={},this.sugarMeta={},this.initialValue=n}function l(t){var n=this;this.options=t,this._dependentKeys=null,this._itemPropertyKeys={},this._previousItemPropertyKeys={},this.readOnly(),this.cacheable(),this.recomputeOnce=function(e){_.once(this,r,e)};var r=function(t){var r=(n._dependentKeys,n._instanceMeta(this,t)),i=n._callbacks();u.call(this,n,t),r.dependentArraysObserver.suspendArrayObservers(function(){I(n._dependentKeys,function(t){if(a(this,t)){var i=e(this,t),s=r.dependentArrays[t];i===s?n._previousItemPropertyKeys[t]&&(delete n._previousItemPropertyKeys[t],r.dependentArraysObserver.setupPropertyObservers(t,n._itemPropertyKeys[t])):(r.dependentArrays[t]=i,s&&r.dependentArraysObserver.teardownObservers(s,t),i&&r.dependentArraysObserver.setupObservers(i,t))}},this)},this),I(n._dependentKeys,function(s){if(a(this,s)){var u=e(this,s);u&&o.call(this,u,i,n,t,r)}},this)};this.func=function(e){return r.call(this,e),n._instanceMeta(this,e).getValue()}}function c(e){return e}function h(e){var t;if(arguments.length>1&&(t=j.call(arguments,0,-1),e=j.call(arguments,-1)[0]),"object"!=typeof e)throw new y("Reduce Computed Property declared without an options hash");if("initialValue"in e){var n=new l(e);return t&&n.property.apply(n,t),n}throw new y("Reduce Computed Property declared without an initial value")}var p=arguments,d=p[p.length-1],v=(p[0]["default"],p[1].get),m=(p[2].set,p[3].guidFor),g=p[3].meta,y=p[4]["default"],b=p[5].propertyWillChange,w=p[5].propertyDidChange,E=p[6]["default"],S=p[7].addObserver,x=(p[7].observersFor,p[7].removeObserver),T=p[7].addBeforeObserver,N=p[7].removeBeforeObserver,C=p[8].ComputedProperty,k=p[8].cacheFor,L=p[9].create,A=p[10]["default"],O=p[11]["default"],M=p[12]["default"],_=p[13]["default"],D=p[14]["default"],P=(p[3].isArray,k.set),H=k.get,B=k.remove,j=[].slice,F=L,I=A.forEach,q=/^(.*)\.@each\.(.*)/,R=/(.*\.@each){2,}/,U=/\.\[\]$/;t.prototype={setValue:function(e){this.instanceMeta.setValue(e,!0)},getValue:function(){return this.instanceMeta.getValue()},setupObservers:function(e,t){this.dependentKeysByGuid[m(e)]=t,e.addArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"}),this.cp._itemPropertyKeys[t]&&this.setupPropertyObservers(t,this.cp._itemPropertyKeys[t])},teardownObservers:function(e,t){var n=this.cp._itemPropertyKeys[t]||[];delete this.dependentKeysByGuid[m(e)],this.teardownPropertyObservers(t,n),e.removeArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"})},suspendArrayObservers:function(e,t){var n=this.suspended;this.suspended=!0,e.call(t),this.suspended=n},setupPropertyObservers:function(t,n){var r=e(this.instanceMeta.context,t),i=e(r,"length"),s=new Array(i);this.resetTransformations(t,s),I(r,function(e,i){var o=this.createPropertyObserverContext(r,i,this.trackedArraysByGuid[t]);s[i]=o,I(n,function(t){T(e,t,this,o.beforeObserver),S(e,t,this,o.observer)},this)},this)},teardownPropertyObservers:function(e,t){var n,r,i,s=this,o=this.trackedArraysByGuid[e];o&&o.apply(function(e,o,u){u!==O.DELETE&&I(e,function(e){e.destroyed=!0,n=e.beforeObserver,r=e.observer,i=e.item,I(t,function(e){N(i,e,s,n),x(i,e,s,r)})})})},createPropertyObserverContext:function(e,t,r){var i=new n(e,t,r);return this.createPropertyObserver(i),i},createPropertyObserver:function(e){var t=this;e.beforeObserver=function(n,r){return t.itemPropertyWillChange(n,r,e.dependentArray,e)},e.observer=function(n,r){return t.itemPropertyDidChange(n,r,e.dependentArray,e)}},resetTransformations:function(e,t){this.trackedArraysByGuid[e]=new O(t)},trackAdd:function(e,t,n){var r=this.trackedArraysByGuid[e];r&&r.addItems(t,n)},trackRemove:function(e,t,n){var r=this.trackedArraysByGuid[e];return r?r.removeItems(t,n):[]},updateIndexes:function(t,n){var r=e(n,"length");t.apply(function(e,t,n,i){n!==O.DELETE&&(0!==i||n!==O.RETAIN||e.length!==r||0!==t)&&I(e,function(e,n){e.index=n+t})})},dependentArrayWillChange:function(t,n,o){function u(e){h[c].destroyed=!0,N(f,e,this,h[c].beforeObserver),x(f,e,this,h[c].observer)}if(!this.suspended){var a,f,l,c,h,p=this.callbacks.removedItem,d=m(t),v=this.dependentKeysByGuid[d],g=this.cp._itemPropertyKeys[v]||[],y=e(t,"length"),b=r(n,y,0),w=i(b,y,o);for(h=this.trackRemove(v,b,w),c=w-1;c>=0&&(l=b+c,!(l>=y));--c)f=t.objectAt(l),I(g,u,this),a=s(t,f,l,this.instanceMeta.propertyName,this.cp),this.setValue(p.call(this.instanceMeta.context,this.getValue(),f,a,this.instanceMeta.sugarMeta))}},dependentArrayDidChange:function(t,n,i,o){if(!this.suspended){var u,a,f=this.callbacks.addedItem,l=m(t),c=this.dependentKeysByGuid[l],h=new Array(o),p=this.cp._itemPropertyKeys[c],d=e(t,"length"),v=r(n,d,o);I(t.slice(v,v+o),function(e,n){p&&(a=h[n]=this.createPropertyObserverContext(t,v+n,this.trackedArraysByGuid[c]),I(p,function(t){T(e,t,this,a.beforeObserver),S(e,t,this,a.observer)},this)),u=s(t,e,v+n,this.instanceMeta.propertyName,this.cp),this.setValue(f.call(this.instanceMeta.context,this.getValue(),e,u,this.instanceMeta.sugarMeta))},this),this.trackAdd(c,v,h)}},itemPropertyWillChange:function(t,n,r,i){var s=m(t);this.changedItems[s]||(this.changedItems[s]={array:r,observerContext:i,obj:t,previousValues:{}}),++this.changedItemCount,this.changedItems[s].previousValues[n]=e(t,n)},itemPropertyDidChange:function(){0===--this.changedItemCount&&this.flushChanges()},flushChanges:function(){var e,t,n,r=this.changedItems;for(e in r)t=r[e],t.observerContext.destroyed||(this.updateIndexes(t.observerContext.trackedArray,t.observerContext.dependentArray),n=s(t.array,t.obj,t.observerContext.index,this.instanceMeta.propertyName,this.cp,t.previousValues),this.setValue(this.callbacks.removedItem.call(this.instanceMeta.context,this.getValue(),t.obj,n,this.instanceMeta.sugarMeta)),this.setValue(this.callbacks.addedItem.call(this.instanceMeta.context,this.getValue(),t.obj,n,this.instanceMeta.sugarMeta)));this.changedItems={}}},f.prototype={getValue:function(){var e=H(this.cache,this.propertyName);return void 0!==e?e:this.initialValue},setValue:function(e,t){e!==H(this.cache,this.propertyName)&&(t&&b(this.context,this.propertyName),void 0===e?B(this.cache,this.propertyName):P(this.cache,this.propertyName,e),t&&w(this.context,this.propertyName))}},l.prototype=F(C.prototype),l.prototype._callbacks=function(){if(!this.callbacks){var e=this.options;this.callbacks={removedItem:e.removedItem||c,addedItem:e.addedItem||c}}return this.callbacks},l.prototype._hasInstanceMeta=function(e,t){return!!g(e).cacheMeta[t]},l.prototype._instanceMeta=function(e,n){var r=g(e).cacheMeta,i=r[n];return i||(i=r[n]=new f(e,n,this.initialValue()),i.dependentArraysObserver=new t(this._callbacks(),this,i,e,n,i.sugarMeta)),i},l.prototype.initialValue=function(){return"function"==typeof this.options.initialValue?this.options.initialValue():this.options.initialValue},l.prototype.resetValue=function(){return this.initialValue()},l.prototype.itemPropertyKey=function(e,t){this._itemPropertyKeys[e]=this._itemPropertyKeys[e]||[],this._itemPropertyKeys[e].push(t)},l.prototype.clearItemPropertyKeys=function(e){this._itemPropertyKeys[e]&&(this._previousItemPropertyKeys[e]=this._itemPropertyKeys[e],this._itemPropertyKeys[e]=[])},l.prototype.property=function(){var e,t,n=this,r=j.call(arguments),i=new D;return I(r,function(r){if(R.test(r))throw new y("Nested @each properties not supported: "+r);if(e=q.exec(r)){t=e[1];var s=e[2],o=function(e){n.itemPropertyKey(t,e)};E(s,o),i.add(t)}else i.add(r)}),C.prototype.property.apply(this,i.toArray())},d.reduceComputed=h,d.ReduceComputedProperty=l}),e("ember-runtime/computed/reduce_computed_macros",["ember-metal/core","ember-metal/merge","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/run_loop","ember-metal/observer","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/system/object_proxy","ember-runtime/system/subarray","ember-runtime/keys","ember-runtime/compare","exports"],function(){function e(e){return x(e,{initialValue:0,addedItem:function(e,t){return e+t},removedItem:function(e,t){return e-t}})}function t(e){return x(e,{initialValue:-1/0,addedItem:function(e,t){return Math.max(e,t)},removedItem:function(e,t){return e>t?e:void 0}})}function n(e){return x(e,{initialValue:1/0,addedItem:function(e,t){return Math.min(e,t)},removedItem:function(e,t){return t>e?e:void 0}})}function r(e,t){var n={addedItem:function(e,n,r){var i=t.call(this,n);return e.insertAt(r.index,i),e},removedItem:function(e,t,n){return e.removeAt(n.index,1),e}};return S(e,n)}function i(e,t){var n=function(e){return m(e,t)};return r(e+".@each."+t,n)}function s(e,t){var n={initialize:function(e,t,n){n.filteredArrayIndexes=new N},addedItem:function(e,n,r,i){var s=!!t.call(this,n),o=i.filteredArrayIndexes.addItem(r.index,s);return s&&e.insertAt(o,n),e},removedItem:function(e,t,n,r){var i=r.filteredArrayIndexes.removeItem(n.index);return i>-1&&e.removeAt(i),e}};return S(e,n)}function o(e,t,n){var r;return r=2===arguments.length?function(e){return m(e,t)}:function(e){return m(e,t)===n},s(e+".@each."+t,r)}function u(){var e=L.call(arguments);return e.push({initialize:function(e,t,n){n.itemCounts={}},addedItem:function(e,t,n,r){var i=g(t);return r.itemCounts[i]?++r.itemCounts[i]:r.itemCounts[i]=1,e.addObject(t),e},removedItem:function(e,t,n,r){var i=g(t),s=r.itemCounts;return 0===--s[i]&&e.removeObject(t),e}}),S.apply(null,e)}function a(){var e=function(e){return b.map(e.property._dependentKeys,function(e){return g(e)})},t=L.call(arguments);return t.push({initialize:function(e,t,n){n.itemCounts={}},addedItem:function(t,n,r,i){var s=g(n),o=(e(r),g(r.arrayChanged)),u=r.property._dependentKeys.length,a=i.itemCounts;return a[s]||(a[s]={}),void 0===a[s][o]&&(a[s][o]=0),1===++a[s][o]&&u===C(a[s]).length&&t.addObject(n),t},removedItem:function(t,n,r,i){var s,o=g(n),u=(e(r),g(r.arrayChanged)),a=(r.property._dependentKeys.length,i.itemCounts);return void 0===a[o][u]&&(a[o][u]=0),0===--a[o][u]&&(delete a[o][u],s=C(a[o]).length,0===s&&delete a[o],t.removeObject(n)),t}}),S.apply(null,t)}function f(e,t){if(2!==arguments.length)throw new y("setDiff requires exactly two dependent arrays.");return S(e,t,{addedItem:function(n,r,i){var s=m(this,e),o=m(this,t);return i.arrayChanged===s?o.contains(r)||n.addObject(r):n.removeObject(r),n},removedItem:function(n,r,i){var s=m(this,e),o=m(this,t);return i.arrayChanged===o?s.contains(r)&&n.addObject(r):n.removeObject(r),n}})}function l(e,t,n,r){function i(e){return h.detectInstance(e)?g(m(e,"content")):g(e)}var s,o,u,a,f;return arguments.length<4&&(r=m(e,"length")),arguments.length<3&&(n=0),n===r?n:(s=n+Math.floor((r-n)/2),o=e.objectAt(s),a=i(o),f=i(t),a===f?s:(u=this.order(o,t),0===u&&(u=f>a?-1:1),0>u?this.binarySearch(e,t,s+1,r):u>0?this.binarySearch(e,t,n,s):s))}function c(e,t){var n,r;return"function"==typeof t?n=function(e,n,r){r.order=t,r.binarySearch=l}:(r=t,n=function(t,n,i){function s(){var t,s,u,a=m(this,r),f=i.sortProperties=[],l=i.sortPropertyAscending={};n.property.clearItemPropertyKeys(e),A(a,function(r){-1!==(s=r.indexOf(":"))?(t=r.substring(0,s),u="desc"!==r.substring(s+1).toLowerCase()):(t=r,u=!0),f.push(t),l[t]=u,n.property.itemPropertyKey(e,t)}),a.addObserver("@each",this,o)}function o(){w.once(this,u,n.propertyName)}function u(e){s.call(this),n.property.recomputeOnce.call(this,e)}E(this,r,o),s.call(this),i.order=function(e,t){for(var n,r,i,s=t instanceof h,o=0;o<this.sortProperties.length;++o)if(n=this.sortProperties[o],r=k(m(e,n),s?t[n]:m(t,n)),0!==r)return i=this.sortPropertyAscending[n],i?r:-1*r;return 0},i.binarySearch=l}),S(e,{initialize:n,addedItem:function(e,t,n,r){var i=r.binarySearch(e,t);return e.insertAt(i,t),e},removedItem:function(e,t,n,r){var i,s,o;return n.previousValues?(i=v({content:t},n.previousValues),o=h.create(i)):o=t,s=r.binarySearch(e,o),e.removeAt(s),e}})}var h,p=arguments,d=p[p.length-1],v=(p[0]["default"],p[1]["default"]),m=p[2].get,g=(p[3].set,p[4].isArray,p[4].guidFor),y=p[5]["default"],b=p[6]["default"],w=p[7]["default"],E=p[8].addObserver,S=p[9].arrayComputed,x=p[10].reduceComputed,T=p[11]["default"],N=p[12]["default"],C=p[13]["default"],k=p[14]["default"],L=[].slice,A=b.forEach,O=i,M=o,_=u,h=T.extend();d.sum=e,d.min=n,d.max=t,d.map=r,d.sort=c,d.setDiff=f,d.mapBy=i,d.mapProperty=O,d.filter=s,d.filterBy=o,d.filterProperty=M,d.uniq=u,d.union=_,d.intersect=a}),e("ember-runtime/controllers/array_controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-runtime/system/array_proxy","ember-runtime/mixins/sortable","ember-runtime/controllers/controller","ember-metal/computed","ember-metal/error","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=(e[2].set,e[3]["default"]),s=e[4]["default"],o=e[5]["default"],u=e[6].ControllerMixin,a=e[7].computed,f=e[8]["default"],l=i.forEach,c=i.replace,h=s.extend(u,o,{itemController:null,lookupItemController:function(){return r(this,"itemController")},objectAtContent:function(e){var t=r(this,"length"),n=r(this,"arrangedContent"),i=n&&n.objectAt(e);if(e>=0&&t>e){var s=this.lookupItemController(i);if(s)return this.controllerAt(e,i,s)}return i},arrangedContentDidChange:function(){this._super(),this._resetSubControllers()},arrayContentDidChange:function(e,t,n){var i=r(this,"_subControllers"),s=i.slice(e,e+t);l(s,function(e){e&&e.destroy()}),c(i,e,t,new Array(n)),this._super(e,t,n)},init:function(){this._super(),this.set("_subControllers",[])},content:a(function(){return n.A()}),_isVirtual:!1,controllerAt:function(e,t,n){var i,s=r(this,"container"),o=r(this,"_subControllers"),u=o[e];if(u)return u;if(i="controller:"+n,!s.has(i))throw new f('Could not resolve itemController: "'+n+'"');var a;return this._isVirtual&&(a=r(this,"parentController")),a=a||this,u=s.lookupFactory(i).create({target:this,parentController:a,content:t}),o[e]=u,u},_subControllers:null,_resetSubControllers:function(){var e,t=r(this,"_subControllers");if(t.length){for(var n=0,i=t.length;i>n;n++)e=t[n],e&&e.destroy();t.length=0}},willDestroy:function(){this._resetSubControllers(),this._super()}});t["default"]=h}),e("ember-runtime/controllers/controller",["ember-metal/core","ember-metal/property_get","ember-runtime/system/object","ember-metal/mixin","ember-metal/computed","ember-runtime/mixins/action_handler","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get,e[2]["default"]),r=e[3].Mixin,i=e[4].computed,s=e[5]["default"],o=r.create(s,{isController:!0,target:null,container:null,parentController:null,store:null,model:i.alias("content"),deprecatedSendHandles:function(e){return!!this[e]},deprecatedSend:function(e){var t=[].slice.call(arguments,1);this[e].apply(this,t)}}),u=n.extend(o);t.Controller=u,t.ControllerMixin=o}),e("ember-runtime/controllers/object_controller",["ember-runtime/controllers/controller","ember-runtime/system/object_proxy","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].ControllerMixin,r=e[1]["default"],i=r.extend(n);t["default"]=i}),e("ember-runtime/copy",["ember-metal/enumerable_utils","ember-metal/utils","ember-runtime/system/object","ember-runtime/mixins/copyable","ember-metal/platform","exports"],function(){function e(t,n,r,i){var f,l,c;if("object"!=typeof t||null===t)return t;if(n&&(l=u(r,t))>=0)return i[l];if("array"===s(t)){if(f=t.slice(),n)for(l=f.length;--l>=0;)f[l]=e(f[l],n,r,i)}else if(o&&o.detect(t))f=t.copy(n,r,i);else if(t instanceof Date)f=new Date(t.getTime());else{f={};for(c in t)t.hasOwnProperty(c)&&"__"!==c.substring(0,2)&&(f[c]=n?e(t[c],n,r,i):t[c])}return n&&(r.push(t),i.push(f)),f}function t(t,n){return"object"!=typeof t||null===t?t:o&&o.detect(t)?t.copy(n):e(t,n,n?[]:null,n?[]:null)}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1].typeOf,o=(n[2]["default"],n[3]["default"]),u=(n[4].create,i.indexOf);r["default"]=t}),e("ember-runtime/core",["exports"],function(){function e(e,t){return e&&"function"==typeof e.isEqual?e.isEqual(t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t}var t=arguments,n=t[t.length-1];n.isEqual=e}),e("ember-runtime/ext/function",["ember-metal/core","ember-metal/expand_properties","ember-metal/computed"],function(){var e=arguments,t=(e[e.length-1],e[0]["default"]),n=e[1]["default"],r=e[2].computed,i=Array.prototype.slice,s=Function.prototype;(t.EXTEND_PROTOTYPES===!0||t.EXTEND_PROTOTYPES.Function)&&(s.property=function(){var e=r(this);return e.property.apply(e,arguments)},s.observes=function(){for(var e=function(e){t.push(e)},t=[],r=0;r<arguments.length;++r)n(arguments[r],e);return this.__ember_observes__=t,this},s.observesImmediately=function(){for(var e=0,t=arguments.length;t>e;e++)arguments[e];return this.observes.apply(this,arguments)},s.observesBefore=function(){for(var e=function(e){t.push(e)},t=[],r=0;r<arguments.length;++r)n(arguments[r],e);return this.__ember_observesBefore__=t,this},s.on=function(){var e=i.call(arguments);return this.__ember_listens__=e,this})}),e("ember-runtime/ext/rsvp",["ember-metal/core","ember-metal/logger","exports"],function(){var e,n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1]["default"],o=t("rsvp"),u="ember-testing/test";o.onerrorDefault=function(n){if(n instanceof Error)if(i.testing){if(!e&&i.__loader.registry[u]&&(e=t(u)["default"]),!e||!e.adapter)throw n;e.adapter.exception(n)}else i.onerror?i.onerror(n):s.error(n.stack)},o.on("error",o.onerrorDefault),r["default"]=o}),e("ember-runtime/ext/string",["ember-metal/core","ember-runtime/system/string"],function(){var e=arguments,t=(e[e.length-1],e[0]["default"]),n=e[1].fmt,r=e[1].w,i=e[1].loc,s=e[1].camelize,o=e[1].decamelize,u=e[1].dasherize,a=e[1].underscore,f=e[1].capitalize,l=e[1].classify,c=String.prototype;(t.EXTEND_PROTOTYPES===!0||t.EXTEND_PROTOTYPES.String)&&(c.fmt=function(){return n(this,arguments)},c.w=function(){return r(this)},c.loc=function(){return i(this,arguments)},c.camelize=function(){return s(this)},c.decamelize=function(){return o(this)},c.dasherize=function(){return u(this)},c.underscore=function(){return a(this)},c.classify=function(){return l(this)},c.capitalize=function(){return f(this)})}),e("ember-runtime/keys",["ember-metal/enumerable_utils","ember-metal/platform","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].create,i=Object.keys;if(!i||r.isSimulated){var s=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","valueOf","toLocaleString","toString"],o=function(e,t,r){"__"!==r.substring(0,2)&&"_super"!==r&&(n.indexOf(t,r)>=0||("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(r))&&t.push(r))};i=function(e){var t,n=[];for(t in e)o(e,n,t);for(var r=0,i=s.length;i>r;r++)t=s[r],o(e,n,t);return n}}t["default"]=i}),e("ember-runtime",["ember-metal","ember-runtime/core","ember-runtime/keys","ember-runtime/compare","ember-runtime/copy","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/tracked_array","ember-runtime/system/subarray","ember-runtime/system/container","ember-runtime/system/application","ember-runtime/system/array_proxy","ember-runtime/system/object_proxy","ember-runtime/system/core_object","ember-runtime/system/each_proxy","ember-runtime/system/native_array","ember-runtime/system/set","ember-runtime/system/string","ember-runtime/system/deferred","ember-runtime/system/lazy_load","ember-runtime/mixins/array","ember-runtime/mixins/comparable","ember-runtime/mixins/copyable","ember-runtime/mixins/enumerable","ember-runtime/mixins/freezable","ember-runtime/mixins/observable","ember-runtime/mixins/action_handler","ember-runtime/mixins/deferred","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/mutable_array","ember-runtime/mixins/target_action_support","ember-runtime/mixins/evented","ember-runtime/mixins/promise_proxy","ember-runtime/mixins/sortable","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/computed/reduce_computed_macros","ember-runtime/controllers/array_controller","ember-runtime/controllers/object_controller","ember-runtime/controllers/controller","ember-runtime/ext/rsvp","ember-runtime/ext/string","ember-runtime/ext/function","exports"],function(){var e=arguments,t=e[e.length-1];i.compare=e[3]["default"],i.copy=e[4]["default"],i.isEqual=e[1].isEqual,i.keys=e[2]["default"],i.Array=e[20]["default"],i.Comparable=e[21]["default"],i.Copyable=e[22]["default"],i.SortableMixin=e[33]["default"],i.Freezable=e[24].Freezable,i.FROZEN_ERROR=e[24].FROZEN_ERROR,i.DeferredMixin=e[27]["default"],i.MutableEnumerable=e[28]["default"],i.MutableArray=e[29]["default"],i.TargetActionSupport=e[30]["default"],i.Evented=e[31]["default"],i.PromiseProxyMixin=e[32]["default"],i.Observable=e[25]["default"],i.arrayComputed=e[34].arrayComputed,i.ArrayComputedProperty=e[34].ArrayComputedProperty,i.reduceComputed=e[35].reduceComputed,i.ReduceComputedProperty=e[35].ReduceComputedProperty;var n=i.computed;n.sum=e[36].sum,n.min=e[36].min,n.max=e[36].max,n.map=e[36].map,n.sort=e[36].sort,n.setDiff=e[36].setDiff,n.mapBy=e[36].mapBy,n.mapProperty=e[36].mapProperty,n.filter=e[36].filter,n.filterBy=e[36].filterBy,n.filterProperty=e[36].filterProperty,n.uniq=e[36].uniq,n.union=e[36].union,n.intersect=e[36].intersect,i.String=e[17]["default"],i.Object=e[6]["default"],i.TrackedArray=e[7]["default"],i.SubArray=e[8]["default"],i.Container=e[9]["default"],i.Namespace=e[5]["default"],i.Application=e[10]["default"],i.Enumerable=e[23]["default"],i.ArrayProxy=e[11]["default"],i.ObjectProxy=e[12]["default"],i.ActionHandler=e[26]["default"],i.CoreObject=e[13]["default"],i.EachArray=e[14].EachArray,i.EachProxy=e[14].EachProxy,i.NativeArray=e[15]["default"],i.Set=e[16]["default"],i.Deferred=e[18]["default"],i.onLoad=e[19].onLoad,i.runLoadHooks=e[19].runLoadHooks,i.ArrayController=e[37]["default"],i.ObjectController=e[38]["default"],i.Controller=e[39].Controller,i.ControllerMixin=e[39].ControllerMixin,i.RSVP=e[40]["default"],t["default"]=i}),e("ember-runtime/mixins/action_handler",["ember-metal/merge","ember-metal/mixin","ember-metal/property_get","ember-metal/utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].Mixin,s=e[2].get,o=e[3].typeOf,u=r.create({mergedProperties:["_actions"],willMergeMixin:function(e){var t;e._actions||("object"===o(e.actions)?t="actions":"object"===o(e.events)&&(t="events"),t&&(e._actions=n(e._actions||{},e[t])),delete e[t])},send:function(e){var t,n=[].slice.call(arguments,1);if(this._actions&&this._actions[e]){if(this._actions[e].apply(this,n)!==!0)return}else if(!i.FEATURES.isEnabled("ember-routing-drop-deprecated-action-style")&&this.deprecatedSend&&this.deprecatedSendHandles&&this.deprecatedSendHandles(e)&&this.deprecatedSend.apply(this,[].slice.call(arguments))!==!0)return;(t=s(this,"target"))&&t.send.apply(t,arguments)}});t["default"]=u}),e("ember-runtime/mixins/array",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/is_none","ember-runtime/mixins/enumerable","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/property_events","ember-metal/events","ember-metal/watching","exports"],function(){var e=arguments,n=e[e.length-1],r=e[0]["default"],i=e[1].get,s=(e[2].set,e[3].computed),o=e[3].cacheFor,u=e[4].isNone,a=(e[4].none,e[5]["default"]),f=e[6]["default"],l=e[7].Mixin,c=e[7].required,h=e[8].propertyWillChange,p=e[8].propertyDidChange,d=e[9].addListener,v=e[9].removeListener,m=e[9].sendEvent,g=e[9].hasListeners,y=e[10].isWatching,b=f.map,w=l.create(a,{length:c(),objectAt:function(e){return 0>e||e>=i(this,"length")?void 0:i(this,e)},objectsAt:function(e){var t=this;return b(e,function(e){return t.objectAt(e)})},nextObject:function(e){return this.objectAt(e)},"[]":s(function(e,t){return void 0!==t&&this.replace(0,i(this,"length"),t),this}),firstObject:s(function(){return this.objectAt(0)}),lastObject:s(function(){return this.objectAt(i(this,"length")-1)}),contains:function(e){return this.indexOf(e)>=0},slice:function(e,t){var n=r.A(),s=i(this,"length");for(u(e)&&(e=0),(u(t)||t>s)&&(t=s),0>e&&(e=s+e),0>t&&(t=s+t);t>e;)n[n.length]=this.objectAt(e++);return n},indexOf:function(e,t){var n,r=i(this,"length");for(void 0===t&&(t=0),0>t&&(t+=r),n=t;r>n;n++)if(this.objectAt(n)===e)return n;return-1},lastIndexOf:function(e,t){var n,r=i(this,"length");for((void 0===t||t>=r)&&(t=r-1),0>t&&(t+=r),n=t;n>=0;n--)if(this.objectAt(n)===e)return n;return-1},addArrayObserver:function(e,t){var n=t&&t.willChange||"arrayWillChange",r=t&&t.didChange||"arrayDidChange",s=i(this,"hasArrayObservers");return s||h(this,"hasArrayObservers"),d(this,"@array:before",e,n),d(this,"@array:change",e,r),s||p(this,"hasArrayObservers"),this},removeArrayObserver:function(e,t){var n=t&&t.willChange||"arrayWillChange",r=t&&t.didChange||"arrayDidChange",s=i(this,"hasArrayObservers");return s&&h(this,"hasArrayObservers"),v(this,"@array:before",e,n),v(this,"@array:change",e,r),s&&p(this,"hasArrayObservers"),this},hasArrayObservers:s(function(){return g(this,"@array:change")||g(this,"@array:before")}),arrayContentWillChange:function(e,t,n){void 0===e?(e=0,t=n=-1):(void 0===t&&(t=-1),void 0===n&&(n=-1)),y(this,"@each")&&i(this,"@each"),m(this,"@array:before",[this,e,t,n]);var r,s;if(e>=0&&t>=0&&i(this,"hasEnumerableObservers")){r=[],s=e+t;for(var o=e;s>o;o++)r.push(this.objectAt(o))}else r=t;return this.enumerableContentWillChange(r,n),this},arrayContentDidChange:function(e,t,n){void 0===e?(e=0,t=n=-1):(void 0===t&&(t=-1),void 0===n&&(n=-1));var r,s;if(e>=0&&n>=0&&i(this,"hasEnumerableObservers")){r=[],s=e+n;for(var u=e;s>u;u++)r.push(this.objectAt(u))}else r=n;this.enumerableContentDidChange(t,r),m(this,"@array:change",[this,e,t,n]);var a=i(this,"length"),f=o(this,"firstObject"),l=o(this,"lastObject");return this.objectAt(0)!==f&&(h(this,"firstObject"),p(this,"firstObject")),this.objectAt(a-1)!==l&&(h(this,"lastObject"),p(this,"lastObject")),this},"@each":s(function(){if(!this.__each){var e=t("ember-runtime/system/each_proxy").EachProxy;this.__each=new e(this)}return this.__each})});n["default"]=w}),e("ember-runtime/mixins/comparable",["ember-metal/mixin","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].Mixin,r=e[0].required,i=n.create({compare:r(Function)});t["default"]=i}),e("ember-runtime/mixins/copyable",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/freezable","ember-runtime/system/string","ember-metal/error","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].get,r=(e[1].set,e[2].required),i=e[3].Freezable,s=e[2].Mixin,o=e[4].fmt,u=e[5]["default"],a=s.create({copy:r(Function),frozenCopy:function(){if(i&&i.detect(this))return n(this,"isFrozen")?this:this.copy().freeze();throw new u(o("%@ does not support freezing",[this]))}});t["default"]=a}),e("ember-runtime/mixins/deferred",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","ember-metal/computed","ember-metal/run_loop","ember-runtime/ext/rsvp","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=e[2].Mixin,s=e[3].computed,o=e[4]["default"],u=e[5]["default"],a=function(){n.Test&&n.Test.adapter&&n.Test.adapter.asyncStart()},f=function(){n.Test&&n.Test.adapter&&n.Test.adapter.asyncEnd()};u.configure("async",function(e,t){var r=!o.currentRunLoop;n.testing&&r&&a(),o.backburner.schedule("actions",function(){n.testing&&r&&f(),e(t)})}),u.Promise.prototype.fail=function(e,t){return this["catch"](e,t)};var l=i.create({then:function(e,t,n){function i(t){return t===o?e(u):e(t)}var s,o,u;return u=this,s=r(this,"_deferred"),o=s.promise,o.then(e&&i,t,n)},resolve:function(e){var t,n;t=r(this,"_deferred"),n=t.promise,e===this?t.resolve(n):t.resolve(e)},reject:function(e){r(this,"_deferred").reject(e)},_deferred:s(function(){return u.defer("Ember: DeferredMixin - "+this)})});t["default"]=l}),e("ember-runtime/mixins/enumerable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/property_events","ember-metal/events","ember-runtime/compare","exports"],function(){function e(){return 0===x.length?{}:x.pop()}function t(e){return x.push(e),null}function n(e,t){function n(n){var i=o(n,e);return r?t===i:!!i}var r=2===arguments.length;return n}var r=arguments,i=r[r.length-1],s=r[0]["default"],o=r[1].get,u=r[2].set,a=r[3].apply,f=r[4].Mixin,l=r[4].required,c=r[4].aliasMethod,h=r[5]["default"],p=r[6].computed,d=r[7].propertyWillChange,v=r[7].propertyDidChange,m=r[8].addListener,g=r[8].removeListener,y=r[8].sendEvent,b=r[8].hasListeners,w=r[9]["default"],E=Array.prototype.slice,S=h.indexOf,x=[],T=f.create({nextObject:l(Function),firstObject:p(function(){if(0===o(this,"length"))return void 0;var n,r=e();return n=this.nextObject(0,null,r),t(r),n}).property("[]"),lastObject:p(function(){var n=o(this,"length");if(0===n)return void 0;var r,i=e(),s=0,u=null;do u=r,r=this.nextObject(s++,u,i);while(void 0!==r);return t(i),u}).property("[]"),contains:function(e){return void 0!==this.find(function(t){return t===e})},forEach:function(n,r){if("function"!=typeof n)throw new TypeError;var i=o(this,"length"),s=null,u=e();void 0===r&&(r=null);for(var a=0;i>a;a++){var f=this.nextObject(a,s,u);n.call(r,f,a,this),s=f}return s=null,u=t(u),this},getEach:function(e){return this.mapBy(e)},setEach:function(e,t){return this.forEach(function(n){u(n,e,t)})},map:function(e,t){var n=s.A();return this.forEach(function(r,i,s){n[i]=e.call(t,r,i,s)}),n},mapBy:function(e){return this.map(function(t){return o(t,e)})},mapProperty:c("mapBy"),filter:function(e,t){var n=s.A();return this.forEach(function(r,i,s){e.call(t,r,i,s)&&n.push(r)}),n},reject:function(e,t){return this.filter(function(){return!a(t,e,arguments)})},filterBy:function(){return this.filter(a(this,n,arguments))},filterProperty:c("filterBy"),rejectBy:function(e,t){var n=function(n){return o(n,e)===t},r=function(t){return!!o(t,e)},i=2===arguments.length?n:r;return this.reject(i)},rejectProperty:c("rejectBy"),find:function(n,r){var i=o(this,"length");void 0===r&&(r=null);for(var s,u,a=null,f=!1,l=e(),c=0;i>c&&!f;c++)s=this.nextObject(c,a,l),(f=n.call(r,s,c,this))&&(u=s),a=s;return s=a=null,l=t(l),u},findBy:function(){return this.find(a(this,n,arguments))},findProperty:c("findBy"),every:function(e,t){return!this.find(function(n,r,i){return!e.call(t,n,r,i)})},everyBy:c("isEvery"),everyProperty:c("isEvery"),isEvery:function(){return this.every(a(this,n,arguments))},any:function(n,r){var i,s,u=o(this,"length"),a=e(),f=!1,l=null;for(void 0===r&&(r=null),s=0;u>s&&!f;s++)i=this.nextObject(s,l,a),f=n.call(r,i,s,this),l=i;return i=l=null,a=t(a),f},some:c("any"),isAny:function(){return this.any(a(this,n,arguments))},anyBy:c("isAny"),someProperty:c("isAny"),reduce:function(e,t,n){if("function"!=typeof e)throw new TypeError;var r=t;return this.forEach(function(t,i){r=e(r,t,i,this,n)},this),r},invoke:function(e){var t,n=s.A();return arguments.length>1&&(t=E.call(arguments,1)),this.forEach(function(r,i){var s=r&&r[e];"function"==typeof s&&(n[i]=t?a(r,s,t):r[e]())},this),n},toArray:function(){var e=s.A();return this.forEach(function(t,n){e[n]=t}),e},compact:function(){return this.filter(function(e){return null!=e})},without:function(e){if(!this.contains(e))return this;var t=s.A();return this.forEach(function(n){n!==e&&(t[t.length]=n)}),t},uniq:function(){var e=s.A();return this.forEach(function(t){S(e,t)<0&&e.push(t)}),e},"[]":p(function(){return this}),addEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",r=t&&t.didChange||"enumerableDidChange",i=o(this,"hasEnumerableObservers");return i||d(this,"hasEnumerableObservers"),m(this,"@enumerable:before",e,n),m(this,"@enumerable:change",e,r),i||v(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",r=t&&t.didChange||"enumerableDidChange",i=o(this,"hasEnumerableObservers");return i&&d(this,"hasEnumerableObservers"),g(this,"@enumerable:before",e,n),g(this,"@enumerable:change",e,r),i&&v(this,"hasEnumerableObservers"),this},hasEnumerableObservers:p(function(){return b(this,"@enumerable:change")||b(this,"@enumerable:before")}),enumerableContentWillChange:function(e,t){var n,r,i;return n="number"==typeof e?e:e?o(e,"length"):e=-1,r="number"==typeof t?t:t?o(t,"length"):t=-1,i=0>r||0>n||r-n!==0,-1===e&&(e=null),-1===t&&(t=null),d(this,"[]"),i&&d(this,"length"),y(this,"@enumerable:before",[this,e,t]),this},enumerableContentDidChange:function(e,t){var n,r,i;return n="number"==typeof e?e:e?o(e,"length"):e=-1,r="number"==typeof t?t:t?o(t,"length"):t=-1,i=0>r||0>n||r-n!==0,-1===e&&(e=null),-1===t&&(t=null),y(this,"@enumerable:change",[this,e,t]),i&&v(this,"length"),v(this,"[]"),this},sortBy:function(){var e=arguments;return this.toArray().sort(function(t,n){for(var r=0;r<e.length;r++){var i=e[r],s=o(t,i),u=o(n,i),a=w(s,u);if(a)return a}return 0})}});i["default"]=T}),e("ember-runtime/mixins/evented",["ember-metal/mixin","ember-metal/events","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].Mixin,r=e[1].addListener,i=e[1].removeListener,s=e[1].hasListeners,o=e[1].sendEvent,u=n.create({on:function(e,t,n){return r(this,e,t,n),this},one:function(e,t,n){return n||(n=t,t=null),r(this,e,t,n,!0),this},trigger:function(e){var t,n,r=[];for(t=1,n=arguments.length;n>t;t++)r.push(arguments[t]);o(this,e,r)},off:function(e,t,n){return i(this,e,t,n),this},has:function(e){return s(this,e)}});t["default"]=u}),e("ember-runtime/mixins/freezable",["ember-metal/mixin","ember-metal/property_get","ember-metal/property_set","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].Mixin,r=e[1].get,i=e[2].set,s=n.create({isFrozen:!1,freeze:function(){return r(this,"isFrozen")?this:(i(this,"isFrozen",!0),this)}}),o="Frozen object cannot be modified.";t.Freezable=s,t.FROZEN_ERROR=o}),e("ember-runtime/mixins/mutable_array",["ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","exports"],function(){var e=arguments,t=e[e.length-1],n="Index out of range",r=[],i=e[0].get,s=(e[1].set,e[2].isArray),o=e[3]["default"],u=e[4].Mixin,a=e[4].required,f=e[5]["default"],l=e[6]["default"],c=e[7]["default"],h=u.create(f,l,{replace:a(),clear:function(){var e=i(this,"length");return 0===e?this:(this.replace(0,e,r),this)},insertAt:function(e,t){if(e>i(this,"length"))throw new o(n);return this.replace(e,0,[t]),this},removeAt:function(e,t){if("number"==typeof e){if(0>e||e>=i(this,"length"))throw new o(n);void 0===t&&(t=1),this.replace(e,t,r)}return this},pushObject:function(e){return this.insertAt(i(this,"length"),e),e},pushObjects:function(e){if(!c.detect(e)&&!s(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this.replace(i(this,"length"),0,e),this},popObject:function(){var e=i(this,"length");if(0===e)return null;var t=this.objectAt(e-1);return this.removeAt(e-1,1),t},shiftObject:function(){if(0===i(this,"length"))return null;var e=this.objectAt(0);return this.removeAt(0),e},unshiftObject:function(e){return this.insertAt(0,e),e},unshiftObjects:function(e){return this.replace(0,0,e),this},reverseObjects:function(){var e=i(this,"length");if(0===e)return this;var t=this.toArray().reverse();return this.replace(0,e,t),this},setObjects:function(e){if(0===e.length)return this.clear();var t=i(this,"length");return this.replace(0,t,e),this},removeObject:function(e){for(var t=i(this,"length")||0;--t>=0;){var n=this.objectAt(t);n===e&&this.removeAt(t)}return this},addObject:function(e){return this.contains(e)||this.pushObject(e),this}});t["default"]=h}),e("ember-runtime/mixins/mutable_enumerable",["ember-metal/enumerable_utils","ember-runtime/mixins/enumerable","ember-metal/mixin","ember-metal/property_events","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=e[2].Mixin,s=e[2].required,o=e[3].beginPropertyChanges,u=e[3].endPropertyChanges,a=n.forEach,f=i.create(r,{addObject:s(Function),addObjects:function(e){return o(this),a(e,function(e){this.addObject(e)},this),u(this),this},removeObject:s(Function),removeObjects:function(e){o(this);for(var t=e.length-1;t>=0;t--)this.removeObject(e[t]);return u(this),this}});t["default"]=f}),e("ember-runtime/mixins/observable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/get_properties","ember-metal/set_properties","ember-metal/mixin","ember-metal/events","ember-metal/property_events","ember-metal/observer","ember-metal/computed","ember-metal/is_none","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get),r=e[1].getWithDefault,i=e[2].set,s=e[3].apply,o=e[4]["default"],u=e[5]["default"],a=e[6].Mixin,f=e[7].hasListeners,l=e[8].beginPropertyChanges,c=e[8].propertyWillChange,h=e[8].propertyDidChange,p=e[8].endPropertyChanges,d=e[9].addObserver,v=e[9].addBeforeObserver,m=e[9].removeObserver,g=e[9].observersFor,y=e[10].cacheFor,b=e[11].isNone,w=Array.prototype.slice,E=a.create({get:function(e){return n(this,e)},getProperties:function(){return s(null,o,[this].concat(w.call(arguments)))},set:function(e,t){return i(this,e,t),this},setProperties:function(e){return u(this,e)},beginPropertyChanges:function(){return l(),this},endPropertyChanges:function(){return p(),this},propertyWillChange:function(e){return c(this,e),this},propertyDidChange:function(e){return h(this,e),this},notifyPropertyChange:function(e){return this.propertyWillChange(e),this.propertyDidChange(e),this},addBeforeObserver:function(e,t,n){v(this,e,t,n)},addObserver:function(e,t,n){d(this,e,t,n)},removeObserver:function(e,t,n){m(this,e,t,n)},hasObserverFor:function(e){return f(this,e+":change")},getWithDefault:function(e,t){return r(this,e,t)},incrementProperty:function(e,t){return b(t)&&(t=1),i(this,e,(parseFloat(n(this,e))||0)+t),n(this,e)},decrementProperty:function(e,t){return b(t)&&(t=1),i(this,e,(n(this,e)||0)-t),n(this,e)},toggleProperty:function(e){return i(this,e,!n(this,e)),n(this,e)},cacheFor:function(e){return y(this,e)},observersForKey:function(e){return g(this,e)}});t["default"]=E}),e("ember-runtime/mixins/promise_proxy",["ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/mixin","ember-metal/error","exports"],function(){function e(e,t){return s(e,"isFulfilled",!1),s(e,"isRejected",!1),t.then(function(t){return s(e,"isFulfilled",!0),s(e,"content",t),t},function(t){throw s(e,"isRejected",!0),s(e,"reason",t),t},"Ember: PromiseProxy")}function t(e){return function(){var t=i(this,"promise");return t[e].apply(t,arguments)}}var n=arguments,r=n[n.length-1],i=n[0].get,s=n[1].set,o=n[2].computed,u=n[3].Mixin,a=n[4]["default"],f=o.not,l=o.or,c=u.create({reason:null,isPending:f("isSettled").readOnly(),isSettled:l("isRejected","isFulfilled").readOnly(),isRejected:!1,isFulfilled:!1,promise:o(function(t,n){if(2===arguments.length)return e(this,n);throw new a("PromiseProxy's promise must be set")}),then:t("then"),"catch":t("catch"),"finally":t("finally")});r["default"]=c}),e("ember-runtime/mixins/sortable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-runtime/mixins/mutable_enumerable","ember-runtime/compare","ember-metal/observer","ember-metal/computed","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=(e[2].set,e[3]["default"]),s=e[4].Mixin,o=e[5]["default"],u=e[6]["default"],a=e[7].addObserver,f=e[7].removeObserver,l=e[8].computed,c=e[4].beforeObserver,h=e[4].observer,p=i.forEach,d=s.create(o,{sortProperties:null,sortAscending:!0,sortFunction:u,orderBy:function(e,t){var n=0,i=r(this,"sortProperties"),s=r(this,"sortAscending"),o=r(this,"sortFunction");return p(i,function(i){0===n&&(n=o.call(this,r(e,i),r(t,i)),0===n||s||(n=-1*n))},this),n},destroy:function(){var e=r(this,"content"),t=r(this,"sortProperties");return e&&t&&p(e,function(e){p(t,function(t){f(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()},isSorted:l.notEmpty("sortProperties"),arrangedContent:l("content","sortProperties.@each",function(){var e=r(this,"content"),t=r(this,"isSorted"),i=r(this,"sortProperties"),s=this;return e&&t?(e=e.slice(),e.sort(function(e,t){return s.orderBy(e,t)}),p(e,function(e){p(i,function(t){a(e,t,this,"contentItemSortPropertyDidChange")},this)},this),n.A(e)):e}),_contentWillChange:c("content",function(){var e=r(this,"content"),t=r(this,"sortProperties");e&&t&&p(e,function(e){p(t,function(t){f(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()}),sortPropertiesWillChange:c("sortProperties",function(){this._lastSortAscending=void 0}),sortPropertiesDidChange:h("sortProperties",function(){this._lastSortAscending=void 0}),sortAscendingWillChange:c("sortAscending",function(){this._lastSortAscending=r(this,"sortAscending")}),sortAscendingDidChange:h("sortAscending",function(){if(void 0!==this._lastSortAscending&&r(this,"sortAscending")!==this._lastSortAscending){var e=r(this,"arrangedContent");e.reverseObjects()}}),contentArrayWillChange:function(e,t,n,i){var s=r(this,"isSorted");if(s){var o=r(this,"arrangedContent"),u=e.slice(t,t+n),a=r(this,"sortProperties");p(u,function(e){o.removeObject(e),p(a,function(t){f(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,n,i)},contentArrayDidChange:function(e,t,n,i){var s=r(this,"isSorted"),o=r(this,"sortProperties");if(s){var u=e.slice(t,t+i);p(u,function(e){this.insertItemSorted(e),p(o,function(t){a(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,n,i)},insertItemSorted:function(e){var t=r(this,"arrangedContent"),n=r(t,"length"),i=this._binarySearch(e,0,n);t.insertAt(i,e)},contentItemSortPropertyDidChange:function(e){var t=r(this,"arrangedContent"),n=t.indexOf(e),i=t.objectAt(n-1),s=t.objectAt(n+1),o=i&&this.orderBy(e,i),u=s&&this.orderBy(e,s);(0>o||u>0)&&(t.removeObject(e),this.insertItemSorted(e))},_binarySearch:function(e,t,n){var i,s,o,u;return t===n?t:(u=r(this,"arrangedContent"),i=t+Math.floor((n-t)/2),s=u.objectAt(i),o=this.orderBy(s,e),0>o?this._binarySearch(e,i+1,n):o>0?this._binarySearch(e,t,i):i)}});t["default"]=d}),e("ember-runtime/mixins/target_action_support",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/computed","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=(e[2].set,e[3].typeOf),s=e[4].Mixin,o=e[5].computed,u=s.create({target:null,action:null,actionContext:null,targetObject:o(function(){var e=r(this,"target");if("string"===i(e)){var t=r(this,e);return void 0===t&&(t=r(n.lookup,e)),t}return e}).property("target"),actionContextObject:o(function(){var e=r(this,"actionContext");if("string"===i(e)){var t=r(this,e);return void 0===t&&(t=r(n.lookup,e)),t}return e}).property("actionContext"),triggerAction:function(e){function t(e,t){var n=[];return t&&n.push(t),n.concat(e)}e=e||{};var n=e.action||r(this,"action"),i=e.target||r(this,"targetObject"),s=e.actionContext;if("undefined"==typeof s&&(s=r(this,"actionContextObject")||this),i&&n){var o;return o=i.send?i.send.apply(i,t(s,n)):i[n].apply(i,t(s)),o!==!1&&(o=!0),o}return!1}});t["default"]=u}),e("ember-runtime/system/application",["ember-runtime/system/namespace","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=n.extend();t["default"]=r}),e("ember-runtime/system/array_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/property_events","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/mutable_array","ember-runtime/mixins/enumerable","ember-runtime/system/string","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=(e[2].set,e[3].isArray),s=e[3].apply,o=e[4].computed,u=e[5].beforeObserver,a=e[5].observer,f=e[6].beginPropertyChanges,l=e[6].endPropertyChanges,c=e[7]["default"],h=e[8]["default"],p=e[9]["default"],d=e[10]["default"],v=(e[11].fmt,"Index out of range"),m=[],g=o.alias,y=n.K,b=h.extend(p,{content:null,arrangedContent:g("content"),objectAtContent:function(e){return r(this,"arrangedContent").objectAt(e)},replaceContent:function(e,t,n){r(this,"content").replace(e,t,n)},_contentWillChange:u("content",function(){this._teardownContent()}),_teardownContent:function(){var e=r(this,"content");e&&e.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},contentArrayWillChange:y,contentArrayDidChange:y,_contentDidChange:a("content",function(){r(this,"content"),this._setupContent()}),_setupContent:function(){var e=r(this,"content");e&&e.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},_arrangedContentWillChange:u("arrangedContent",function(){var e=r(this,"arrangedContent"),t=e?r(e,"length"):0;this.arrangedContentArrayWillChange(this,0,t,void 0),this.arrangedContentWillChange(this),this._teardownArrangedContent(e)}),_arrangedContentDidChange:a("arrangedContent",function(){var e=r(this,"arrangedContent"),t=e?r(e,"length"):0;this._setupArrangedContent(),this.arrangedContentDidChange(this),this.arrangedContentArrayDidChange(this,0,void 0,t)}),_setupArrangedContent:function(){var e=r(this,"arrangedContent");e&&e.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},_teardownArrangedContent:function(){var e=r(this,"arrangedContent");e&&e.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},arrangedContentWillChange:y,arrangedContentDidChange:y,objectAt:function(e){return r(this,"content")&&this.objectAtContent(e)},length:o(function(){var e=r(this,"arrangedContent");return e?r(e,"length"):0}),_replace:function(e,t,n){var i=r(this,"content");return i&&this.replaceContent(e,t,n),this},replace:function(){if(r(this,"arrangedContent")!==r(this,"content"))throw new c("Using replace on an arranged ArrayProxy is not allowed.");s(this,this._replace,arguments)},_insertAt:function(e,t){if(e>r(this,"content.length"))throw new c(v);return this._replace(e,0,[t]),this},insertAt:function(e,t){if(r(this,"arrangedContent")===r(this,"content"))return this._insertAt(e,t);throw new c("Using insertAt on an arranged ArrayProxy is not allowed.")},removeAt:function(e,t){if("number"==typeof e){var n,i=r(this,"content"),s=r(this,"arrangedContent"),o=[];if(0>e||e>=r(this,"length"))throw new c(v);for(void 0===t&&(t=1),n=e;e+t>n;n++)o.push(i.indexOf(s.objectAt(n)));for(o.sort(function(e,t){return t-e}),f(),n=0;n<o.length;n++)this._replace(o[n],1,m);l()}return this},pushObject:function(e){return this._insertAt(r(this,"content.length"),e),e},pushObjects:function(e){if(!d.detect(e)&&!i(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this._replace(r(this,"length"),0,e),this},setObjects:function(e){if(0===e.length)return this.clear();var t=r(this,"length");return this._replace(0,t,e),this},unshiftObject:function(e){return this._insertAt(0,e),e},unshiftObjects:function(e){return this._replace(0,0,e),this},slice:function(){var e=this.toArray();return e.slice.apply(e,arguments)},arrangedContentArrayWillChange:function(e,t,n,r){this.arrayContentWillChange(t,n,r)},arrangedContentArrayDidChange:function(e,t,n,r){this.arrayContentDidChange(t,n,r)},init:function(){this._super(),this._setupContent(),this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent(),this._teardownContent()}});t["default"]=b}),e("ember-runtime/system/container",["ember-metal/property_set","exports"],function(){var e=arguments,n=e[e.length-1],r=e[0]["default"],i=t("container")["default"];i.set=r,n["default"]=i}),e("ember-runtime/system/core_object",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/platform","ember-metal/watching","ember-metal/chains","ember-metal/events","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/error","ember-runtime/keys","ember-runtime/mixins/action_handler","ember-metal/properties","ember-metal/binding","ember-metal/computed","ember-metal/run_loop","exports"],function(){function e(){var e,t,n=!1,r=function(){n||r.proto(),A(this,f,F),A(this,"__nextSuper",j);var i=l(this),s=i.proto;if(i.proto=this,e){var u=e;e=null,o(this,this.reopen,u)}if(t){var a=t;t=null;for(var c=this.concatenatedProperties,p=0,g=a.length;g>p;p++){var y=a[p];if("object"!=typeof y&&void 0!==y)throw new w("Ember.Object.create only accepts objects.");if(y)for(var b=S(y),E=0,T=b.length;T>E;E++){var N=b[E];if(y.hasOwnProperty(N)){var C=y[N];if(m.test(N)){var k=i.bindings;k?i.hasOwnProperty("bindings")||(k=i.bindings=L(i.bindings)):k=i.bindings={},k[N]=C}var O=i.descs[N];if(c&&H(c,N)>=0){var M=this[N];C=M?"function"==typeof M.concat?M.concat(C):h(M).concat(C):h(C)}O?O.set(this,N,C):"function"!=typeof this.setUnknownProperty||N in this?P?x(this,N,null,C):this[N]=C:this.setUnknownProperty(N,C)}}}}_(this,i),o(this,this.init,arguments),i.proto=s,d(this),v(this,"init")};return r.toString=g.prototype.toString,r.willReopen=function(){n&&(r.PrototypeMixin=g.create(r.PrototypeMixin)),n=!1},r._initMixins=function(t){e=t},r._initProperties=function(e){t=e},r.proto=function(){var e=r.superclass;return e&&e.proto(),n||(n=!0,r.PrototypeMixin.applyPartial(r.prototype),p(r.prototype)),this.prototype},r}function t(e){return function(){return e}}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=(n[1].get,n[2].set,n[3].guidFor),o=n[3].apply,u=n[4].create,a=n[3].generateGuid,f=n[3].GUID_KEY,l=n[3].meta,c=n[3].META_KEY,h=n[3].makeArray,p=n[5].rewatch,d=n[6].finishChains,v=n[7].sendEvent,m=n[8].IS_BINDING,g=n[8].Mixin,y=n[8].required,b=n[9]["default"],w=n[10]["default"],E=n[4].platform,S=n[11]["default"],x=(n[12]["default"],n[13].defineProperty),T=n[14].Binding,N=n[15].ComputedProperty,C=n[16]["default"],k=n[5].destroy,L=u,A=E.defineProperty,O=C.schedule,M=g._apply,_=g.finishPartial,D=g.prototype.reopen,P=i.ENV.MANDATORY_SETTER,H=b.indexOf,B=i.K,j={configurable:!0,writable:!0,enumerable:!1,value:void 0},F={configurable:!0,writable:!0,enumerable:!1,value:null},I=e();I.toString=function(){return"Ember.CoreObject"},I.PrototypeMixin=g.create({reopen:function(){return M(this,arguments,!0),this},init:function(){},concatenatedProperties:null,isDestroyed:!1,isDestroying:!1,destroy:function(){return this.isDestroying?void 0:(this.isDestroying=!0,O("actions",this,this.willDestroy),O("destroy",this,this._scheduledDestroy),this)},willDestroy:B,_scheduledDestroy:function(){this.isDestroyed||(k(this),this.isDestroyed=!0)},bind:function(e,t){return t instanceof T||(t=T.from(t)),t.to(e).connect(this),t},toString:function(){var e="function"==typeof this.toStringExtension,n=e?":"+this.toStringExtension():"",r="<"+this.constructor.toString()+":"+s(this)+n+">";return this.toString=t(r),r}}),I.PrototypeMixin.ownerConstructor=I,i.config.overridePrototypeMixin&&i.config.overridePrototypeMixin(I.PrototypeMixin),I.__super__=null;var q=g.create({ClassMixin:y(),PrototypeMixin:y(),isClass:!0,isMethod:!1,extend:function(){var t,n=e();return n.ClassMixin=g.create(this.ClassMixin),n.PrototypeMixin=g.create(this.PrototypeMixin),n.ClassMixin.ownerConstructor=n,n.PrototypeMixin.ownerConstructor=n,D.apply(n.PrototypeMixin,arguments),n.superclass=this,n.__super__=this.prototype,t=n.prototype=L(this.prototype),t.constructor=n,a(t),l(t).proto=t,n.ClassMixin.apply(n),n},createWithMixins:function(){var e=this;return arguments.length>0&&this._initMixins(arguments),new e},create:function(){var e=this;return arguments.length>0&&this._initProperties(arguments),new e},reopen:function(){return this.willReopen(),o(this.PrototypeMixin,D,arguments),this},reopenClass:function(){return o(this.ClassMixin,D,arguments),M(this,arguments,!1),this},detect:function(e){if("function"!=typeof e)return!1;for(;e;){if(e===this)return!0;e=e.superclass}return!1},detectInstance:function(e){return e instanceof this},metaForProperty:function(e){var t=this.proto()[c],n=t&&t.descs[e];return n._meta||{}},eachComputedProperty:function(e,t){var n,r=this.proto(),i=l(r).descs,s={};for(var o in i)n=i[o],n instanceof N&&e.call(t||this,o,n._meta||s)}});q.ownerConstructor=I,i.config.overrideClassMixin&&i.config.overrideClassMixin(q),I.ClassMixin=q,q.apply(I),r["default"]=I}),e("ember-runtime/system/deferred",["ember-runtime/mixins/deferred","ember-metal/property_get","ember-runtime/system/object","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=(e[1].get,e[2]["default"]),i=r.extend(n);i.reopenClass({promise:function(e,t){var n=i.create();return e.call(t,n),n}}),t["default"]=i}),e("ember-runtime/system/each_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/array","ember-runtime/mixins/array","ember-runtime/system/object","ember-metal/computed","ember-metal/observer","ember-metal/events","ember-metal/properties","ember-metal/property_events","exports"],function(){function e(e,t,n,r,i){var o,u=n._objects;for(u||(u=n._objects={});--i>=r;){var a=e.objectAt(i);a&&(h(a,t,n,"contentKeyWillChange"),c(a,t,n,"contentKeyDidChange"),o=s(a),u[o]||(u[o]=[]),u[o].push(i))}}function t(e,t,n,r,i){var o=n._objects;o||(o=n._objects={});for(var a,f;--i>=r;){var l=e.objectAt(i);l&&(p(l,t,n,"contentKeyWillChange"),d(l,t,n,"contentKeyDidChange"),f=s(l),a=o[f],a[u.call(a,i)]=null)}}var n=arguments,r=n[n.length-1],i=(n[0]["default"],n[1].get),s=(n[2].set,n[3].guidFor),o=n[4]["default"],u=n[5].indexOf,a=n[6]["default"],f=n[7]["default"],l=n[8].computed,c=n[9].addObserver,h=n[9].addBeforeObserver,p=n[9].removeBeforeObserver,d=n[9].removeObserver,v=(n[3].typeOf,n[10].watchedEvents),m=n[11].defineProperty,g=n[12].beginPropertyChanges,y=n[12].propertyDidChange,b=n[12].propertyWillChange,w=n[12].endPropertyChanges,E=n[12].changeProperties,S=o.forEach,x=f.extend(a,{init:function(e,t,n){this._super(),this._keyName=t,this._owner=n,this._content=e},objectAt:function(e){var t=this._content.objectAt(e);return t&&i(t,this._keyName)},length:l(function(){var e=this._content;return e?i(e,"length"):0})}),T=/^.+:(before|change)$/,N=f.extend({init:function(e){this._super(),this._content=e,e.addArrayObserver(this),S(v(this),function(e){this.didAddListener(e)},this)},unknownProperty:function(e){var t;return t=new x(this._content,e,this),m(this,e,null,t),this.beginObservingContentKey(e),t},arrayWillChange:function(e,n,r){var i,s,o=this._keys;s=r>0?n+r:-1,g(this);for(i in o)o.hasOwnProperty(i)&&(s>0&&t(e,i,this,n,s),b(this,i));b(this._content,"@each"),w(this)},arrayDidChange:function(t,n,r,i){var s,o=this._keys;s=i>0?n+i:-1,E(function(){for(var r in o)o.hasOwnProperty(r)&&(s>0&&e(t,r,this,n,s),y(this,r));y(this._content,"@each")},this)},didAddListener:function(e){T.test(e)&&this.beginObservingContentKey(e.slice(0,-7))},didRemoveListener:function(e){T.test(e)&&this.stopObservingContentKey(e.slice(0,-7))},beginObservingContentKey:function(t){var n=this._keys;if(n||(n=this._keys={}),n[t])n[t]++;else{n[t]=1;var r=this._content,s=i(r,"length");e(r,t,this,0,s)}},stopObservingContentKey:function(e){var n=this._keys;if(n&&n[e]>0&&--n[e]<=0){var r=this._content,s=i(r,"length");t(r,e,this,0,s)}},contentKeyWillChange:function(e,t){b(this,t)},contentKeyDidChange:function(e,t){y(this,t)}});r.EachArray=x,r.EachProxy=N}),e("ember-runtime/system/lazy_load",["ember-metal/core","ember-metal/array","ember-runtime/system/native_array","exports"],function(){function e(e,t){var n;o[e]=o[e]||i.A(),o[e].pushObject(t),(n=u[e])&&t(n)}function t(e,t){if(u[e]=t,"object"==typeof window&&"function"==typeof window.dispatchEvent&&"function"==typeof CustomEvent){var n=new CustomEvent(e,{detail:t,name:e});window.dispatchEvent(n)}o[e]&&s.call(o[e],function(e){e(t)})}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1].forEach,o=i.ENV.EMBER_LOAD_HOOKS||{},u={};r.onLoad=e,r.runLoadHooks=t}),e("ember-runtime/system/namespace",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/mixin","ember-runtime/system/object","exports"],function(){function e(t,n,i){var o=t.length;m[t.join(".")]=n;for(var u in n)if(g.call(n,u)){var a=n[u];if(t[o]=u,a&&a.toString===r)a.toString=s(t.join(".")),a[b]=t.join(".");else if(a&&a.isNamespace){if(i[h(a)])continue;i[h(a)]=!0,e(t,a,i)}}t.length=o}function t(){var e,t,n=a.lookup;if(!v.PROCESSED)for(var r in n)if(y.test(r)&&(!n.hasOwnProperty||n.hasOwnProperty(r))){try{e=n[r],t=e&&e.isNamespace}catch(i){continue}t&&(e[b]=r)}}function n(e){var t=e.superclass;return t?t[b]?t[b]:n(t):void 0}function r(){a.BOOTED||this[b]||i();var e;if(this[b])e=this[b];else if(this._toString)e=this._toString;else{var t=n(this);e=t?"(subclass of "+t+")":"(unknown mixin)",this.toString=s(e)}return e}function i(){var n=!v.PROCESSED,r=a.anyUnprocessedMixins;if(n&&(t(),v.PROCESSED=!0),n||r){for(var i,s=v.NAMESPACES,o=0,u=s.length;u>o;o++)i=s[o],e([i.toString()],i,{});a.anyUnprocessedMixins=!1}}function s(e){return function(){return e}}var o=arguments,u=o[o.length-1],a=o[0]["default"],f=o[1].get,l=o[2].indexOf,c=o[3].GUID_KEY,h=o[3].guidFor,p=o[4].Mixin,d=o[5]["default"],v=d.extend({isNamespace:!0,init:function(){v.NAMESPACES.push(this),v.PROCESSED=!1},toString:function(){var e=f(this,"name");return e?e:(t(),this[b])},nameClasses:function(){e([this.toString()],this,{})},destroy:function(){var e=v.NAMESPACES,t=this.toString();t&&(a.lookup[t]=void 0,delete v.NAMESPACES_BY_ID[t]),e.splice(l.call(e,this),1),this._super()}});v.reopenClass({NAMESPACES:[a],NAMESPACES_BY_ID:{},PROCESSED:!1,processAll:i,byName:function(e){return a.BOOTED||i(),m[e]}});var m=v.NAMESPACES_BY_ID,g={}.hasOwnProperty,y=/^[A-Z]/,b=a.NAME_KEY=c+"_name";p.prototype.toString=r,u["default"]=v}),e("ember-runtime/system/native_array",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_array","ember-runtime/mixins/observable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-runtime/copy","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=(e[2].set,e[3]["default"]),s=e[4].Mixin,o=e[5]["default"],u=e[6]["default"],a=e[7]["default"],f=e[8]["default"],l=e[9].FROZEN_ERROR,c=e[10]["default"],h=i._replace,p=i.forEach,d=s.create(u,a,f,{get:function(e){return"length"===e?this.length:"number"==typeof e?this[e]:this._super(e)},objectAt:function(e){return this[e]},replace:function(e,t,n){if(this.isFrozen)throw l;var i=n?r(n,"length"):0;return this.arrayContentWillChange(e,t,i),0===i?this.splice(e,t):h(this,e,t,n),this.arrayContentDidChange(e,t,i),this},unknownProperty:function(e,t){var n;return void 0!==t&&void 0===n&&(n=this[e]=t),n},indexOf:function(e,t){var n,r=this.length;for(t=void 0===t?0:0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=r),n=t;r>n;n++)if(this[n]===e)return n;return-1},lastIndexOf:function(e,t){var n,r=this.length;for(t=void 0===t?r-1:0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=r),n=t;n>=0;n--)if(this[n]===e)return n;return-1},copy:function(e){return e?this.map(function(e){return c(e,!0)}):this.slice()}}),v=["length"];p(d.keys(),function(e){Array.prototype[e]&&v.push(e)}),v.length>0&&(d=d.without.apply(d,v));var m=function(e){return void 0===e&&(e=[]),o.detect(e)?e:d.apply(e)};d.activate=function(){d.apply(Array.prototype),m=function(e){return e||[]}},(n.EXTEND_PROTOTYPES===!0||n.EXTEND_PROTOTYPES.Array)&&d.activate(),n.A=m,t.A=m,t.NativeArray=d,t["default"]=d}),e("ember-runtime/system/object",["ember-runtime/system/core_object","ember-runtime/mixins/observable","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=n.extend(r);i.toString=function(){return"Ember.Object"},t["default"]=i}),e("ember-runtime/system/object_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/property_events","ember-metal/computed","ember-metal/properties","ember-metal/mixin","ember-runtime/system/string","ember-runtime/system/object","exports"],function(){function e(e,t){var n=t.slice(8);n in this||c(this,n)}function t(e,t){var n=t.slice(8);n in this||h(this,n)}var n=arguments,r=n[n.length-1],i=(n[0]["default"],n[1].get),s=n[2].set,o=n[3].meta,u=n[4].addObserver,a=n[4].removeObserver,f=n[4].addBeforeObserver,l=n[4].removeBeforeObserver,c=n[5].propertyWillChange,h=n[5].propertyDidChange,p=n[6].computed,d=n[7].defineProperty,v=n[8].observer,m=(n[9].fmt,n[10]["default"]),g=m.extend({content:null,_contentDidChange:v("content",function(){}),isTruthy:p.bool("content"),_debugContainerKey:null,willWatchProperty:function(n){var r="content."+n;f(this,r,null,e),u(this,r,null,t)},didUnwatchProperty:function(n){var r="content."+n;l(this,r,null,e),a(this,r,null,t)},unknownProperty:function(e){var t=i(this,"content");return t?i(t,e):void 0},setUnknownProperty:function(e,t){var n=o(this);if(n.proto===this)return d(this,e,null,t),t;var r=i(this,"content");return s(r,e,t)}});r["default"]=g}),e("ember-runtime/system/set",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/is_none","ember-runtime/system/string","ember-runtime/system/core_object","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-metal/error","ember-metal/property_events","ember-metal/mixin","ember-metal/computed","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get),r=e[2].set,i=e[3].guidFor,s=e[4].isNone,o=e[5].fmt,u=e[6]["default"],a=e[7]["default"],f=e[8]["default"],l=e[9]["default"],c=e[10].Freezable,h=e[10].FROZEN_ERROR,p=e[11]["default"],d=e[12].propertyWillChange,v=e[12].propertyDidChange,m=e[13].aliasMethod,g=e[14].computed,y=u.extend(a,l,c,{length:0,clear:function(){if(this.isFrozen)throw new p(h);var e=n(this,"length");if(0===e)return this;var t;this.enumerableContentWillChange(e,0),d(this,"firstObject"),d(this,"lastObject");for(var s=0;e>s;s++)t=i(this[s]),delete this[t],delete this[s];return r(this,"length",0),v(this,"firstObject"),v(this,"lastObject"),this.enumerableContentDidChange(e,0),this},isEqual:function(e){if(!f.detect(e))return!1;var t=n(this,"length");if(n(e,"length")!==t)return!1;for(;--t>=0;)if(!e.contains(this[t]))return!1;return!0},add:m("addObject"),remove:m("removeObject"),pop:function(){if(n(this,"isFrozen"))throw new p(h);var e=this.length>0?this[this.length-1]:null;return this.remove(e),e},push:m("addObject"),shift:m("pop"),unshift:m("push"),addEach:m("addObjects"),removeEach:m("removeObjects"),init:function(e){this._super(),e&&this.addObjects(e)},nextObject:function(e){return this[e]},firstObject:g(function(){return this.length>0?this[0]:void 0}),lastObject:g(function(){return this.length>0?this[this.length-1]:void 0}),addObject:function(e){if(n(this,"isFrozen"))throw new p(h);if(s(e))return this;var t,o=i(e),u=this[o],a=n(this,"length");return u>=0&&a>u&&this[u]===e?this:(t=[e],this.enumerableContentWillChange(null,t),d(this,"lastObject"),a=n(this,"length"),this[o]=a,this[a]=e,r(this,"length",a+1),v(this,"lastObject"),this.enumerableContentDidChange(null,t),this)},removeObject:function(e){if(n(this,"isFrozen"))throw new p(h);if(s(e))return this;var t,o,u=i(e),a=this[u],f=n(this,"length"),l=0===a,c=a===f-1;return a>=0&&f>a&&this[a]===e&&(o=[e],this.enumerableContentWillChange(o,null),l&&d(this,"firstObject"),c&&d(this,"lastObject"),f-1>a&&(t=this[f-1],this[a]=t,this[i(t)]=a),delete this[u],delete this[f-1],r(this,"length",f-1),l&&v(this,"firstObject"),c&&v(this,"lastObject"),this.enumerableContentDidChange(o,null)),this},contains:function(e){return this[i(e)]>=0},copy:function(){var e=this.constructor,t=new e,s=n(this,"length");for(r(t,"length",s);--s>=0;)t[s]=this[s],t[i(this[s])]=s;return t},toString:function(){var e,t=this.length,n=[];for(e=0;t>e;e++)n[e]=this[e];return o("Ember.Set<%@>",[n.join(",")])}});t["default"]=y}),e("ember-runtime/system/string",["ember-metal/core","ember-metal/utils","exports"],function(){function e(e,t){var n=0;return e.replace(/%@([0-9]+)?/g,function(e,r){return r=r?parseInt(r,10)-1:n++,e=t[r],null===e?"(null)":void 0===e?"":h(e)})}function t(t,n){return t=c.STRINGS[t]||t,e(t,n)}function n(e){return e.split(/\s+/)}function r(e){return e.replace(v,"$1_$2").toLowerCase()}function i(e){var t,n=d,i=n.hasOwnProperty(e);return i?n[e]:(t=r(e).replace(p,"-"),n[e]=t,t)}function s(e){return e.replace(m,function(e,t,n){return n?n.toUpperCase():""}).replace(/^([A-Z])/,function(e){return e.toLowerCase()})}function o(e){for(var t=e.split("."),n=[],r=0,i=t.length;i>r;r++){var o=s(t[r]);n.push(o.charAt(0).toUpperCase()+o.substr(1))}return n.join(".")}function u(e){return e.replace(g,"$1_$2").replace(y,"_").toLowerCase()}function a(e){return e.charAt(0).toUpperCase()+e.substr(1)}var f=arguments,l=f[f.length-1],c=f[0]["default"],h=f[1].inspect,p=/[ _]/g,d={},v=/([a-z\d])([A-Z])/g,m=/(\-|_|\.|\s)+(.)?/g,g=/([a-z\d])([A-Z]+)/g,y=/\-|\s+/g;c.STRINGS={};var b={fmt:e,loc:t,w:n,decamelize:r,dasherize:i,camelize:s,classify:o,underscore:u,capitalize:a};l["default"]=b,l.fmt=e,l.loc=t,l.w=n,l.decamelize=r,l.dasherize=i,l.camelize=s,l.classify=o,l.underscore=u,l.capitalize=a}),e("ember-runtime/system/subarray",["ember-metal/property_get","ember-metal/error","ember-metal/enumerable_utils","exports"],function(){function e(e,t){this.type=e,this.count=t}function t(t){arguments.length<1&&(t=0),this._operations=t>0?[new e(s,t)]:[]}var n=arguments,r=n[n.length-1],i=(n[0].get,n[1]["default"]),s=(n[2]["default"],"r"),o="f";t.prototype={addItem:function(t,n){var r=-1,i=n?s:o,u=this;return this._findOperation(t,function(o,f,l,c,h){var p,d;i===o.type?++o.count:t===l?u._operations.splice(f,0,new e(i,1)):(p=new e(i,1),d=new e(o.type,c-t+1),o.count=t-l,u._operations.splice(f+1,0,p,d)),n&&(r=o.type===s?h+(t-l):h),u._composeAt(f)},function(t){u._operations.push(new e(i,1)),n&&(r=t),u._composeAt(u._operations.length-1)}),r},removeItem:function(e){var t=-1,n=this;return this._findOperation(e,function(r,i,o,u,f){r.type===s&&(t=f+(e-o)),r.count>1?--r.count:(n._operations.splice(i,1),n._composeAt(i))},function(){throw new i("Can't remove an item that has never been added.")}),t},_findOperation:function(e,t,n){var r,i,o,u,f,l=0;for(r=u=0,i=this._operations.length;i>r;u=f+1,++r){if(o=this._operations[r],f=u+o.count-1,e>=u&&f>=e)return t(o,r,u,f,l),void 0;o.type===s&&(l+=o.count)}n(l)},_composeAt:function(e){var t,n=this._operations[e];n&&(e>0&&(t=this._operations[e-1],t.type===n.type&&(n.count+=t.count,this._operations.splice(e-1,1),--e)),e<this._operations.length-1&&(t=this._operations[e+1],t.type===n.type&&(n.count+=t.count,this._operations.splice(e+1,1))))},toString:function(){var e="";return forEach(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}},r["default"]=t}),e("ember-runtime/system/tracked_array",["ember-metal/property_get","ember-metal/enumerable_utils","exports"],function(){function e(e){arguments.length<1&&(e=[]);var n=s(e,"length");this._operations=n?[new t(a,n,e)]:[]}function t(e,t,n){this.type=e,this.count=t,this.items=n}function n(e,t,n,r){this.operation=e,this.index=t,this.split=n,this.rangeStart=r}var r=arguments,i=r[r.length-1],s=r[0].get,o=r[1]["default"],u=o.forEach,a="r",f="i",l="d";e.RETAIN=a,e.INSERT=f,e.DELETE=l,e.prototype={addItems:function(e,n){var r=s(n,"length");if(!(1>r)){var i,o,u=this._findArrayOperation(e),a=u.operation,l=u.index,c=u.rangeStart;o=new t(f,r,n),a?u.split?(this._split(l,e-c,o),i=l+1):(this._operations.splice(l,0,o),i=l):(this._operations.push(o),i=l),this._composeInsert(i)}},removeItems:function(e,n){if(!(1>n)){var r,i,s=this._findArrayOperation(e),o=(s.operation,s.index),u=s.rangeStart;return r=new t(l,n),s.split?(this._split(o,e-u,r),i=o+1):(this._operations.splice(o,0,r),i=o),this._composeDelete(i)}},apply:function(e){var n=[],r=0;u(this._operations,function(t,i){e(t.items,r,t.type,i),t.type!==l&&(r+=t.count,n=n.concat(t.items))}),this._operations=[new t(a,n.length,n)]},_findArrayOperation:function(e){var t,r,i,s,o,u=!1;for(t=s=0,r=this._operations.length;r>t;++t)if(i=this._operations[t],i.type!==l){if(o=s+i.count-1,e===s)break;if(e>s&&o>=e){u=!0;break}s=o+1}return new n(i,t,u,s)},_split:function(e,n,r){var i=this._operations[e],s=i.items.slice(n),o=new t(i.type,s.length,s);i.count=n,i.items=i.items.slice(0,n),this._operations.splice(e+1,0,r,o)},_composeInsert:function(e){var t=this._operations[e],n=this._operations[e-1],r=this._operations[e+1],i=n&&n.type,s=r&&r.type;i===f?(n.count+=t.count,n.items=n.items.concat(t.items),s===f?(n.count+=r.count,n.items=n.items.concat(r.items),this._operations.splice(e,2)):this._operations.splice(e,1)):s===f&&(t.count+=r.count,t.items=t.items.concat(r.items),this._operations.splice(e+1,1))},_composeDelete:function(e){var t,n,r,i=this._operations[e],s=i.count,o=this._operations[e-1],u=o&&o.type,a=!1,h=[];u===l&&(i=o,e-=1);for(var p=e+1;s>0;++p)t=this._operations[p],n=t.type,r=t.count,n!==l?(r>s?(h=h.concat(t.items.splice(0,s)),t.count-=s,p-=1,r=s,s=0):(r===s&&(a=!0),h=h.concat(t.items),s-=r),n===f&&(i.count-=r)):i.count+=r;return i.count>0?this._operations.splice(e+1,p-1-e):this._operations.splice(e,a?2:1),h},toString:function(){var e="";return u(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}},i["default"]=e})}(),function(){e("ember-views",["ember-runtime","ember-views/system/jquery","ember-views/system/utils","ember-views/system/render_buffer","ember-views/system/ext","ember-views/views/states","ember-views/views/view","ember-views/views/container_view","ember-views/views/collection_view","ember-views/views/component","ember-views/system/event_dispatcher","ember-views/mixins/view_target_action_support","exports"],function(){var e=arguments,t=e[e.length-1];i.$=e[1]["default"],i.ViewTargetActionSupport=e[11]["default"],i.RenderBuffer=e[3]["default"];var n=i.ViewUtils={};n.setInnerHTML=e[2].setInnerHTML,n.isSimpleClick=e[2].isSimpleClick,i.CoreView=e[6].CoreView,i.View=e[6].View,i.View.states=e[5].states,i.View.cloneStates=e[5].cloneStates,i._ViewCollection=e[6].ViewCollection,i.ContainerView=e[7]["default"],i.CollectionView=e[8]["default"],i.Component=e[9]["default"],i.EventDispatcher=e[10]["default"],t["default"]=i}),e("ember-views/mixins/component_template_deprecation",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get),r=e[2].Mixin,i=r.create({willMergeMixin:function(e){this._super.apply(this,arguments);var t,r,i=e.layoutName||e.layout||n(this,"layoutName");e.templateName&&!i&&(t="templateName",r="layoutName",e.layoutName=e.templateName,delete e.templateName),e.template&&!i&&(t="template",r="layout",e.layout=e.template,delete e.template)}});t["default"]=i}),e("ember-views/mixins/view_target_action_support",["ember-metal/mixin","ember-runtime/mixins/target_action_support","ember-metal/computed","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].Mixin,r=e[1]["default"],i=e[2].computed,s=i.alias,o=n.create(r,{target:s("controller"),actionContext:s("context")});t["default"]=o}),e("ember-views/system/event_dispatcher",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/object","ember-views/system/jquery","ember-views/views/view","exports"],function(){var e,n=arguments,r=n[n.length-1],i=(n[0]["default"],n[1].get),s=n[2].set,o=n[3].isNone,u=n[4]["default"],a=n[5].typeOf,f=(n[6].fmt,n[7]["default"]),l=n[8]["default"],c=n[9].View,h=f.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",setup:function(e,t){var n,r=i(this,"events");l.extend(r,e||{}),o(t)||s(this,"rootElement",t),t=l(i(this,"rootElement")),t.addClass("ember-application");for(n in r)r.hasOwnProperty(n)&&this.setupHandler(t,n,r[n])},setupHandler:function(n,r,i){var s=this;n.on(r+".ember",".ember-view",function(e,t){var n=c.views[this.id],r=!0,o=null;return o=s._findNearestEventManager(n,i),o&&o!==t?r=s._dispatchEvent(o,e,i,n):n?r=s._bubbleEvent(n,e,i):e.stopPropagation(),r}),n.on(r+".ember","[data-ember-action]",function(n){e||(e=t("ember-routing/helpers/action").ActionHelper);var r=l(n.currentTarget).attr("data-ember-action"),s=e.registeredActions[r];return s&&s.eventName===i?s.handler(n):void 0})},_findNearestEventManager:function(e,t){for(var n=null;e&&(n=i(e,"eventManager"),!n||!n[t]);)e=i(e,"parentView");return n},_dispatchEvent:function(e,t,n,r){var i=!0,s=e[n];return"function"===a(s)?(i=u(e,s,t,r),t.stopPropagation()):i=this._bubbleEvent(r,t,n),i},_bubbleEvent:function(e,t,n){return u(e,e.handleEvent,n,t)},destroy:function(){var e=i(this,"rootElement");return l(e).off(".ember","**").removeClass("ember-application"),this._super()}});r["default"]=h}),e("ember-views/system/ext",["ember-metal/run_loop"],function(){var e=arguments,t=(e[e.length-1],e[0]["default"]);t.queues,t._addQueue("render","actions"),t._addQueue("afterRender","render")}),e("ember-views/system/jquery",["ember-metal/core","ember-runtime/system/string","ember-metal/enumerable_utils","exports"],function(){var e=arguments,t=e[e.length-1],r=e[0]["default"],i=e[1].w,s=e[2]["default"],o=s.forEach,u=r.imports&&r.imports.jQuery||this&&this.jQuery;if(u||"function"!=typeof n||(u=n("jquery")),u){var a=i("dragstart drag dragenter dragleave dragover drop dragend");o(a,function(e){u.event.fixHooks[e]={props:["dataTransfer"]}})}t["default"]=u}),e("ember-views/system/render_buffer",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-views/system/utils","ember-views/system/jquery","exports"],function(){function e(){this.seen={},this.list=[]}function t(e){return e?u.test(e)?e.replace(a,""):e:e}function n(e){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=function(e){return t[e]||"&amp;"},r=e.toString();return l.test(r)?r.replace(f,n):r}var r=arguments,i=r[r.length-1],s=(r[0]["default"],r[1].get,r[2].set,r[3].setInnerHTML),o=r[4]["default"];e.prototype={add:function(e){e in this.seen||(this.seen[e]=!0,this.list.push(e))},toDOM:function(){return this.list.join(" ")}};var u=/[^a-zA-Z0-9\-]/,a=/[^a-zA-Z0-9\-]/g,f=/&(?!\w+;)|[<>"'`]/g,l=/[&<>"'`]/,c=function(){var e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("name","foo"),e.appendChild(t),!!e.innerHTML.match("foo")}(),h=function(e){return new p(e)},p=function(e){this.tagNames=[e||null],this.buffer=""};p.prototype={_element:null,_hasElement:!0,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(e){return this.buffer+=e,this},addClass:function(t){return this.elementClasses=this.elementClasses||new e,this.elementClasses.add(t),this.classes=this.elementClasses.list,this},setClasses:function(e){this.elementClasses=null;var t,n=e.length;for(t=0;n>t;t++)this.addClass(e[t])},id:function(e){return this.elementId=e,this},attr:function(e,t){var n=this.elementAttributes=this.elementAttributes||{};return 1===arguments.length?n[e]:(n[e]=t,this)},removeAttr:function(e){var t=this.elementAttributes;return t&&delete t[e],this},prop:function(e,t){var n=this.elementProperties=this.elementProperties||{};return 1===arguments.length?n[e]:(n[e]=t,this)},removeProp:function(e){var t=this.elementProperties;return t&&delete t[e],this},style:function(e,t){return this.elementStyle=this.elementStyle||{},this.elementStyle[e]=t,this},begin:function(e){return this.tagNames.push(e||null),this},pushOpeningTag:function(){var e=this.currentTagName();if(e){if(this._hasElement&&!this._element&&0===this.buffer.length)return this._element=this.generateElement(),void 0;var r,i,s=this.buffer,o=this.elementId,u=this.classes,a=this.elementAttributes,f=this.elementProperties,l=this.elementStyle;if(s+="<"+t(e),o&&(s+=' id="'+n(o)+'"',this.elementId=null),u&&(s+=' class="'+n(u.join(" "))+'"',this.classes=null,this.elementClasses=null),l){s+=' style="';for(i in l)l.hasOwnProperty(i)&&(s+=i+":"+n(l[i])+";");s+='"',this.elementStyle=null}if(a){for(r in a)a.hasOwnProperty(r)&&(s+=" "+r+'="'+n(a[r])+'"');this.elementAttributes=null}if(f){for(i in f)if(f.hasOwnProperty(i)){var c=f[i];(c||"number"==typeof c)&&(s+=c===!0?" "+i+'="'+i+'"':" "+i+'="'+n(f[i])+'"')}this.elementProperties=null}s+=">",this.buffer=s}},pushClosingTag:function(){var e=this.tagNames.pop();e&&(this.buffer+="</"+t(e)+">")},currentTagName:function(){return this.tagNames[this.tagNames.length-1]},generateElement:function(){var e,r,i,s=this.tagNames.pop(),u=this.elementId,a=this.classes,f=this.elementAttributes,l=this.elementProperties,h=this.elementStyle,p="";i=f&&f.name&&!c?"<"+t(s)+' name="'+n(f.name)+'">':s;var d=document.createElement(i),v=o(d);if(u&&(v.attr("id",u),this.elementId=null),a&&(v.attr("class",a.join(" ")),this.classes=null,this.elementClasses=null),h){for(r in h)h.hasOwnProperty(r)&&(p+=r+":"+h[r]+";");v.attr("style",p),this.elementStyle=null}if(f){for(e in f)f.hasOwnProperty(e)&&v.attr(e,f[e]);this.elementAttributes=null}if(l){for(r in l)l.hasOwnProperty(r)&&v.prop(r,l[r]);this.elementProperties=null}return d},element:function(){var e=this.innerString();return e&&(this._element=s(this._element,e)),this._element},string:function(){if(this._hasElement&&this._element){var e=this.element(),t=e.outerHTML;return"undefined"==typeof t?o("<div/>").append(e).html():t}return this.innerString()},innerString:function(){return this.buffer}},i["default"]=h}),e("ember-views/system/utils",["ember-metal/core","exports"],function(){function e(e){var t=e.shiftKey||e.metaKey||e.altKey||e.ctrlKey,n=e.which>1;return!t&&!n}var t=arguments,n=t[t.length-1],r=(t[0]["default"],"undefined"!=typeof document&&function(){var e=document.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script></script>",""===e.firstChild.innerHTML}()),i="undefined"!=typeof document&&function(){var e=document.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'></script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(),s=function(e,t){if(e.getAttribute("id")===t)return e;var n,r,i,o=e.childNodes.length;for(n=0;o>n;n++)if(r=e.childNodes[n],i=1===r.nodeType&&s(r,t))return i},o=function(e,t){r&&(t="&shy;"+t);var n=[];if(i&&(t=t.replace(/(\s+)(<script id='([^']+)')/g,function(e,t,r,i){return n.push([i,t]),r})),e.innerHTML=t,n.length>0){var o,u=n.length;for(o=0;u>o;o++){var a=s(e,n[o][0]),f=document.createTextNode(n[o][1]);a.parentNode.insertBefore(f,a)}}if(r){for(var l=e.firstChild;1===l.nodeType&&!l.nodeName;)l=l.firstChild;3===l.nodeType&&"Â­"===l.nodeValue.charAt(0)&&(l.nodeValue=l.nodeValue.slice(1))}},u={},a=function(e){if(void 0!==u[e])return u[e];var t=!0;if("select"===e.toLowerCase()){var n=document.createElement("select");o(n,'<option value="test">Test</option>'),t=1===n.options.length}return u[e]=t,t},f=function(e,t){var n=e.tagName;if(a(n))o(e,t);else{var r=e.outerHTML||(new XMLSerializer).serializeToString(e),i=r.match(new RegExp("<"+n+"([^>]*)>","i"))[0],s="</"+n+">",u=document.createElement("div");for(o(u,i+t+s),e=u.firstChild;e.tagName!==n;)e=e.nextSibling}return e};n.setInnerHTML=f,n.isSimpleClick=e}),e("ember-views/views/collection_view",["ember-metal/core","ember-metal/platform","ember-metal/binding","ember-metal/merge","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-views/views/container_view","ember-views/views/view","ember-metal/mixin","ember-runtime/mixins/array","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].create,e[2].isGlobalPath),r=(e[3]["default"],e[4].get),i=e[5].set,s=(e[6].fmt,e[7]["default"]),o=e[8].CoreView,u=e[8].View,a=e[9].observer,f=e[9].beforeObserver,l=(e[10]["default"],s.extend({content:null,emptyViewClass:u,emptyView:null,itemViewClass:u,init:function(){var e=this._super();return this._contentDidChange(),e},_contentWillChange:f("content",function(){var e=this.get("content");e&&e.removeArrayObserver(this);var t=e?r(e,"length"):0;this.arrayWillChange(e,0,t)}),_contentDidChange:a("content",function(){var e=r(this,"content");e&&(this._assertArrayLike(e),e.addArrayObserver(this));var t=e?r(e,"length"):0;this.arrayDidChange(e,0,null,t)}),_assertArrayLike:function(){},destroy:function(){if(this._super()){var e=r(this,"content");return e&&e.removeArrayObserver(this),this._createdEmptyView&&this._createdEmptyView.destroy(),this}},arrayWillChange:function(e,t,n){var i=r(this,"emptyView");i&&i instanceof u&&i.removeFromParent();var s,o,a,f=this._childViews;a=this._childViews.length;var l=n===a;for(l&&(this.currentState.empty(this),this.invokeRecursively(function(e){e.removedFromDOM=!0},!1)),o=t+n-1;o>=t;o--)s=f[o],s.destroy()},arrayDidChange:function(e,t,s,u){var a,f,l,c,h,p,d=[];if(c=e?r(e,"length"):0)for(h=r(this,"itemViewClass"),"string"==typeof h&&n(h)&&(h=r(h)||h),l=t;t+u>l;l++)f=e.objectAt(l),a=this.createChildView(h,{content:f,contentIndex:l}),d.push(a);else{if(p=r(this,"emptyView"),!p)return;"string"==typeof p&&n(p)&&(p=r(p)||p),p=this.createChildView(p),d.push(p),i(this,"emptyView",p),o.detect(p)&&(this._createdEmptyView=p)}this.replace(t,0,d)},createChildView:function(e,t){e=this._super(e,t);var n=r(e,"tagName");return(null===n||void 0===n)&&(n=l.CONTAINER_MAP[r(this,"tagName")],i(e,"tagName",n)),e}}));l.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"},t["default"]=l}),e("ember-views/views/component",["ember-metal/core","ember-views/mixins/component_template_deprecation","ember-runtime/mixins/target_action_support","ember-views/views/view","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/computed","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=e[2]["default"],s=e[3].View,o=e[4].get,u=e[5].set,a=(e[6].isNone,e[7].computed),f=Array.prototype.slice,l=s.extend(i,r,{instrumentName:"component",instrumentDisplay:a(function(){return this._debugContainerKey?"{{"+this._debugContainerKey.split(":")[1]+"}}":void 0}),init:function(){this._super(),u(this,"context",this),u(this,"controller",this)},defaultLayout:function(e,t){n.Handlebars.helpers.yield.call(e,t)},template:a(function(e,t){if(void 0!==t)return t;var n=o(this,"templateName"),r=this.templateForName(n,"template");return r||o(this,"defaultTemplate")}).property("templateName"),templateName:null,cloneKeywords:function(){return{view:this,controller:this}},_yield:function(e,t){var n=t.data.view,r=this._parentView,i=o(this,"template");i&&n.appendChild(s,{isVirtual:!0,tagName:"",_contextView:r,template:i,context:o(r,"context"),controller:o(r,"controller"),templateData:{keywords:r.cloneKeywords()}})},targetObject:a(function(){var e=o(this,"_parentView");return e?o(e,"controller"):null}).property("_parentView"),sendAction:function(e){var t,n=f.call(arguments,1);t=void 0===e?o(this,"action"):o(this,e),void 0!==t&&this.triggerAction({action:t,actionContext:n})}});t["default"]=l}),e("ember-views/views/container_view",["ember-metal/core","ember-metal/merge","ember-runtime/mixins/mutable_array","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/states","ember-metal/error","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/run_loop","ember-metal/properties","ember-views/system/render_buffer","ember-metal/mixin","ember-runtime/system/native_array","exports"],function(){function e(e,t,n,r){t.triggerRecursively("willInsertElement"),n?n.domManager.after(n,r.string()):e.domManager.prepend(e,r.string()),t.forEach(function(e){e.transitionTo("inDOM"),e.propertyDidChange("element"),e.triggerRecursively("didInsertElement")})}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=t[1]["default"],s=t[2]["default"],o=t[3].get,u=t[4].set,a=t[5].View,f=t[5].ViewCollection,l=t[6].cloneStates,c=t[6].states,h=t[7]["default"],p=t[8]["default"],d=p.forEach,v=t[9].computed,m=t[10]["default"],g=t[11].defineProperty,y=t[12]["default"],b=t[13].observer,w=t[13].beforeObserver,E=(t[14].A,l(c)),S=a.extend(s,{states:E,init:function(){this._super();var e=o(this,"childViews");g(this,"childViews",a.childViewsProperty);var t=this._childViews;d(e,function(e,n){var r;"string"==typeof e?(r=o(this,e),r=this.createChildView(r),u(this,e,r)):r=this.createChildView(e),t[n]=r},this);var n=o(this,"currentView");n&&(t.length||(t=this._childViews=this._childViews.slice()),t.push(this.createChildView(n)))},replace:function(e,t,n){var r=n?o(n,"length"):0;if(this.arrayContentWillChange(e,t,r),this.childViewsWillChange(this._childViews,e,t),0===r)this._childViews.splice(e,t);else{var i=[e,t].concat(n);n.length&&!this._childViews.length&&(this._childViews=this._childViews.slice()),this._childViews.splice.apply(this._childViews,i)}return this.arrayContentDidChange(e,t,r),this.childViewsDidChange(this._childViews,e,t,r),this},objectAt:function(e){return this._childViews[e]},length:v(function(){return this._childViews.length}).volatile(),render:function(e){this.forEachChildView(function(t){t.renderToBuffer(e)})},instrumentName:"container",childViewsWillChange:function(e,t,n){if(this.propertyWillChange("childViews"),n>0){var r=e.slice(t,t+n);this.currentState.childViewsWillChange(this,e,t,n),this.initializeViews(r,null,null)}},removeChild:function(e){return this.removeObject(e),this},childViewsDidChange:function(e,t,n,r){if(r>0){var i=e.slice(t,t+r);this.initializeViews(i,this,o(this,"templateData")),this.currentState.childViewsDidChange(this,e,t,r)}this.propertyDidChange("childViews")},initializeViews:function(e,t,n){d(e,function(e){u(e,"_parentView",t),!e.container&&t&&u(e,"container",t.container),o(e,"templateData")||u(e,"templateData",n)})},currentView:null,_currentViewWillChange:w("currentView",function(){var e=o(this,"currentView");e&&e.destroy()}),_currentViewDidChange:b("currentView",function(){var e=o(this,"currentView");e&&this.pushObject(e)}),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}});i(E._default,{childViewsWillChange:r.K,childViewsDidChange:r.K,ensureChildrenAreInDOM:r.K}),i(E.inBuffer,{childViewsDidChange:function(){throw new h("You cannot modify child views while in the inBuffer state")}}),i(E.hasElement,{childViewsWillChange:function(e,t,n,r){for(var i=n;n+r>i;i++)t[i].remove()},childViewsDidChange:function(e){m.scheduleOnce("render",e,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(t){var n,r,i,s,o,u=t._childViews,a=new f;for(n=0,r=u.length;r>n;n++)i=u[n],o||(o=y(),o._hasElement=!1),i.renderToBufferIfNeeded(o)?a.push(i):a.length?(e(t,a,s,o),o=null,s=i,a.clear()):s=i;a.length&&e(t,a,s,o)}}),n["default"]=S}),e("ember-views/views/states",["ember-metal/platform","ember-metal/merge","ember-views/views/states/default","ember-views/views/states/pre_render","ember-views/views/states/in_buffer","ember-views/views/states/has_element","ember-views/views/states/in_dom","ember-views/views/states/destroying","exports"],function(){function e(e){var t={};t._default={},t.preRender=r(t._default),t.destroying=r(t._default),t.inBuffer=r(t._default),t.hasElement=r(t._default),t.inDOM=r(t.hasElement);for(var n in e)e.hasOwnProperty(n)&&i(t[n],e[n]);return t}var t=arguments,n=t[t.length-1],r=t[0].create,i=t[1]["default"],s=t[2]["default"],o=t[3]["default"],u=t[4]["default"],a=t[5]["default"],f=t[6]["default"],l=t[7]["default"],c={_default:s,preRender:o,inDOM:f,inBuffer:u,hasElement:a,destroying:l};n.cloneStates=e,n.states=c}),e("ember-views/views/states/default",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/error","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=(e[1].get,e[2].set),i=e[3]["default"],s=e[4]["default"],o={appendChild:function(){throw new s("You can't use appendChild outside of the rendering process")},$:function(){return void 0},getElement:function(){return null},handleEvent:function(){return!0},destroyElement:function(e){return r(e,"element",null),e._scheduledInsert&&(i.cancel(e._scheduledInsert),e._scheduledInsert=null),e},renderToBufferIfNeeded:function(){return!1},rerender:n.K,invokeObserver:n.K};t["default"]=o}),e("ember-views/views/states/destroying",["ember-metal/merge","ember-metal/platform","ember-runtime/system/string","ember-views/views/states/default","ember-metal/error","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].create,s=e[2].fmt,o=e[3]["default"],u=e[4]["default"],a="You can't call %@ on a view being destroyed",f=r(o);n(f,{appendChild:function(){throw new u(s(a,["appendChild"]))},rerender:function(){throw new u(s(a,["rerender"]))},destroyElement:function(){throw new u(s(a,["destroyElement"]))},empty:function(){throw new u(s(a,["empty"]))},setElement:function(){throw new u(s(a,["set('element', ...)"]))},renderToBufferIfNeeded:function(){return!1},insertElement:i.K}),t["default"]=f}),e("ember-views/views/states/has_element",["ember-views/views/states/default","ember-metal/run_loop","ember-metal/merge","ember-metal/platform","ember-views/system/jquery","ember-metal/error","ember-metal/property_get","ember-metal/property_set","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=e[2]["default"],s=e[3].create,o=e[4]["default"],u=e[5]["default"],a=e[6].get,f=e[7].set,l=s(n);i(l,{$:function(e,t){var n=a(e,"element");return t?o(t,n):o(n)},getElement:function(e){var t=a(e,"parentView");return t&&(t=a(t,"element")),t?e.findElementInParentElement(t):o("#"+a(e,"elementId"))[0]},setElement:function(e,t){if(null!==t)throw new u("You cannot set an element to a non-null value when the element is already in the DOM.");return e.transitionTo("preRender"),t},rerender:function(e){return e.triggerRecursively("willClearRender"),e.clearRenderedChildren(),e.domManager.replace(e),e},destroyElement:function(e){return e._notifyWillDestroyElement(),e.domManager.remove(e),f(e,"element",null),e._scheduledInsert&&(r.cancel(e._scheduledInsert),e._scheduledInsert=null),e},empty:function(e){var t,n,r=e._childViews;if(r)for(t=r.length,n=0;t>n;n++)r[n]._notifyWillDestroyElement();e.domManager.empty(e)},handleEvent:function(e,t,n){return e.has(t)?e.trigger(t,n):!0},invokeObserver:function(e,t){t.call(e)}}),t["default"]=l}),e("ember-views/views/states/in_buffer",["ember-views/views/states/default","ember-metal/error","ember-metal/core","ember-metal/platform","ember-metal/merge","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=e[2]["default"],s=e[3].create,o=e[4]["default"],u=s(n);o(u,{$:function(e){return e.rerender(),i.$()},rerender:function(){throw new r("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(e,t,n){var r=e.buffer,i=e._childViews;return t=e.createChildView(t,n),i.length||(i=e._childViews=i.slice()),i.push(t),t.renderToBuffer(r),e.propertyDidChange("childViews"),t},destroyElement:function(e){e.clearBuffer();var t=e._notifyWillDestroyElement();return t.transitionTo("preRender",!1),e},empty:function(){},renderToBufferIfNeeded:function(){return!1},insertElement:function(){throw new r("You can't insert an element that has already been rendered")},setElement:function(e,t){return null===t?e.transitionTo("preRender"):(e.clearBuffer(),e.transitionTo("hasElement")),t},invokeObserver:function(e,t){t.call(e)}}),t["default"]=u}),e("ember-views/views/states/in_dom",["ember-metal/core","ember-metal/platform","ember-metal/merge","ember-metal/error","ember-views/views/states/has_element","exports"],function(){var e,n=arguments,r=n[n.length-1],i=(n[0]["default"],n[1].create),s=n[2]["default"],o=n[3]["default"],u=n[4]["default"],a=i(u);s(a,{enter:function(n){e||(e=t("ember-views/views/view").View),n.isVirtual||(e.views[n.elementId]=n),n.addBeforeObserver("elementId",function(){throw new o("Changing a view's elementId after creation is not allowed")})},exit:function(n){e||(e=t("ember-views/views/view").View),this.isVirtual||delete e.views[n.elementId]},insertElement:function(){throw new o("You can't insert an element into the DOM that has already been inserted")}}),r["default"]=a}),e("ember-views/views/states/pre_render",["ember-views/views/states/default","ember-metal/platform","ember-metal/merge","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].create,s=e[2]["default"],o=r(n);s(o,{insertElement:function(e,t){e.createElement();var n=e.viewHierarchyCollection();n.trigger("willInsertElement"),t.call(e);var r=e.get("element");document.body.contains(r)&&(n.transitionTo("inDOM",!1),n.trigger("didInsertElement"))},renderToBufferIfNeeded:function(e,t){return e.renderToBuffer(t),!0},empty:i.K,setElement:function(e,t){return null!==t&&e.transitionTo("hasElement"),t}}),t["default"]=o}),e("ember-views/views/view",["ember-metal/core","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-views/system/render_buffer","ember-metal/property_get","ember-metal/property_set","ember-metal/set_properties","ember-metal/run_loop","ember-metal/observer","ember-metal/properties","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/is_none","container/container","ember-runtime/system/native_array","ember-metal/instrumentation","ember-runtime/system/string","ember-metal/enumerable_utils","ember-runtime/copy","ember-metal/binding","ember-metal/property_events","ember-views/views/states","ember-views/system/jquery","ember-views/system/ext","exports"],function(){function e(e){e.buffer=null}function n(e){E(e).cache.element=void 0}function r(){m.once(J,"notifyMutationListeners")}var i,s=arguments,o=s[s.length-1],u=s[0]["default"],a=s[1]["default"],f=s[2]["default"],l=s[3]["default"],c=s[4]["default"],h=s[5]["default"],p=s[6].get,d=s[7].set,v=s[8]["default"],m=s[9]["default"],g=s[10].addObserver,y=s[10].removeObserver,b=s[11].defineProperty,w=s[12].guidFor,E=s[12].meta,S=s[13].computed,x=s[14].observer,T=s[12].typeOf,N=s[12].isArray,C=s[15].isNone,k=s[14].Mixin,L=s[16]["default"],A=s[17].A,O=s[18].instrument,M=s[19].dasherize,_=s[20]["default"],D=_.forEach,P=_.addObject,H=_.removeObject,B=s[14].beforeObserver,j=s[21]["default"],F=s[22].isGlobalPath,I=s[23].propertyWillChange,q=s[23].propertyDidChange,R=s[24].cloneStates,U=s[24].states,z=s[25]["default"],W=S(function(){var e=this._childViews,n=A(),r=this;return D(e,function(e){var t;e.isVirtual?(t=p(e,"childViews"))&&n.pushObjects(t):n.push(e)}),n.replace=function(e,n,s){if(i||(i=t("ember-views/views/container_view")["default"]),r instanceof i)return r.replace(e,n,s);throw new a("childViews is immutable")},n});u.TEMPLATES={};var X=f.extend(l,c,{isView:!0,states:R(U),init:function(){this._super(),this.transitionTo("preRender"),this._isVisible=p(this,"isVisible")},parentView:S("_parentView",function(){var e=this._parentView;return e&&e.isVirtual?p(e,"parentView"):e}),state:null,_parentView:null,concreteView:S("parentView",function(){return this.isVirtual?p(this,"parentView.concreteView"):this}),instrumentName:"core_view",instrumentDetails:function(e){e.object=this.toString(),e.containerKey=this._debugContainerKey,e.view=this},renderToBuffer:function(e,t){var n="render."+this.instrumentName,r={};return this.instrumentDetails(r),O(n,r,function(){return this._renderToBuffer(e,t)},this)},_renderToBuffer:function(e){var t=this.tagName;(null===t||void 0===t)&&(t="div");var n=this.buffer=e&&e.begin(t)||h(t);return this.transitionTo("inBuffer",!1),this.beforeRender(n),this.render(n),this.afterRender(n),n},trigger:function(e){this._super.apply(this,arguments);var t=this[e];if(t){var n,r,i=[];for(n=1,r=arguments.length;r>n;n++)i.push(arguments[n]);return t.apply(this,i)}},deprecatedSendHandles:function(e){return!!this[e]},deprecatedSend:function(e){var t=[].slice.call(arguments,1);this[e].apply(this,t)},has:function(e){return"function"===T(this[e])||this._super(e)},destroy:function(){var e=this._parentView;if(this._super())return this.removedFromDOM||this.destroyElement(),e&&e.removeChild(this),this.transitionTo("destroying",!1),this},clearRenderedChildren:u.K,triggerRecursively:u.K,invokeRecursively:u.K,transitionTo:u.K,destroyElement:u.K}),V=function(e){var t=this.views=e||[];this.length=t.length};V.prototype={length:0,trigger:function(e){for(var t,n=this.views,r=0,i=n.length;i>r;r++)t=n[r],t.trigger&&t.trigger(e)},triggerRecursively:function(e){for(var t=this.views,n=0,r=t.length;r>n;n++)t[n].triggerRecursively(e)},invokeRecursively:function(e){for(var t,n=this.views,r=0,i=n.length;i>r;r++)t=n[r],e(t)},transitionTo:function(e,t){for(var n=this.views,r=0,i=n.length;i>r;r++)n[r].transitionTo(e,t)},push:function(){this.length+=arguments.length;var e=this.views;return e.push.apply(e,arguments)},objectAt:function(e){return this.views[e]},forEach:function(e){var t=this.views;return D(t,e)},clear:function(){this.length=0,this.views.length=0}};var $=[],J=X.extend({concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:!0,templateName:null,layoutName:null,instrumentDisplay:S(function(){return this.helperName?"{{"+this.helperName+"}}":void 0}),template:S("templateName",function(e,t){if(void 0!==t)return t;var n=p(this,"templateName"),r=this.templateForName(n,"template");return r||p(this,"defaultTemplate")}),controller:S("_parentView",function(){var e=p(this,"_parentView");return e?p(e,"controller"):null}),layout:S(function(){var e=p(this,"layoutName"),t=this.templateForName(e,"layout");return t||p(this,"defaultLayout")}).property("layoutName"),_yield:function(e,t){var n=p(this,"template");n&&n(e,t)},templateForName:function(e){if(e){var t=this.container||L&&L.defaultContainer;return t&&t.lookup("template:"+e)}},context:S(function(e,t){return 2===arguments.length?(d(this,"_context",t),t):p(this,"_context")}).volatile(),_context:S(function(){var e,t;return(t=p(this,"controller"))?t:(e=this._parentView,e?p(e,"_context"):null)}),_contextDidChange:x("context",function(){this.rerender()}),isVisible:!0,childViews:W,_childViews:$,_childViewsWillChange:B("childViews",function(){if(this.isVirtual){var e=p(this,"parentView");e&&I(e,"childViews")}}),_childViewsDidChange:x("childViews",function(){if(this.isVirtual){var e=p(this,"parentView");e&&q(e,"childViews")}}),nearestInstanceOf:function(e){for(var t=p(this,"parentView");t;){if(t instanceof e)return t;t=p(t,"parentView")}},nearestOfType:function(e){for(var t=p(this,"parentView"),n=e instanceof k?function(t){return e.detect(t)}:function(t){return e.detect(t.constructor)};t;){if(n(t))return t;t=p(t,"parentView")}},nearestWithProperty:function(e){for(var t=p(this,"parentView");t;){if(e in t)return t;t=p(t,"parentView")}},nearestChildOf:function(e){for(var t=p(this,"parentView");t;){if(p(t,"parentView")instanceof e)return t;t=p(t,"parentView")}},_parentViewDidChange:x("_parentView",function(){this.isDestroying||(this.trigger("parentViewDidChange"),p(this,"parentView.controller")&&!p(this,"controller")&&this.notifyPropertyChange("controller"))}),_controllerDidChange:x("controller",function(){this.isDestroying||(this.rerender(),this.forEachChildView(function(e){e.propertyDidChange("controller")}))}),cloneKeywords:function(){var e=p(this,"templateData"),t=e?j(e.keywords):{};return d(t,"view",p(this,"concreteView")),d(t,"_view",this),d(t,"controller",p(this,"controller")),t},render:function(e){var t=p(this,"layout")||p(this,"template");if(t){var n,r=p(this,"context"),i=this.cloneKeywords(),s={view:this,buffer:e,isRenderData:!0,keywords:i,insideGroup:p(this,"templateData.insideGroup")};n=t(r,{data:s}),void 0!==n&&e.push(n)}},rerender:function(){return this.currentState.rerender(this)},clearRenderedChildren:function(){for(var e=this.lengthBeforeRender,t=this.lengthAfterRender,n=this._childViews,r=t-1;r>=e;r--)n[r]&&n[r].destroy()},_applyClassNameBindings:function(e){var t,n,r,i=this.classNames;D(e,function(e){var s,o=J._parsePropertyPath(e),u=function(){n=this._classStringForProperty(e),t=this.$(),s&&(t.removeClass(s),i.removeObject(s)),n?(t.addClass(n),s=n):s=null};r=this._classStringForProperty(e),r&&(P(i,r),s=r),this.registerObserver(this,o.path,u),this.one("willClearRender",function(){s&&(i.removeObject(s),s=null)})},this)},_unspecifiedAttributeBindings:null,_applyAttributeBindings:function(e,t){var n,r=this._unspecifiedAttributeBindings=this._unspecifiedAttributeBindings||{};D(t,function(t){var i=t.split(":"),s=i[0],o=i[1]||s;s in this?(this._setupAttributeBindingObservation(s,o),n=p(this,s),J.applyAttributeBindings(e,o,n)):r[s]=o},this),this.setUnknownProperty=this._setUnknownProperty},_setupAttributeBindingObservation:function(e,t){var n,r,i=function(){r=this.$(),n=p(this,e),J.applyAttributeBindings(r,t,n)};this.registerObserver(this,e,i)},setUnknownProperty:null,_setUnknownProperty:function(e,t){var n=this._unspecifiedAttributeBindings&&this._unspecifiedAttributeBindings[e];return n&&this._setupAttributeBindingObservation(e,n),b(this,e),d(this,e,t)},_classStringForProperty:function(e){var t=J._parsePropertyPath(e),n=t.path,r=p(this,n);return void 0===r&&F(n)&&(r=p(u.lookup,n)),J._classStringForValue(n,r,t.className,t.falsyClassName)},element:S("_parentView",function(e,t){return void 0!==t?this.currentState.setElement(this,t):this.currentState.getElement(this)}),$:function(e){return this.currentState.$(this,e)},mutateChildViews:function(e){for(var t,n=this._childViews,r=n.length;--r>=0;)t=n[r],e(this,t,r);return this},forEachChildView:function(e){var t=this._childViews;if(!t)return this;var n,r,i=t.length;for(r=0;i>r;r++)n=t[r],e(n);return this},appendTo:function(e){return this._insertElementLater(function(){this.$().appendTo(e)}),this},replaceIn:function(e){return this._insertElementLater(function(){z(e).empty(),this.$().appendTo(e)}),this},_insertElementLater:function(e){this._scheduledInsert=m.scheduleOnce("render",this,"_insertElement",e)},_insertElement:function(e){this._scheduledInsert=null,this.currentState.insertElement(this,e)},append:function(){return this.appendTo(document.body)},remove:function(){this.removedFromDOM||this.destroyElement(),this.invokeRecursively(function(e){e.clearRenderedChildren&&e.clearRenderedChildren()})},elementId:null,findElementInParentElement:function(e){var t="#"+this.elementId;return z(t)[0]||z(t,e)[0]},createElement:function(){if(p(this,"element"))return this;var e=this.renderToBuffer();return d(this,"element",e.element()),this},willInsertElement:u.K,didInsertElement:u.K,willClearRender:u.K,invokeRecursively:function(e,t){for(var n,r,i,s=t===!1?this._childViews:[this];s.length;){n=s.slice(),s=[];for(var o=0,u=n.length;u>o;o++)r=n[o],i=r._childViews?r._childViews.slice(0):null,e(r),i&&s.push.apply(s,i)}},triggerRecursively:function(e){for(var t,n,r,i=[this];i.length;){t=i.slice(),i=[];for(var s=0,o=t.length;o>s;s++)n=t[s],r=n._childViews?n._childViews.slice(0):null,n.trigger&&n.trigger(e),r&&i.push.apply(i,r)}},viewHierarchyCollection:function(){for(var e,t=new V([this]),n=0;n<t.length;n++)e=t.objectAt(n),e._childViews&&t.push.apply(t,e._childViews);return t},destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:u.K,_notifyWillDestroyElement:function(){var e=this.viewHierarchyCollection();return e.trigger("willClearRender"),e.trigger("willDestroyElement"),e},_elementDidChange:x("element",function(){this.forEachChildView(n)}),parentViewDidChange:u.K,instrumentName:"view",instrumentDetails:function(e){e.template=p(this,"templateName"),this._super(e)},_renderToBuffer:function(e,t){this.lengthBeforeRender=this._childViews.length;var n=this._super(e,t);return this.lengthAfterRender=this._childViews.length,n},renderToBufferIfNeeded:function(e){return this.currentState.renderToBufferIfNeeded(this,e)},beforeRender:function(e){this.applyAttributesToBuffer(e),e.pushOpeningTag()},afterRender:function(e){e.pushClosingTag()},applyAttributesToBuffer:function(e){var t=p(this,"classNameBindings");t.length&&this._applyClassNameBindings(t);var n=p(this,"attributeBindings");n.length&&this._applyAttributeBindings(e,n),e.setClasses(this.classNames),e.id(this.elementId);var r=p(this,"ariaRole");r&&e.attr("role",r),p(this,"isVisible")===!1&&e.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:$,attributeBindings:$,init:function(){this.elementId=this.elementId||w(this),this._super(),this._childViews=this._childViews.slice(),this.classNameBindings=A(this.classNameBindings.slice()),this.classNames=A(this.classNames.slice())},appendChild:function(e,t){return this.currentState.appendChild(this,e,t)},removeChild:function(e){if(!this.isDestroying){d(e,"_parentView",null);var t=this._childViews;return H(t,e),this.propertyDidChange("childViews"),this}},removeAllChildren:function(){return this.mutateChildViews(function(e,t){e.removeChild(t)})},destroyAllChildren:function(){return this.mutateChildViews(function(e,t){t.destroy()})},removeFromParent:function(){var e=this._parentView;return this.remove(),e&&e.removeChild(this),this},destroy:function(){var e,t,n=this._childViews,r=p(this,"parentView"),i=this.viewName;if(this._super()){for(e=n.length,t=e-1;t>=0;t--)n[t].removedFromDOM=!0;for(i&&r&&r.set(i,null),e=n.length,t=e-1;t>=0;t--)n[t].destroy();return this}},createChildView:function(e,t){if(!e)throw new TypeError("createChildViews first argument must exist");if(e.isView&&e._parentView===this&&e.container===this.container)return e;if(t=t||{},t._parentView=this,X.detect(e))t.templateData=t.templateData||p(this,"templateData"),t.container=this.container,e=e.create(t),e.viewName&&d(p(this,"concreteView"),e.viewName,e);else if("string"==typeof e){var n="view:"+e,r=this.container.lookupFactory(n);t.templateData=p(this,"templateData"),e=r.create(t)}else t.container=this.container,p(e,"templateData")||(t.templateData=p(this,"templateData")),v(e,t);return e},becameVisible:u.K,becameHidden:u.K,_isVisibleDidChange:x("isVisible",function(){this._isVisible!==p(this,"isVisible")&&m.scheduleOnce("render",this,this._toggleVisibility)}),_toggleVisibility:function(){var e=this.$();if(e){var t=p(this,"isVisible");this._isVisible!==t&&(e.toggle(t),this._isVisible=t,this._isAncestorHidden()||(t?this._notifyBecameVisible():this._notifyBecameHidden()))}},_notifyBecameVisible:function(){this.trigger("becameVisible"),this.forEachChildView(function(e){var t=p(e,"isVisible");(t||null===t)&&e._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden"),this.forEachChildView(function(e){var t=p(e,"isVisible");(t||null===t)&&e._notifyBecameHidden()})},_isAncestorHidden:function(){for(var e=p(this,"parentView");e;){if(p(e,"isVisible")===!1)return!0;e=p(e,"parentView")}return!1},clearBuffer:function(){this.invokeRecursively(e)},transitionTo:function(e,t){var n=this.currentState,r=this.currentState=this.states[e];this.state=e,n&&n.exit&&n.exit(this),r.enter&&r.enter(this),"inDOM"===e&&(E(this).cache.element=void 0),t!==!1&&this.forEachChildView(function(t){t.transitionTo(e)})},handleEvent:function(e,t){return this.currentState.handleEvent(this,e,t)},registerObserver:function(e,t,n,r){if(r||"function"!=typeof n||(r=n,n=null),e&&"object"==typeof e){var i=this,s=function(){i.currentState.invokeObserver(this,r)},o=function(){m.scheduleOnce("render",this,s)};g(e,t,n,o),this.one("willClearRender",function(){y(e,t,n,o)})}}}),K={prepend:function(e,t){e.$().prepend(t),r()},after:function(e,t){e.$().after(t),r()},html:function(e,t){e.$().html(t),r()},replace:function(e){var t=p(e,"element");d(e,"element",null),e._insertElementLater(function(){z(t).replaceWith(p(e,"element")),r()})},remove:function(e){e.$().remove(),r()},empty:function(e){e.$().empty(),r()}};J.reopen({domManager:K}),J.reopenClass({_parsePropertyPath:function(e){var t,n,r=e.split(":"),i=r[0],s="";return r.length>1&&(t=r[1],3===r.length&&(n=r[2]),s=":"+t,n&&(s+=":"+n)),{path:i,classNames:s,className:""===t?void 0:t,falsyClassName:n}},_classStringForValue:function(e,t,n,r){if(N(t)&&(t=0!==p(t,"length")),n||r)return n&&t?n:r&&!t?r:null;if(t===!0){var i=e.split(".");return M(i[i.length-1])}return t!==!1&&null!=t?t:null}});var Q=f.extend(l).create();J.addMutationListener=function(e){Q.on("change",e)},J.removeMutationListener=function(e){Q.off("change",e)},J.notifyMutationListeners=function(){Q.trigger("change")},J.views={},J.childViewsProperty=W,J.applyAttributeBindings=function(e,t,n){var r=T(n);"value"===t||"string"!==r&&("number"!==r||isNaN(n))?"value"===t||"boolean"===r?C(n)||n===!1?(e.removeAttr(t),e.prop(t,"")):n!==e.prop(t)&&e.prop(t,n):n||e.removeAttr(t):n!==e.attr(t)&&e.attr(t,n)},o.CoreView=X,o.View=J,o.ViewCollection=V})}(),function(){e("metamorph",[],function(){var e=function(){},t=0,n=function(){return"undefined"!=typeof MetamorphENV?MetamorphENV.DISABLE_RANGE_API:"undefined"!==ENV?ENV.DISABLE_RANGE_API:!1}(),r=!n&&"undefined"!=typeof document&&"createRange"in document&&"undefined"!=typeof Range&&Range.prototype.createContextualFragment,i="undefined"!=typeof document&&function(){var e=document.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script></script>",""===e.firstChild.innerHTML}(),s=document&&function(){var e=document.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'></script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(),o=function(n){var r;r=this instanceof o?this:new e,r.innerHTML=n;var i="metamorph-"+t++;return r.start=i+"-start",r.end=i+"-end",r};e.prototype=o.prototype;var u,a,f,l,c,h,p,d,v;if(l=function(){return this.startTag()+this.innerHTML+this.endTag()},d=function(){return"<script id='"+this.start+"' type='text/x-placeholder'></script>"},v=function(){return"<script id='"+this.end+"' type='text/x-placeholder'></script>"},r)u=function(e,t){var n=document.createRange(),r=document.getElementById(e.start),i=document.getElementById(e.end);return t?(n.setStartBefore(r),n.setEndAfter(i)):(n.setStartAfter(r),n.setEndBefore(i)),n},a=function(e,t){var n=u(this,t);n.deleteContents();var r=n.createContextualFragment(e);n.insertNode(r)},f=function(){var e=u(this,!0);e.deleteContents()},c=function(e){var t=document.createRange();t.setStart(e),t.collapse(!1);var n=t.createContextualFragment(this.outerHTML());e.appendChild(n)},h=function(e){var t=document.createRange(),n=document.getElementById(this.end);t.setStartAfter(n),t.setEndAfter(n);var r=t.createContextualFragment(e);t.insertNode(r)},p=function(e){var t=document.createRange(),n=document.getElementById(this.start);t.setStartAfter(n),t.setEndAfter(n);var r=t.createContextualFragment(e);t.insertNode(r)};else{var m={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]},g=function(e,t){if(e.getAttribute("id")===t)return e;var n,r,i,s=e.childNodes.length;for(n=0;s>n;n++)if(r=e.childNodes[n],i=1===r.nodeType&&g(r,t))return i},y=function(e,t){var n=[];if(s&&(t=t.replace(/(\s+)(<script id='([^']+)')/g,function(e,t,r,i){return n.push([i,t]),r})),e.innerHTML=t,n.length>0){var r,i=n.length;for(r=0;i>r;r++){var o=g(e,n[r][0]),u=document.createTextNode(n[r][1]);o.parentNode.insertBefore(u,o)}}},b=function(e,t){var n=m[e.tagName.toLowerCase()]||m._default,r=n[0],s=n[1],o=n[2];i&&(t="&shy;"+t);var u=document.createElement("div");y(u,s+t+o);for(var a=0;r>=a;a++)u=u.firstChild;if(i){for(var f=u;1===f.nodeType&&!f.nodeName;)f=f.firstChild;3===f.nodeType&&"Â­"===f.nodeValue.charAt(0)&&(f.nodeValue=f.nodeValue.slice(1))}return u},w=function(e){for(;""===e.parentNode.tagName;)e=e.parentNode;return e},E=function(e,t){e.parentNode!==t.parentNode&&t.parentNode.insertBefore(e,t.parentNode.firstChild)};a=function(e,t){var n,r,i,s=w(document.getElementById(this.start)),o=document.getElementById(this.end),u=o.parentNode;for(E(s,o),n=s.nextSibling;n;){if(r=n.nextSibling,i=n===o){if(!t)break;o=n.nextSibling}if(n.parentNode.removeChild(n),i)break;n=r}for(n=b(s.parentNode,e),t&&s.parentNode.removeChild(s);n;)r=n.nextSibling,u.insertBefore(n,o),n=r},f=function(){var e=w(document.getElementById(this.start)),t=document.getElementById(this.end);this.html(""),e.parentNode.removeChild(e),t.parentNode.removeChild(t)},c=function(e){for(var t,n=b(e,this.outerHTML());n;)t=n.nextSibling,e.appendChild(n),n=t},h=function(e){var t,n,r=document.getElementById(this.end),i=r.nextSibling,s=r.parentNode;for(n=b(s,e);n;)t=n.nextSibling,s.insertBefore(n,i),n=t},p=function(e){var t,n,r=document.getElementById(this.start),i=r.parentNode;n=b(i,e);for(var s=r.nextSibling;n;)t=n.nextSibling,i.insertBefore(n,s),n=t}}return o.prototype.html=function(e){return this.checkRemoved(),void 0===e?this.innerHTML:(a.call(this,e),this.innerHTML=e,void 0)},o.prototype.replaceWith=function(e){this.checkRemoved(),a.call(this,e,!0)},o.prototype.remove=f,o.prototype.outerHTML=l,o.prototype.appendTo=c,o.prototype.after=h,o.prototype.prepend=p,o.prototype.startTag=d,o.prototype.endTag=v,o.prototype.isRemoved=function(){var e=document.getElementById(this.start),t=document.getElementById(this.end);return!e||!t},o.prototype.checkRemoved=function(){if(this.isRemoved())throw new Error("Cannot perform operations on a Metamorph that is not in the DOM.")},o})}(),function(){e("ember-handlebars-compiler",["ember-metal/core","exports"],function(){var e=arguments,r=e[e.length-1],i=e[0]["default"];"undefined"==typeof i.assert&&(i.assert=function(){}),"undefined"==typeof i.FEATURES&&(i.FEATURES={isEnabled:function(){}});var s,o,u=Object.create||function(e){function t(){}return t.prototype=e,new t},a=i.imports&&i.imports.Handlebars||this&&this.Handlebars;a||"function"!=typeof n||(a=n("handlebars"));var f=i.Handlebars=u(a);f.helper=function(e,n){s||(s=t("ember-views/views/view").View),o||(o=t("ember-views/views/component")["default"]),s.detect(n)?f.registerHelper(e,f.makeViewHelper(n)):f.registerBoundHelper.apply(null,arguments)},f.makeViewHelper=function(e){return function(t){return f.helpers.view.call(this,e,t)}},f.helpers=u(a.helpers),f.Compiler=function(){},a.Compiler&&(f.Compiler.prototype=u(a.Compiler.prototype)),f.Compiler.prototype.compiler=f.Compiler,f.JavaScriptCompiler=function(){},a.JavaScriptCompiler&&(f.JavaScriptCompiler.prototype=u(a.JavaScriptCompiler.prototype),f.JavaScriptCompiler.prototype.compiler=f.JavaScriptCompiler),f.JavaScriptCompiler.prototype.namespace="Ember.Handlebars",f.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"},f.JavaScriptCompiler.prototype.appendToBuffer=function(e){return"data.buffer.push("+e+");"};var l=/helpers\.(.*?)\)/,c=/helpers\['(.*?)'/,h=/(.*blockHelperMissing\.call\(.*)(stack[0-9]+)(,.*)/;f.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation=function(e){var t=e[e.length-1],n=(l.exec(t)||c.exec(t))[1],r=h.exec(t);e[e.length-1]=r[1]+"'"+n+"'"+r[3]};var p=f.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation,d=f.JavaScriptCompiler.prototype.blockValue;f.JavaScriptCompiler.prototype.blockValue=function(){d.apply(this,arguments),p(this.source)};var v=f.JavaScriptCompiler.prototype.ambiguousBlockValue;f.JavaScriptCompiler.prototype.ambiguousBlockValue=function(){v.apply(this,arguments),p(this.source)},f.Compiler.prototype.mustache=function(e){if(!e.params.length&&!e.hash){var t=new a.AST.IdNode([{part:"_triageMustache"}]);e.escaped||(e.hash=e.hash||new a.AST.HashNode([]),e.hash.pairs.push(["unescaped",new a.AST.StringNode("true")])),e=new a.AST.MustacheNode([t].concat([e.id]),e.hash,!e.escaped)}return a.Compiler.prototype.mustache.call(this,e)},f.precompile=function(e,t){var n=a.parse(e),r={knownHelpers:{action:!0,unbound:!0,"bind-attr":!0,template:!0,view:!0,_triageMustache:!0},data:!0,stringParams:!0};t=void 0===t?!0:t;var i=(new f.Compiler).compile(n,r);return(new f.JavaScriptCompiler).compile(i,r,void 0,t)},a.compile&&(f.compile=function(e){var t=a.parse(e),n={data:!0,stringParams:!0},r=(new f.Compiler).compile(t,n),i=(new f.JavaScriptCompiler).compile(r,n,void 0,!0),s=f.template(i);return s.isMethod=!1,s}),r["default"]=f})}(),function(){e("ember-handlebars/component_lookup",["ember-runtime/system/object","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=n.extend({lookupFactory:function(e,t){t=t||this.container;var n="component:"+e,r="template:components/"+e,s=t&&t.has(r);s&&t.injection(n,"layout",r);var o=t.lookupFactory(n);return s||o?(o||(t.register(n,i.Component),o=t.lookupFactory(n)),o):void 0}});t["default"]=r}),e("ember-handlebars/controls",["ember-handlebars/controls/checkbox","ember-handlebars/controls/text_field","ember-handlebars/controls/text_area","ember-metal/core","ember-handlebars-compiler","exports"],function(){function e(e){var t=e.hash,n=(e.hashTypes,t.type),r=t.on;return delete t.type,delete t.on,"checkbox"===n?a.view.call(this,i,e):(n&&(t.type=n),t.onEvent=r||"enter",a.view.call(this,s,e))}function t(e){return e.hash,e.hashTypes,a.view.call(this,o,e)}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1]["default"],o=n[2]["default"],u=(n[3]["default"],n[4]["default"]),a=u.helpers;r.inputHelper=e,r.textareaHelper=t}),e("ember-handlebars/controls/checkbox",["ember-metal/property_get","ember-metal/property_set","ember-views/views/view","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].get,r=e[1].set,i=e[2].View,s=i.extend({instrumentDisplay:'{{input type="checkbox"}}',classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","required","form"],type:"checkbox",checked:!1,disabled:!1,indeterminate:!1,init:function(){this._super(),this.on("change",this,this._updateElementValue)},didInsertElement:function(){this._super(),n(this,"element").indeterminate=!!n(this,"indeterminate")},_updateElementValue:function(){r(this,"checked",this.$().prop("checked"))}});t["default"]=s}),e("ember-handlebars/controls/select",["ember-handlebars-compiler","ember-metal/enumerable_utils","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/collection_view","ember-metal/utils","ember-metal/is_none","ember-metal/computed","ember-runtime/system/native_array","ember-metal/mixin","ember-metal/properties","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],s=e[2].get,o=e[3].set,u=e[4].View,a=e[5]["default"],f=e[6].isArray,l=e[7]["default"],c=e[8].computed,h=e[9].A,p=e[10].observer,d=e[11].defineProperty,v=r.indexOf,m=r.indexesOf,g=r.forEach,y=r.replace,b=(n.compile,u.extend({instrumentDisplay:"Ember.SelectOption",tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(e,t){t={data:t.data,hash:{}},n.helpers.bind.call(e,"view.label",t)},init:function(){this.labelPathDidChange(),this.valuePathDidChange(),this._super()},selected:c(function(){var e=s(this,"content"),t=s(this,"parentView.selection");return s(this,"parentView.multiple")?t&&v(t,e.valueOf())>-1:e==t}).property("content","parentView.selection"),labelPathDidChange:p("parentView.optionLabelPath",function(){var e=s(this,"parentView.optionLabelPath");e&&d(this,"label",c(function(){return s(this,e)}).property(e))}),valuePathDidChange:p("parentView.optionValuePath",function(){var e=s(this,"parentView.optionValuePath");e&&d(this,"value",c(function(){return s(this,e)}).property(e))})})),w=a.extend({instrumentDisplay:"Ember.SelectOptgroup",tagName:"optgroup",attributeBindings:["label"],selectionBinding:"parentView.selection",multipleBinding:"parentView.multiple",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",itemViewClassBinding:"parentView.optionView"}),E=u.extend({instrumentDisplay:"Ember.Select",tagName:"select",classNames:["ember-select"],defaultTemplate:i.Handlebars.template(function(e,t,n,r,s){function o(e,t){var r,i="";return t.buffer.push('<option value="">'),r=n._triageMustache.call(e,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</option>"),i}function u(e,t){var r;r=n.each.call(e,"view.groupedContent",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(4,a,t),contexts:[e],types:["ID"],data:t}),r||0===r?t.buffer.push(r):t.buffer.push("")}function a(e,t){t.buffer.push(p(n.view.call(e,"view.groupView",{hash:{content:"content",label:"label"},hashTypes:{content:"ID",label:"ID"},hashContexts:{content:e,label:e},contexts:[e],types:["ID"],data:t})))}function f(e,t){var r;r=n.each.call(e,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(7,l,t),contexts:[e],types:["ID"],data:t}),r||0===r?t.buffer.push(r):t.buffer.push("")}function l(e,t){t.buffer.push(p(n.view.call(e,"view.optionView",{hash:{content:""},hashTypes:{content:"ID"},hashContexts:{content:e},contexts:[e],types:["ID"],data:t})))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,i.Handlebars.helpers),s=s||{};var c,h="",p=this.escapeExpression,d=this;return c=n["if"].call(t,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(1,o,s),contexts:[t],types:["ID"],data:s}),(c||0===c)&&s.buffer.push(c),c=n["if"].call(t,"view.optionGroupPath",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(6,f,s),fn:d.program(3,u,s),contexts:[t],types:["ID"],data:s}),(c||0===c)&&s.buffer.push(c),h}),attributeBindings:["multiple","disabled","tabindex","name","required","autofocus","form","size"],multiple:!1,disabled:!1,required:!1,content:null,selection:null,value:c(function(e,t){if(2===arguments.length)return t;var n=s(this,"optionValuePath").replace(/^content\.?/,"");return n?s(this,"selection."+n):s(this,"selection")}).property("selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionGroupPath:null,groupView:w,groupedContent:c(function(){var e=s(this,"optionGroupPath"),t=h(),n=s(this,"content")||[];return g(n,function(n){var r=s(n,e);s(t,"lastObject.label")!==r&&t.pushObject({label:r,content:h()}),s(t,"lastObject.content").push(n)}),t}).property("optionGroupPath","content.@each"),optionView:b,_change:function(){s(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:p("selection.@each",function(){var e=s(this,"selection");if(s(this,"multiple")){if(!f(e))return o(this,"selection",h([e])),void 0;this._selectionDidChangeMultiple()}else this._selectionDidChangeSingle()}),valueDidChange:p("value",function(){var e,t=s(this,"content"),n=s(this,"value"),r=s(this,"optionValuePath").replace(/^content\.?/,""),i=r?s(this,"selection."+r):s(this,"selection");n!==i&&(e=t?t.find(function(e){return n===(r?s(e,r):e)}):null,this.set("selection",e))}),_triggerChange:function(){var e=s(this,"selection"),t=s(this,"value");l(e)||this.selectionDidChange(),l(t)||this.valueDidChange(),this._change()},_changeSingle:function(){var e=this.$()[0].selectedIndex,t=s(this,"content"),n=s(this,"prompt");if(t&&s(t,"length")){if(n&&0===e)return o(this,"selection",null),void 0;n&&(e-=1),o(this,"selection",t.objectAt(e))}},_changeMultiple:function(){var e=this.$("option:selected"),t=s(this,"prompt"),n=t?1:0,r=s(this,"content"),i=s(this,"selection");if(r&&e){var u=e.map(function(){return this.index-n}).toArray(),a=r.objectsAt(u);f(i)?y(i,0,s(i,"length"),a):o(this,"selection",a)}},_selectionDidChangeSingle:function(){var e=this.get("element");if(e){var t=s(this,"content"),n=s(this,"selection"),r=t?v(t,n):-1,i=s(this,"prompt");i&&(r+=1),e&&(e.selectedIndex=r)}},_selectionDidChangeMultiple:function(){var e,t=s(this,"content"),n=s(this,"selection"),r=t?m(t,n):[-1],i=s(this,"prompt"),o=i?1:0,u=this.$("option");u&&u.each(function(){e=this.index>-1?this.index-o:-1,this.selected=v(r,e)>-1})},init:function(){this._super(),this.on("didInsertElement",this,this._triggerChange),this.on("change",this,this._change)}});t["default"]=E,t.Select=E,t.SelectOption=b,t.SelectOptgroup=w}),e("ember-handlebars/controls/text_area",["ember-metal/property_get","ember-views/views/component","ember-handlebars/controls/text_support","ember-metal/mixin","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].get,r=e[1]["default"],i=e[2]["default"],s=e[3].observer,o=r.extend(i,{instrumentDisplay:"{{textarea}}",classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap"],rows:null,cols:null,_updateElementValue:s("value",function(){var e=n(this,"value"),t=this.$();t&&e!==t.val()&&t.val(e)}),init:function(){this._super(),this.on("didInsertElement",this,this._updateElementValue)}});t["default"]=o}),e("ember-handlebars/controls/text_field",["ember-metal/property_get","ember-metal/property_set","ember-views/views/component","ember-handlebars/controls/text_support","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0].get,e[1].set,e[2]["default"]),r=e[3]["default"],i=n.extend(r,{instrumentDisplay:'{{input type="text"}}',classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size","pattern","name","min","max","accept","autocomplete","autosave","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","list","multiple","pattern","step","width"],value:"",type:"text",size:null,pattern:null,min:null,max:null});t["default"]=i}),e("ember-handlebars/controls/text_support",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/target_action_support","exports"],function(){function e(e,t,n){var i=r(t,e),s=r(t,"onEvent"),o=r(t,"value");(s===e||"keyPress"===s&&"key-press"===e)&&t.sendAction("action",o),t.sendAction(e,o),(i||s===e)&&(r(t,"bubbles")||n.stopPropagation())}var t=arguments,n=t[t.length-1],r=t[0].get,i=t[1].set,s=t[2].Mixin,o=t[3]["default"],u=s.create(o,{value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex","readonly","autofocus","form","selectionDirection","spellcheck","required","title","autocapitalize","autocorrect"],placeholder:null,disabled:!1,maxlength:null,init:function(){this._super(),this.on("focusOut",this,this._elementValueDidChange),this.on("change",this,this._elementValueDidChange),this.on("paste",this,this._elementValueDidChange),this.on("cut",this,this._elementValueDidChange),this.on("input",this,this._elementValueDidChange),this.on("keyUp",this,this.interpretKeyEvents)},action:null,onEvent:"enter",bubbles:!1,interpretKeyEvents:function(e){var t=u.KEY_EVENTS,n=t[e.keyCode];return this._elementValueDidChange(),n?this[n](e):void 0},_elementValueDidChange:function(){i(this,"value",this.$().val())},insertNewline:function(t){e("enter",this,t),e("insert-newline",this,t)},cancel:function(t){e("escape-press",this,t)},focusIn:function(t){e("focus-in",this,t)},focusOut:function(t){e("focus-out",this,t)},keyPress:function(t){e("key-press",this,t)}});u.KEY_EVENTS={13:"insertNewline",27:"cancel"},n["default"]=u}),e("ember-handlebars/ext",["ember-metal/core","ember-runtime/system/string","ember-handlebars-compiler","ember-metal/property_get","ember-metal/binding","ember-metal/error","ember-metal/mixin","ember-metal/is_empty","exports"],function(){function e(e,t,n){var r,i,s=n&&n.keywords||{};return r=t.split(".",1)[0],s.hasOwnProperty(r)&&(e=s[r],i=!0,t=t===r?"":t.substr(r.length+1)),{root:e,path:t,isKeyword:i}}function n(t,n,r){var i,s=r&&r.data,o=e(t,n,s);return t=o.root,n=o.path,i=w(t,n),void 0===i&&t!==m.lookup&&E(n)&&(i=w(m.lookup,n)),i}function r(e,t,r){var i=n(e,t,r);return null===i||void 0===i?i="":i instanceof Handlebars.SafeString||(i=String(i)),r.hash.unescaped||(i=Handlebars.Utils.escapeExpression(i)),i}function i(e,t,r){for(var i,s,o=[],u=r.types,a=0,f=t.length;f>a;a++)i=t[a],s=u[a],"ID"===s?o.push(n(e,i,r)):o.push(i);return o}function s(e,t,r){var i,s={},o=r.hashTypes;for(var u in t)t.hasOwnProperty(u)&&(i=o[u],s[u]="ID"===i?n(e,t[u],r):t[u]);return s}function o(e){h||(h=t("ember-handlebars/helpers/binding").resolveHelper);var n,r="",i=arguments[arguments.length-1],s=h(i.data.view.container,e);if(s)return s.apply(this,N.call(arguments,1));throw n="%@ Handlebars error: Could not find property '%@' on object %@.",i.data&&(r=i.data.view),new S(g(n,[r,e,this]))}function u(e){h||(h=t("ember-handlebars/helpers/binding").resolveHelper);var n=arguments[arguments.length-1],r=h(n.data.view.container,e);return r?r.apply(this,N.call(arguments,1)):b.helperMissing.call(this,e)}function a(e){var t=N.call(arguments,1),n=f.apply(this,t);y.registerHelper(e,n)}function f(n){function r(){var t,r,s,o,u,a=N.call(arguments,0,-1),f=a.length,c=arguments[arguments.length-1],h=[],d=c.data,v=d.isUnbound?N.call(c.types,1):c.types,m=c.hash,g=d.view,y=c.contexts,b=y&&y.length?y[0]:this,w="",E=p.prototype.normalizedValue,S=m.boundOptions={};for(s in m)x.test(s)&&(S[s.slice(0,-7)]=m[s]);var C=[];for(d.properties=[],t=0;f>t;++t)if(d.properties.push(a[t]),"ID"===v[t]){var k=e(b,a[t],d);h.push(k),C.push(k)}else d.isUnbound?h.push({path:a[t]}):h.push(null);if(d.isUnbound)return l(this,n,h,c);var L=new p(null,null,!c.hash.unescaped,c.data);L.normalizedValue=function(){var r,i=[];for(r in S)S.hasOwnProperty(r)&&(u=e(b,S[r],d),L.path=u.path,L.pathRoot=u.root,m[r]=E.call(L));for(t=0;f>t;++t)u=h[t],u?(L.path=u.path,L.pathRoot=u.root,i.push(E.call(L))):i.push(a[t]);return i.push(c),n.apply(b,i)},g.appendChild(L);for(o in S)S.hasOwnProperty(o)&&C.push(e(b,S[o],d));for(t=0,r=C.length;r>t;++t)u=C[t],g.registerObserver(u.root,u.path,L,L.rerender);if("ID"===v[0]&&0!==h.length){var A=h[0],M=A.root,_=A.path;T(_)||(w=_+".");for(var D=0,P=i.length;P>D;D++)g.registerObserver(M,w+i[D],L,L.rerender)}}p||(p=t("ember-handlebars/views/handlebars_bound_view").SimpleHandlebarsView);var i=N.call(arguments,1);return r._rawFunction=n,r}function l(e,t,r,i){var s,o,u,a,f,l=[],c=i.hash,h=c.boundOptions,p=N.call(i.types,1);for(f in h)h.hasOwnProperty(f)&&(c[f]=n(e,h[f],i));for(s=0,o=r.length;o>s;++s)u=r[s],a=p[s],"ID"===a?l.push(n(u.root,u.path,i)):l.push(u.path);return l.push(i),t.apply(e,l)}function c(e){var t=C(e);return t.isTop=!0,t}var h,p,d=arguments,v=d[d.length-1],m=d[0]["default"],g=d[1].fmt,y=d[2]["default"],b=y.helpers,w=d[3].get,E=d[4].isGlobalPath,S=d[5]["default"],x=d[6].IS_BINDING,T=d[7]["default"],N=[].slice,C=y.template;v.normalizePath=e,v.template=c,v.makeBoundHelper=f,v.registerBoundHelper=a,v.resolveHash=s,v.resolveParams=i,v.handlebarsGet=n,v.getEscaped=r,v.evaluateUnboundHelper=l,v.helperMissingHelper=o,v.blockHelperMissingHelper=u}),e("ember-handlebars/helpers/binding",["ember-metal/core","ember-handlebars-compiler","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-metal/utils","ember-metal/platform","ember-metal/is_none","ember-metal/enumerable_utils","ember-metal/array","ember-views/views/view","ember-metal/run_loop","ember-handlebars/views/handlebars_bound_view","ember-metal/observer","ember-metal/binding","ember-views/system/jquery","ember-handlebars/ext","ember-runtime/keys","exports"],function(){function e(e){return!T(e)}function t(e,t,n,r,i,s){var o,u,a,f=t.data,l=t.fn,c=t.inverse,h=f.view,p=this||window;if(o=j(p,e,f),"object"==typeof this){if(f.insideGroup){u=function(){k.once(h,"rerender")};var d,v,m=F(p,e,t);m=i?i(m):m,v=n?p:m,r(m)?d=l:c&&(d=c),d(v,{data:t.data})}else{var g=L,y={preserveContext:n,shouldDisplayFunc:r,valueNormalizerFunc:i,displayTemplate:l,inverseTemplate:c,path:e,pathRoot:p,previousContext:p,isEscaped:!t.hash.unescaped,templateData:t.data,templateHash:t.hash,helperName:t.helperName};t.isWithHelper&&(g=R);var b=h.createChildView(g,y);h.appendChild(b),u=function(){k.scheduleOnce("render",b,"rerenderIfNeeded")}}if(""!==o.path&&(h.registerObserver(o.root,o.path,u),s))for(a=0;a<s.length;a++)h.registerObserver(o.root,o.path+"."+s[a],u)}else f.buffer.push(I(p,e,t))}function n(e,t,n){var r,i,s,o,u=n.data,a=u.view;if(r=j(e,t,u),s=r.root,s&&"object"==typeof s){if(u.insideGroup)i=function(){k.once(a,"rerender")},o=I(e,t,n),u.buffer.push(o);else{var f=new A(t,e,!n.hash.unescaped,n.data);f._parentView=a,a.appendChild(f),i=function(){k.scheduleOnce("render",f,"rerender")}}""!==r.path&&a.registerObserver(r.root,r.path,i)}else o=I(e,t,n),u.buffer.push(o)}function r(e){var t=e&&E(e,"isTruthy");return"boolean"==typeof t?t:B(e)?0!==E(e,"length"):!!e}function i(e,t){var n=y.resolveHelper(t.data.view.container,e);return n?n.call(this,t):b.bind.call(this,e,t)}function s(e,t){if(b[t])return b[t];if(e&&-1!==t.indexOf("-")){var n=e.lookup("helper:"+t);if(!n){var r=e.lookup("component-lookup:main"),i=r.lookupFactory(t,e);i&&(n=y.makeViewHelper(i),e.register("helper:"+t,n))}return n}}function o(r,i){var s=i.contexts&&i.contexts.length?i.contexts[0]:this;return i.fn?(i.helperName="bind",t.call(s,r,i,!1,e)):n(s,r,i)}function u(e,n){var i=n.contexts&&n.contexts.length?n.contexts[0]:this;return n.helperName=n.helperName||"boundIf",t.call(i,e,n,!0,r,r,["isTruthy","length"])}function a(e,t){var n,i,s=t.contexts&&t.contexts.length?t.contexts[0]:this,o=t.data,u=t.fn,a=t.inverse;n=j(s,e,o),i=F(s,e,t),r(i)||(u=a),u(s,{data:o})}function f(n,r){var i,s,o="with";if(4===arguments.length){var u,a,f,l,c;r=arguments[3],u=arguments[2],a=arguments[0],a&&(o+=" "+a+" as "+u);var h=x(r);if(h.data=x(r.data),h.data.keywords=x(r.data.keywords||{}),M(a))c=a;else{l=j(this,a,r.data),a=l.path,f=l.root;var p=H.expando+D(f);h.data.keywords[p]=f,c=a?p+"."+a:p}h.hash.keywordName=u,h.hash.keywordPath=c,i=this,n=a,r=h,s=!0}else o+=" "+n,i=r.contexts[0],s=!1;return r.helperName=o,r.isWithHelper=!0,t.call(i,n,r,s,e)}function l(e,t){return t.helperName=t.helperName||"if "+e,t.data.isUnbound?b.unboundIf.call(t.contexts[0],e,t):b.boundIf.call(t.contexts[0],e,t)}function c(e,t){var n=t.fn,r=t.inverse,i="unless";return e&&(i+=" "+e),t.fn=r,t.inverse=n,t.helperName=t.helperName||i,t.data.isUnbound?b.unboundIf.call(t.contexts[0],e,t):b.boundIf.call(t.contexts[0],e,t)}function h(e){var t=e.hash,n=e.data.view,r=[],i=this||window,s=++g.uuid,o=t["class"];if(null!=o){var u=d(i,o,n,s,e);r.push('class="'+Handlebars.Utils.escapeExpression(u.join(" "))+'"'),delete t["class"]}var a=q(t);return N.call(a,function(o){var u,a=t[o];u=j(i,a,e.data);var f,l,c="this"===a?u.root:F(i,a,e),h=P(c);f=function(){var t=F(i,a,e),r=n.$("[data-bindattr-"+s+"='"+s+"']");return r&&0!==r.length?(C.applyAttributeBindings(r,o,t),void 0):(O(u.root,u.path,l),void 0)},"this"===a||u.isKeyword&&""===u.path||n.registerObserver(u.root,u.path,f),"string"===h||"number"===h&&!isNaN(c)?r.push(o+'="'+Handlebars.Utils.escapeExpression(c)+'"'):c&&"boolean"===h&&r.push(o+'="'+o+'"')},this),r.push("data-bindattr-"+s+'="'+s+'"'),new w(r.join(" "))}function p(){return b["bind-attr"].apply(this,arguments)}function d(e,t,n,r,i){var s,o,u,a=[],f=function(e,t,n){var r,i=t.path;return r="this"===i?e:""===i?!0:F(e,i,n),C._classStringForValue(i,r,t.className,t.falsyClassName)};return N.call(t.split(" "),function(t){var l,c,h,p,d=C._parsePropertyPath(t),v=d.path,m=e;""!==v&&"this"!==v&&(p=j(e,v,i.data),m=p.root,v=p.path),c=function(){s=f(e,d,i),u=r?n.$("[data-bindattr-"+r+"='"+r+"']"):n.$(),u&&0!==u.length?(l&&u.removeClass(l),s?(u.addClass(s),l=s):l=null):O(m,v,h)},""!==v&&"this"!==v&&n.registerObserver(m,v,c),o=f(e,d,i),o&&(a.push(o),l=o)}),a}var v=arguments,m=v[v.length-1],g=v[0]["default"],y=v[1]["default"],b=y.helpers,w=y.SafeString,E=v[2].get,S=(v[3].set,v[4].fmt,v[5].apply),x=v[6].create,T=v[7]["default"],N=(v[8]["default"],v[9].forEach),C=v[10].View,k=v[11]["default"],L=v[12]._HandlebarsBoundView,A=v[12].SimpleHandlebarsView,O=v[13].removeObserver,M=v[14].isGlobalPath,_=v[14].bind,D=v[5].guidFor,P=v[5].typeOf,H=v[15]["default"],B=v[5].isArray,j=v[16].normalizePath,F=v[16].handlebarsGet,I=(v[16].getEscaped,v[16].getEscaped),q=v[17]["default"],R=L.extend({init:function(){var e;S(this,this._super,arguments);var t=this.templateData.keywords,n=this.templateHash.keywordName,r=this.templateHash.keywordPath,i=this.templateHash.controller,s=this.preserveContext;if(i){var o=this.previousContext;if(e=this.container.lookupFactory("controller:"+i).create({parentController:o,target:o}),this._generatedController=e,s){var u=H.expando+D(e);t[u]=e,_(t,u+".model",r),r=u}else this.set("controller",e),this.valueNormalizerFunc=function(t){return e.set("model",t),e}}s&&_(t,n,r)},willDestroy:function(){this._super(),this._generatedController&&this._generatedController.destroy()}});m.bind=t,m._triageMustacheHelper=i,m.resolveHelper=s,m.bindHelper=o,m.boundIfHelper=u,m.unboundIfHelper=a,m.withHelper=f,m.ifHelper=l,m.unlessHelper=c,m.bindAttrHelper=h,m.bindAttrHelperDeprecated=p,m.bindClasses=d}),e("ember-handlebars/helpers/collection",["ember-metal/core","ember-metal/utils","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-handlebars/ext","ember-handlebars/helpers/view","ember-metal/computed","ember-views/views/collection_view","exports"],function(){function e(e,t){e&&e.data&&e.data.isRenderData&&(t=e,e=void 0);var n,a,h,p=t.fn,d=t.data,v=t.inverse;t.data.view,e?(n=d.keywords.controller,a=n&&n.container,h=o(this,e,t)||a.lookupFactory("view:"+e)):h=f;var m,g,y=t.hash,b={},w=h.proto();y.itemView?(n=d.keywords.controller,a=n.container,g=a.lookupFactory("view:"+y.itemView)):g=y.itemViewClass?o(w,y.itemViewClass,t):w.itemViewClass,delete y.itemViewClass,delete y.itemView;for(var E in y)y.hasOwnProperty(E)&&(m=E.match(/^item(.)(.*)$/),m&&"itemController"!==E&&(b[m[1].toLowerCase()+m[2]]=y[E],delete y[E]));p&&(b.template=p,delete t.fn);var S;v&&v!==r.VM.noop?(S=s(w,"emptyViewClass"),S=S.extend({template:v,tagName:b.tagName})):y.emptyViewClass&&(S=o(this,y.emptyViewClass,t)),S&&(y.emptyView=S),b._context=y.keyword?this:l("content");var x=u.propertiesFromHTMLOptions({data:d,hash:b},this);return y.itemViewClass=g.extend(x),t.helperName=t.helperName||"collection",i.view.call(this,h,t)}var t=arguments,n=t[t.length-1],r=(t[0]["default"],t[1].inspect,t[2]["default"]),i=r.helpers,s=(t[3].fmt,t[4].get),o=t[5].handlebarsGet,u=t[6].ViewHelper,a=t[7].computed,f=t[8]["default"],l=a.alias;n["default"]=e}),e("ember-handlebars/helpers/debug",["ember-metal/core","ember-metal/utils","ember-metal/logger","ember-metal/property_get","ember-handlebars/ext","exports"],function(){function e(){for(var e=a.call(arguments,0,-1),t=arguments[arguments.length-1],n=s.log,r=[],i=!0,f=0;f<e.length;f++){var c=t.types[f];if("ID"!==c&&i)r.push(e[f]);else{var h=t.contexts&&t.contexts[f]||this,p=o(h,e[f],t.data);"this"===p.path?r.push(p.root):r.push(u(p.root,p.path,t))}}n.apply(n,r)}function t(){var e=this;i(e)}var n=arguments,r=n[n.length-1],i=(n[0]["default"],n[1].inspect),s=n[2]["default"],o=(n[3].get,n[4].normalizePath),u=n[4].handlebarsGet,a=[].slice;r.logHelper=e,r.debuggerHelper=t}),e("ember-handlebars/helpers/each",["ember-metal/core","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-metal/property_set","ember-handlebars/views/metamorph_view","ember-views/views/collection_view","ember-metal/binding","ember-runtime/controllers/controller","ember-runtime/controllers/array_controller","ember-runtime/mixins/array","ember-runtime/copy","ember-metal/run_loop","ember-metal/observer","ember-metal/events","ember-handlebars/ext","ember-metal/computed","exports"],function(){function e(e,t){var n,r="each";if(4===arguments.length){var i=arguments[0];t=arguments[3],e=arguments[2],r+=" "+i+" in "+e,""===e&&(e="this"),t.hash.keyword=i}else 1===arguments.length?(t=e,e="this"):r+=" "+e;return t.hash.dataSourceBinding=e,n=this||window,t.helperName=t.helperName||r,!t.data.insideGroup||t.hash.groupedRows||t.hash.itemViewClass?o.collection.call(n,"Ember.Handlebars.EachView",t):((new E(n,e,t)).render(),void 0)}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=r.K,s=t[1]["default"],o=s.helpers,u=(t[2].fmt,t[3].get),a=t[4].set,f=t[5]._Metamorph,l=t[5]._MetamorphView,c=t[6]["default"],h=t[7].Binding,p=(t[8].ControllerMixin,t[9]["default"],t[10]["default"],t[11]["default"]),d=t[12]["default"],v=t[13].addObserver,m=t[13].removeObserver,g=t[13].addBeforeObserver,y=t[13].removeBeforeObserver,b=(t[14].on,t[15].handlebarsGet),b=(t[16].computed,t[15].handlebarsGet),w=c.extend(f,{init:function(){var e,t=u(this,"itemController");if(t){var n=u(this,"controller.container").lookupFactory("controller:array").create({_isVirtual:!0,parentController:u(this,"controller"),itemController:t,target:u(this,"controller"),_eachView:this});this.disableContentObservers(function(){a(this,"content",n),e=(new h("content","_eachView.dataSource")).oneWay(),e.connect(n)}),a(this,"_arrayController",n)}else this.disableContentObservers(function(){e=(new h("content","dataSource")).oneWay(),e.connect(this)});return this._super()},_assertArrayLike:function(){},disableContentObservers:function(e){y(this,"content",null,"_contentWillChange"),m(this,"content",null,"_contentDidChange"),e.call(this),g(this,"content",null,"_contentWillChange"),v(this,"content",null,"_contentDidChange")},itemViewClass:l,emptyViewClass:l,createChildView:function(e,t){e=this._super(e,t);var n=u(this,"keyword"),r=u(e,"content");if(n){var i=u(e,"templateData");i=p(i),i.keywords=e.cloneKeywords(),a(e,"templateData",i),i.keywords[n]=r}return r&&r.isController&&a(e,"controller",r),e},destroy:function(){if(this._super()){var e=u(this,"_arrayController");return e&&e.destroy(),this}}}),E=s.GroupedEach=function(e,t,n){var r=this,i=s.normalizePath(e,t,n.data);this.context=e,this.path=t,this.options=n,this.template=n.fn,this.containingView=n.data.view,this.normalizedRoot=i.root,this.normalizedPath=i.path,this.content=this.lookupContent(),this.addContentObservers(),this.addArrayObservers(),this.containingView.on("willClearRender",function(){r.destroy()})};E.prototype={contentWillChange:function(){this.removeArrayObservers()},contentDidChange:function(){this.content=this.lookupContent(),this.addArrayObservers(),this.rerenderContainingView()},contentArrayWillChange:i,contentArrayDidChange:function(){this.rerenderContainingView()},lookupContent:function(){return b(this.normalizedRoot,this.normalizedPath,this.options)},addArrayObservers:function(){this.content&&this.content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},removeArrayObservers:function(){this.content&&this.content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},addContentObservers:function(){g(this.normalizedRoot,this.normalizedPath,this,this.contentWillChange),v(this.normalizedRoot,this.normalizedPath,this,this.contentDidChange)},removeContentObservers:function(){y(this.normalizedRoot,this.normalizedPath,this.contentWillChange),m(this.normalizedRoot,this.normalizedPath,this.contentDidChange)},render:function(){if(this.content){var e=this.content,t=u(e,"length"),n=this.options.data,r=this.template;n.insideEach=!0;for(var i=0;t>i;i++)r(e.objectAt(i),{data:n})}},rerenderContainingView:function(){var e=this;d.scheduleOnce("render",this,function(){e.destroyed||e.containingView.rerender()})},destroy:function(){this.removeContentObservers(),this.content&&this.removeArrayObservers(),this.destroyed=!0}},n.EachView=w,n.GroupedEach=E,n.eachHelper=e}),e("ember-handlebars/helpers/loc",["ember-runtime/system/string","exports"],function(){function e(e){return r(e)}var t=arguments,n=t[t.length-1],r=t[0].loc;n["default"]=e}),e("ember-handlebars/helpers/partial",["ember-metal/core","ember-metal/is_none","ember-handlebars/ext","ember-handlebars/helpers/binding","exports"],function(){function e(e,r){var i=r.contexts&&r.contexts.length?r.contexts[0]:this;return r.helperName=r.helperName||"partial","ID"===r.types[0]?(r.fn=function(t,r){var i=o(t,e,r);n(t,i,r)},u.call(i,e,r,!0,t)):(n(i,e,r),void 0)}function t(e){return!s(e)}function n(e,t,n){var r=t.split("/"),i=r[r.length-1];r[r.length-1]="_"+i;var s=n.data.view,o=r.join("/"),u=s.templateForName(o),a=!u&&s.templateForName(t);(u=u||a)(e,{data:n.data})}var r=arguments,i=r[r.length-1],s=(r[0]["default"],r[1].isNone),o=r[2].handlebarsGet,u=r[3].bind;i["default"]=e}),e("ember-handlebars/helpers/shared",["ember-handlebars/ext","exports"],function(){function e(e){for(var t=[],n=e.contexts,i=e.roots,s=e.data,o=0,u=n.length;u>o;o++)t.push(r(i[o],n[o],{data:s}));return t}var t=arguments,n=t[t.length-1],r=t[0].handlebarsGet;n["default"]=e}),e("ember-handlebars/helpers/template",["ember-metal/core","ember-handlebars-compiler","exports"],function(){function e(e,t){return t.helperName=t.helperName||"template",i.partial.apply(this,arguments)}var t=arguments,n=t[t.length-1],r=(t[0]["default"],t[1]["default"]),i=r.helpers;n["default"]=e}),e("ember-handlebars/helpers/unbound",["ember-handlebars-compiler","ember-handlebars/helpers/binding","ember-handlebars/ext","exports"],function(){function e(e,t){var n,r,f,l,c=arguments[arguments.length-1],h=c.data.view.container;return l=this,arguments.length>2?(c.data.isUnbound=!0,n=s(h,e)||i.helperMissing,f=n.apply(l,u.call(arguments,1)),delete c.data.isUnbound,f):(r=t.contexts&&t.contexts.length?t.contexts[0]:l,o(r,e,t))}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=r.helpers,s=t[1].resolveHelper,o=t[2].handlebarsGet,u=[].slice;n["default"]=e}),e("ember-handlebars/helpers/view",["ember-metal/core","ember-runtime/system/object","ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-views/system/jquery","ember-views/views/view","ember-metal/binding","ember-handlebars/ext","ember-runtime/system/string","exports"],function(){function e(e,t){var n=t.hash,r=t.hashTypes;for(var i in n)if("ID"===r[i]){var o=n[i];s.test(i)||(n[i+"Binding"]=o,r[i+"Binding"]="STRING",delete n[i],delete r[i])}n.hasOwnProperty("idBinding")&&(n.id=l(e,n.idBinding,t),r.id="STRING",delete n.idBinding,delete r.idBinding)}function t(e,t){return e&&e.data&&e.data.isRenderData&&(t=e,e="Ember.View"),t.helperName=t.helperName||"view",p.helper(this,e,t)}var n=arguments,r=n[n.length-1],i=(n[0]["default"],n[1]["default"]),s=(n[2].get,n[3].set,n[4].IS_BINDING),o=n[5]["default"],u=n[6].View,a=n[7].isGlobalPath,f=n[8].normalizePath,l=n[8].handlebarsGet,c=(n[9]["default"],/^[a-z]/),h=/^view\./,p=i.create({propertiesFromHTMLOptions:function(e){var t=e.hash,n=e.data,r={},i=t["class"],a=!1;t.id&&(r.elementId=t.id,a=!0),t.tag&&(r.tagName=t.tag,a=!0),i&&(i=i.split(" "),r.classNames=i,a=!0),t.classBinding&&(r.classNameBindings=t.classBinding.split(" "),a=!0),t.classNameBindings&&(void 0===r.classNameBindings&&(r.classNameBindings=[]),r.classNameBindings=r.classNameBindings.concat(t.classNameBindings.split(" ")),a=!0),t.attributeBindings&&(r.attributeBindings=null,a=!0),a&&(t=o.extend({},t),delete t.id,delete t.tag,delete t["class"],delete t.classBinding);var f;for(var l in t)t.hasOwnProperty(l)&&s.test(l)&&"string"==typeof t[l]&&(f=this.contextualizeBindingPath(t[l],n),f&&(t[l]=f));if(r.classNameBindings)for(var c in r.classNameBindings){var h=r.classNameBindings[c];if("string"==typeof h){var p=u._parsePropertyPath(h);f=this.contextualizeBindingPath(p.path,n),f&&(r.classNameBindings[c]=f+p.classNames)}}return o.extend(t,r)},contextualizeBindingPath:function(e,t){var n=f(null,e,t);return n.isKeyword?"templateData.keywords."+e:a(e)?null:"this"===e||""===e?"_parentView.context":"_parentView.context."+e},helper:function(t,n,r){var i,s=r.data,o=r.fn;e(t,r),i="string"==typeof n?"STRING"===r.types[0]&&c.test(n)&&!h.test(n)?s.view.container.lookupFactory("view:"+n):l(t,n,r):n;var u=this.propertiesFromHTMLOptions(r,t),a=s.view;u.templateData=s;var f=i.proto?i.proto():i;o&&(u.template=o),f.controller||f.controllerBinding||u.controller||u.controllerBinding||(u._context=t),r.helperName&&(u.helperName=r.helperName),a.appendChild(i,u)}});r.ViewHelper=p,r.viewHelper=t}),e("ember-handlebars/helpers/yield",["ember-metal/core","ember-metal/property_get","exports"],function(){function e(e){for(var t=e.data.view;t&&!r(t,"layout");)t=t._contextView?t._contextView:r(t,"_parentView");t._yield(this,e)}var t=arguments,n=t[t.length-1],r=(t[0]["default"],t[1].get);n["default"]=e}),e("ember-handlebars/loader",["ember-handlebars/component_lookup","ember-views/system/jquery","ember-metal/error","ember-runtime/system/lazy_load","ember-handlebars-compiler","exports"],function(){function e(e){var t='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';u(t,e).each(function(){var e=u(this),t="text/x-raw-handlebars"===e.attr("type")?u.proxy(Handlebars.compile,Handlebars):u.proxy(l.compile,l),n=e.attr("data-template-name")||e.attr("id")||"application",r=t(e.html());if(void 0!==i.TEMPLATES[n])throw new a('Template named "'+n+'" already exists.');i.TEMPLATES[n]=r,e.remove()})}function t(){e(u(document))}function n(e){e.register("component-lookup:main",o)}var r=arguments,s=r[r.length-1],o=r[0]["default"],u=r[1]["default"],a=r[2]["default"],f=r[3].onLoad,l=r[4]["default"];f("Ember.Application",function(e){e.initializer({name:"domTemplates",initialize:t}),e.initializer({name:"registerComponentLookup",after:"domTemplates",initialize:n})}),s["default"]=e}),e("ember-handlebars",["ember-handlebars-compiler","ember-metal/core","ember-runtime/system/lazy_load","ember-handlebars/loader","ember-handlebars/ext","ember-handlebars/string","ember-handlebars/helpers/shared","ember-handlebars/helpers/binding","ember-handlebars/helpers/collection","ember-handlebars/helpers/view","ember-handlebars/helpers/unbound","ember-handlebars/helpers/debug","ember-handlebars/helpers/each","ember-handlebars/helpers/template","ember-handlebars/helpers/partial","ember-handlebars/helpers/yield","ember-handlebars/helpers/loc","ember-handlebars/controls/checkbox","ember-handlebars/controls/select","ember-handlebars/controls/text_area","ember-handlebars/controls/text_field","ember-handlebars/controls/text_support","ember-handlebars/controls","ember-handlebars/component_lookup","ember-handlebars/views/handlebars_bound_view","ember-handlebars/views/metamorph_view","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=e[2].runLoadHooks,s=e[3]["default"],o=e[4].normalizePath,u=e[4].template,a=e[4].makeBoundHelper,f=e[4].registerBoundHelper,l=e[4].resolveHash,c=e[4].resolveParams,h=e[4].getEscaped,p=e[4].handlebarsGet,d=e[4].evaluateUnboundHelper,v=e[4].helperMissingHelper,m=e[4].blockHelperMissingHelper,g=e[6]["default"],y=e[7].bind,b=e[7]._triageMustacheHelper,w=e[7].resolveHelper,E=e[7].bindHelper,S=e[7].boundIfHelper,x=e[7].unboundIfHelper,T=e[7].withHelper,N=e[7].ifHelper,C=e[7].unlessHelper,k=e[7].bindAttrHelper,L=e[7].bindAttrHelperDeprecated,A=e[7].bindClasses,O=e[8]["default"],M=e[9].ViewHelper,_=e[9].viewHelper,D=e[10]["default"],P=e[11].logHelper,H=e[11].debuggerHelper,B=e[12].EachView,j=e[12].GroupedEach,F=e[12].eachHelper,I=e[13]["default"],q=e[14]["default"],R=e[15]["default"],U=e[16]["default"],z=e[17]["default"],W=e[18].Select,X=e[18].SelectOption,V=e[18].SelectOptgroup,$=e[19]["default"],J=e[20]["default"],K=e[21]["default"],K=e[21]["default"],Q=e[22].inputHelper,G=e[22].textareaHelper,Y=e[23]["default"],Z=e[24]._HandlebarsBoundView,et=e[24].SimpleHandlebarsView,tt=e[25]._SimpleMetamorphView,nt=e[25]._MetamorphView,rt=e[25]._Metamorph;n.bootstrap=s,n.template=u,n.makeBoundHelper=a,n.registerBoundHelper=f,n.resolveHash=l,n.resolveParams=c,n.resolveHelper=w,n.get=p,n.getEscaped=h,n.evaluateUnboundHelper=d,n.bind=y,n.bindClasses=A,n.EachView=B,n.GroupedEach=j,n.resolvePaths=g,n.ViewHelper=M,n.normalizePath=o,r.Handlebars=n,r.ComponentLookup=Y,r._SimpleHandlebarsView=et,r._HandlebarsBoundView=Z,r._SimpleMetamorphView=tt,r._MetamorphView=nt,r._Metamorph=rt,r.TextSupport=K,r.Checkbox=z,r.Select=W,r.SelectOption=X,r.SelectOptgroup=V,r.TextArea=$,r.TextField=J,r.TextSupport=K,n.registerHelper("helperMissing",v),n.registerHelper("blockHelperMissing",m),n.registerHelper("bind",E),n.registerHelper("boundIf",S),n.registerHelper("_triageMustache",b),n.registerHelper("unboundIf",x),n.registerHelper("with",T),n.registerHelper("if",N),n.registerHelper("unless",C),n.registerHelper("bind-attr",k),n.registerHelper("bindAttr",L),n.registerHelper("collection",O),n.registerHelper("log",P),n.registerHelper("debugger",H),n.registerHelper("each",F),n.registerHelper("loc",U),n.registerHelper("partial",q),n.registerHelper("template",I),n.registerHelper("yield",R),n.registerHelper("view",_),n.registerHelper("unbound",D),n.registerHelper("input",Q),n.registerHelper("textarea",G),i("Ember.Handlebars",n),t["default"]=n}),e("ember-handlebars/string",["ember-runtime/system/string","exports"],function(){function e(e){return new Handlebars.SafeString(e)}var t=arguments,n=t[t.length-1],r=t[0]["default"];r.htmlSafe=e,(i.EXTEND_PROTOTYPES===!0||i.EXTEND_PROTOTYPES.String)&&(String.prototype.htmlSafe=function(){return e(this)}),n["default"]=e}),e("ember-handlebars/views/handlebars_bound_view",["ember-handlebars-compiler","ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-views/views/view","ember-views/views/states","ember-handlebars/views/metamorph_view","ember-handlebars/ext","exports"],function(){function e(e,t,n,r){this.path=e,this.pathRoot=t,this.isEscaped=n,this.templateData=r,this.morph=a(),this.state="preRender",this.updateId=null,this._parentView=null,this.buffer=null}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=i.SafeString,o=n[1]["default"],u=o.K,a=t("metamorph"),f=n[2]["default"],l=n[3].get,c=n[4].set,h=n[5]["default"],p=n[6]["default"],d=(n[7].computed,n[8].View,n[9].cloneStates),v=n[9].states,m=v,g=n[10]._MetamorphView,y=n[11].handlebarsGet;e.prototype={isVirtual:!0,isView:!0,destroy:function(){this.updateId&&(p.cancel(this.updateId),this.updateId=null),this._parentView&&this._parentView.removeChild(this),this.morph=null,this.state="destroyed"},propertyWillChange:u,propertyDidChange:u,normalizedValue:function(){var e,t,n=this.path,r=this.pathRoot;return""===n?e=r:(t=this.templateData,e=y(r,n,{data:t})),e},renderToBuffer:function(e){var t="";t+=this.morph.startTag(),t+=this.render(),t+=this.morph.endTag(),e.push(t)},render:function(){var e=this.isEscaped,t=this.normalizedValue();return null===t||void 0===t?t="":t instanceof s||(t=String(t)),e&&(t=Handlebars.Utils.escapeExpression(t)),t},rerender:function(){switch(this.state){case"preRender":case"destroyed":break;case"inBuffer":throw new f("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=p.scheduleOnce("render",this,"update")}return this},update:function(){this.updateId=null,this.morph.html(this.render())},transitionTo:function(e){this.state=e}};var v=d(m);h(v._default,{rerenderIfNeeded:u}),h(v.inDOM,{rerenderIfNeeded:function(e){e.normalizedValue()!==e._lastNormalizedValue&&e.rerender()}});var b=g.extend({states:v,instrumentName:"boundHandlebars",shouldDisplayFunc:null,preserveContext:!1,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,normalizedValue:function(){var e,t,n=l(this,"path"),r=l(this,"pathRoot"),i=l(this,"valueNormalizerFunc");return""===n?e=r:(t=l(this,"templateData"),e=y(r,n,{data:t})),i?i(e):e},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)},render:function(e){var t=l(this,"isEscaped"),n=l(this,"shouldDisplayFunc"),r=l(this,"preserveContext"),i=l(this,"previousContext"),o=l(this,"inverseTemplate"),u=l(this,"displayTemplate"),a=this.normalizedValue();if(this._lastNormalizedValue=a,n(a))if(c(this,"template",u),r)c(this,"_context",i);else{if(!u)return null===a||void 0===a?a="":a instanceof s||(a=String(a)),t&&(a=Handlebars.Utils.escapeExpression(a)),e.push(a),void 0;c(this,"_context",a)}else o?(c(this,"template",o),r?c(this,"_context",i):c(this,"_context",a)):c(this,"template",function(){return""});return this._super(e)}});r._HandlebarsBoundView=b,r.SimpleHandlebarsView=e}),e("ember-handlebars/views/metamorph_view",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-metal/mixin","ember-metal/run_loop","exports"],function(){function e(){u.once(s,"notifyMutationListeners")}var n=arguments,r=n[n.length-1],i=(n[0]["default"],n[1].get,n[2]["default"],n[3].CoreView),s=n[3].View,o=n[4].Mixin,u=n[5]["default"],a=t("metamorph"),f={remove:function(t){t.morph.remove(),e()},prepend:function(t,n){t.morph.prepend(n),e()},after:function(t,n){t.morph.after(n),e()},html:function(t,n){t.morph.html(n),e()},replace:function(t){var n=t.morph;t.transitionTo("preRender"),u.schedule("render",this,function(){if(!t.isDestroying){t.clearRenderedChildren();var r=t.renderToBuffer();t.invokeRecursively(function(e){e.propertyWillChange("element")}),t.triggerRecursively("willInsertElement"),n.replaceWith(r.string()),t.transitionTo("inDOM"),t.invokeRecursively(function(e){e.propertyDidChange("element")}),t.triggerRecursively("didInsertElement"),e()}})},empty:function(t){t.morph.html(""),e()}},l=o.create({isVirtual:!0,tagName:"",instrumentName:"metamorph",init:function(){this._super(),this.morph=a()},beforeRender:function(e){e.push(this.morph.startTag()),e.pushOpeningTag()},afterRender:function(e){e.pushClosingTag(),e.push(this.morph.endTag())},createElement:function(){var e=this.renderToBuffer();this.outerHTML=e.string(),this.clearBuffer()},domManager:f}),c=s.extend(l),h=i.extend(l);r._SimpleMetamorphView=h,r._MetamorphView=c,r._Metamorph=l})}(),function(){e("ember-routing/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-runtime/controllers/controller","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get),r=(e[2].set,e[3]["default"]),i=(r.map,e[4].ControllerMixin);i.reopen({transitionToRoute:function(){var e=n(this,"target"),t=e.transitionToRoute||e.transitionTo;return t.apply(e,arguments)},transitionTo:function(){return this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var e=n(this,"target"),t=e.replaceRoute||e.replaceWith;return t.apply(e,arguments)},replaceWith:function(){return this.replaceRoute.apply(this,arguments)}}),t["default"]=i}),e("ember-routing/ext/run_loop",["ember-metal/run_loop"],function(){var e=arguments,t=(e[e.length-1],e[0]["default"]);t.queues,t._addQueue("routerTransitions","actions")}),e("ember-routing/ext/view",["ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-views/views/view","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].get,r=e[1].set,i=e[2]["default"],s=e[3].View;s.reopen({init:function(){r(this,"_outlets",{}),this._super()},connectOutlet:function(e,t){if(this._pendingDisconnections&&delete this._pendingDisconnections[e],this._hasEquivalentView(e,t))return t.destroy(),void 0;var i=n(this,"_outlets"),s=n(this,"container"),o=s&&s.lookup("router:main"),u=n(t,"renderedName");r(i,e,t),o&&u&&o._connectActiveView(u,t)},_hasEquivalentView:function(e,t){var r=n(this,"_outlets."+e);return r&&r.constructor===t.constructor&&r.get("template")===t.get("template")&&r.get("context")===t.get("context")},disconnectOutlet:function(e){this._pendingDisconnections||(this._pendingDisconnections={}),this._pendingDisconnections[e]=!0,i.once(this,"_finishDisconnections")},_finishDisconnections:function(){if(!this.isDestroyed){var e=n(this,"_outlets"),t=this._pendingDisconnections;this._pendingDisconnections=null;for(var i in t)r(e,i,null)}}}),t["default"]=s}),e("ember-routing/helpers/action",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/run_loop","ember-views/system/utils","ember-handlebars","ember-routing/system/router","ember-handlebars/ext","ember-handlebars/helpers/view","ember-routing/helpers/shared","exports"],function(){function e(e,t){var n=[];t&&n.push(t);var r=e.options.types.slice(1),i=e.options.data;return n.concat(l(e.context,e.params,{types:r,data:i}))}function t(e){var t=arguments[arguments.length-1],n=h.call(arguments,1,-1),r=t.hash,i=t.data.keywords.controller,s={eventName:r.on||"click",parameters:{context:this,options:t,params:n},view:t.data.view,bubbles:r.bubbles,preventDefault:r.preventDefault,target:{options:t},boundProperty:"ID"===t.types[0]};r.target?(s.target.root=this,s.target.target=r.target):i&&(s.target.root=i);var o=p.registerAction(e,s,r.allowedKeys);return new c('data-ember-action="'+o+'"')}var n=arguments,r=n[n.length-1],i=n[0]["default"],s=(n[1].get,n[2].forEach),o=n[3]["default"],u=n[4].isSimpleClick,a=n[5]["default"],a=(n[6]["default"],n[5]["default"]),f=n[7].handlebarsGet,l=(n[8].viewHelper,n[9].resolveParams),c=(n[9].resolvePath,a.SafeString),h=Array.prototype.slice,p={registeredActions:{}},d=["alt","shift","meta","ctrl"],v=/^click|mouse|touch/,m=function(e,t){if("undefined"==typeof t){if(v.test(e.type))return u(e);t=""}if(t.indexOf("any")>=0)return!0;var n=!0;return s.call(d,function(r){e[r+"Key"]&&-1===t.indexOf(r)&&(n=!1)}),n};p.registerAction=function(t,n,r){var s=++i.uuid;return p.registeredActions[s]={eventName:n.eventName,handler:function(i){if(!m(i,r))return!0;n.preventDefault!==!1&&i.preventDefault(),n.bubbles===!1&&i.stopPropagation();var s,u=n.target,a=n.parameters;u=u.target?f(u.root,u.target,u.options):u.root,n.boundProperty&&(s=l(a.context,[t],{types:["ID"],data:a.options.data})[0],("undefined"==typeof s||"function"==typeof s)&&(s=t)),s||(s=t),o(function(){u.send?u.send.apply(u,e(a,s)):u[s].apply(u,e(a))})}},n.view.on("willClearRender",function(){delete p.registeredActions[s]}),s},r.ActionHelper=p,r.actionHelper=t}),e("ember-routing/helpers/link_to",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-runtime/system/lazy_load","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/keys","ember-views/system/utils","ember-views/views/view","ember-handlebars","ember-handlebars/helpers/view","ember-routing/system/router","ember-routing/helpers/shared","exports"],function(){function e(e,t){var n=e.parameters,r=f(e,"queryParamsObject"),i={};r&&l(i,r.values);for(var s=f(e,"resolvedParams"),o=f(e,"router"),u=s[0],a=o._queryParamsFor(u),c=a.qps,h={},p=0,d=c.length;d>p;++p){var v,g=c[p],y=null;if(g.prop in i?(v=i[g.prop],y=r.types[g.prop],delete i[g.prop]):g.urlKey in i&&(v=i[g.urlKey],y=r.types[g.urlKey],delete i[g.urlKey]),y){if("ID"===y){var b=m.normalizePath(n.context,v,n.options.data);v=m.get(b.root,b.path,n.options)}v=g.route.serializeQueryParam(v,g.urlKey,g.type)}else v=g.svalue;t&&v===g.sdef||(h[g.urlKey]=v)}return h}function n(t){var n=t.get("routeArgs");return n[n.length-1].queryParams?(n=n.slice(),n[n.length-1]={queryParams:e(t,!0)},n):n}function r(e){var t=e.options.types,n=e.options.data;return b(e.context,e.params,{types:t,data:n})}function i(){var e=w.call(arguments,-1)[0],t=w.call(arguments,0,-1),n=e.hash;if(t[t.length-1]instanceof S&&(n.queryParamsObject=t.pop()),n.disabledBinding=n.disabledWhen,!e.fn){var r=t.shift(),i=e.types.shift(),s=this;"ID"===i?(e.linkTextPath=r,e.fn=function(){return m.getEscaped(s,r,e)}):e.fn=function(){return r}}return n.parameters={context:this,options:e,params:t},e.helperName=e.helperName||"link-to",g.call(this,x,e)}function s(){return i.apply(this,arguments)}var o=arguments,u=o[o.length-1],a=o[0]["default"],f=o[1].get,l=(o[2].set,o[3]["default"]),c=o[4]["default"],h=o[5].computed,p=(o[6].onLoad,o[7].fmt,o[8]["default"]),d=(o[9]["default"],o[10].isSimpleClick),v=o[11].View,m=o[12]["default"],g=o[13].viewHelper,y=(o[14]["default"],o[15].resolveParams),b=o[15].resolvePaths,w=[].slice;t("ember-handlebars");var E=function(e,t){for(var n=0,r=0,i=t.length;i>r&&(n+=t[r].names.length,t[r].handler!==e);r++);return n},S=p.extend({values:null}),x=a.LinkView=v.extend({tagName:"a",currentWhen:null,title:null,rel:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:!1,replace:!1,attributeBindings:["href","title","rel"],classNameBindings:["active","loading","disabled"],eventName:"click",init:function(){this._super.apply(this,arguments);var e=f(this,"eventName");this.on(e,this,this._invoke)},_paramsChanged:function(){this.notifyPropertyChange("resolvedParams")},_setupPathObservers:function(){var e,t,n,i=this.parameters,s=i.options.linkTextPath,o=r(i),u=o.length;for(s&&(n=m.normalizePath(i.context,s,i.options.data),this.registerObserver(n.root,n.path,this,this.rerender)),t=0;u>t;t++)e=o[t],null!==e&&(n=m.normalizePath(i.context,e,i.options.data),this.registerObserver(n.root,n.path,this,this._paramsChanged));var a=this.queryParamsObject;if(a){var f=a.values;for(var l in f)f.hasOwnProperty(l)&&"ID"===a.types[l]&&(n=m.normalizePath(i.context,f[l],i.options.data),this.registerObserver(n.root,n.path,this,this._paramsChanged))}},afterRender:function(){this._super.apply(this,arguments),this._setupPathObservers()},concreteView:h(function(){return f(this,"parentView")}).property("parentView"),disabled:h(function(e,t){return void 0!==t&&this.set("_isDisabled",t),t?f(this,"disabledClass"):!1}),active:h(function(){if(f(this,"loading"))return!1;var e=f(this,"router"),t=f(this,"routeArgs"),n=t.slice(1),r=(f(this,"resolvedParams"),this.currentWhen||t[0]),i=E(r,e.router.recognizer.handlersFor(r));n.length>i&&(r=t[0]);var s=e.isActive.apply(e,[r].concat(n));return s?f(this,"activeClass"):void 0}).property("resolvedParams","routeArgs"),loading:h(function(){return f(this,"routeArgs")?void 0:f(this,"loadingClass")}).property("routeArgs"),router:h(function(){return f(this,"controller").container.lookup("router:main")}),_invoke:function(e){if(!d(e))return!0;if(this.preventDefault!==!1&&e.preventDefault(),this.bubbles===!1&&e.stopPropagation(),f(this,"_isDisabled"))return!1;if(f(this,"loading"))return a.Logger.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid."),!1;var t,r=f(this,"router"),i=f(this,"routeArgs");t=f(this,"replace")?r.replaceWith.apply(r,i):r.transitionTo.apply(r,i);var s=r.router.generate.apply(r.router,n(this));c.scheduleOnce("routerTransitions",this,this._eagerUpdateUrl,t,s)},_eagerUpdateUrl:function(e,t){if(e.isActive&&e.urlMethod){0===t.indexOf("#")&&(t=t.slice(1));var n=f(this,"router.router");"update"===e.urlMethod?n.updateURL(t):"replace"===e.urlMethod&&n.replaceURL(t),e.method(null)}},resolvedParams:h(function(){var e=this.parameters,t=e.options,n=t.types,r=t.data;if(0===e.params.length){var i=this.container.lookup("controller:application");return[f(i,"currentRouteName")]}return y(e.context,e.params,{types:n,data:r})}).property("router.url"),routeArgs:h(function(){var e=f(this,"resolvedParams").slice(0),t=f(this,"router"),n=e[0];if(n){var r=t.router.recognizer.handlersFor(n),i=r[r.length-1].handler;n!==i&&(this.currentWhen||this.set("currentWhen",n),n=r[r.length-1].handler,e[0]=n);for(var s=1,o=e.length;o>s;++s){var u=e[s];if(null===u||"undefined"==typeof u)return}return e}}).property("resolvedParams","queryParams"),queryParamsObject:null,queryParams:h(function(){return e(this,!1)}).property("resolvedParams.[]"),href:h(function(){if("a"===f(this,"tagName")){var e=f(this,"router"),t=f(this,"routeArgs");return t?e.generate.apply(e,t):f(this,"loadingHref")}}).property("routeArgs"),loadingHref:"#"});x.toString=function(){return"LinkView"},u.LinkView=x,u.deprecatedLinkToHelper=s,u.linkToHelper=i}),e("ember-routing/helpers/outlet",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-views/views/container_view","ember-handlebars/views/metamorph_view","ember-handlebars/helpers/view","exports"],function(){function e(e,t){var n,r,i,u,f;for(e&&e.data&&e.data.isRenderData&&(t=e,e="main"),r=t.data.view.container,n=t.data.view;!n.get("template.isTop");)n=n.get("_parentView");return i=t.hash.view,i&&(f="view:"+i),u=i?r.lookupFactory(f):t.hash.viewClass||o,t.data.view.set("outletSource",n),t.hash.currentViewBinding="_view.outletSource._outlets."+e,t.helperName=t.helperName||"outlet",s.call(this,u,t)}var t=arguments,n=t[t.length-1],r=(t[0]["default"],t[1].get,t[2].set,t[3].onLoad,t[4]["default"]),i=t[5]._Metamorph,s=t[6].viewHelper,o=r.extend(i);n.outletHelper=e,n.OutletView=o}),e("ember-routing/helpers/render",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-routing/system/controller_for","ember-handlebars/ext","ember-handlebars/helpers/view","exports"],function(){function e(e,t,n){var f,c,h,p,d,v=arguments.length;if(f=(n||t).data.keywords.controller.container,c=f.lookup("router:main"),2===v)n=t,t=void 0;else{if(3!==v)throw r("You must pass a templateName to render");d=u(n.contexts[1],t,n)}e=e.replace(/\//g,"."),p=f.lookup("view:"+e)||f.lookup("view:default");var m=n.hash.controller||e,g="controller:"+m;n.hash.controller;var y=n.data.keywords.controller;if(v>2){var b=f.lookupFactory(g)||s(f,m,d);h=b.create({model:d,parentController:y,target:y}),p.one("willDestroyElement",function(){h.destroy()})}else h=f.lookup(g)||o(f,m),h.setProperties({target:y,parentController:y});var w=n.contexts[1];w&&p.registerObserver(w,t,function(){h.set("model",u(w,t,n))}),n.hash.viewName=i(e);var E="template:"+e;n.hash.template=f.lookup(E),n.hash.controller=h,c&&!d&&c._connectActiveView(e,p),n.helperName=n.helperName||'render "'+e+'"',a.call(this,p,n)}var t=arguments,n=t[t.length-1],r=(t[0]["default"],t[1]["default"]),i=(t[2].get,t[3].set,t[4].camelize),s=t[5].generateControllerFactory,o=t[5].generateController,u=t[6].handlebarsGet,a=t[7].viewHelper;n["default"]=e}),e("ember-routing/helpers/shared",["ember-metal/property_get","ember-metal/array","ember-runtime/system/lazy_load","ember-runtime/controllers/controller","ember-routing/system/router","ember-handlebars/ext","exports"],function(){function e(e,n,r){return s.call(t(e,n,r),function(t,i){return null===t?n[i]:a(e,t,r)})}function t(e,t,n){function r(e,t){return"controller"===t?t:o.detect(e)?r(i(e,"model"),t?t+".model":"model"):t}var a=u(e,t,n),f=n.types;return s.call(a,function(e,n){return"ID"===f[n]?r(e,t[n]):null})}var n=arguments,r=n[n.length-1],i=n[0].get,s=n[1].map,o=(n[2].onLoad,n[3].ControllerMixin),u=(n[4]["default"],n[5].resolveParams),a=n[5].handlebarsGet;r.resolveParams=e,r.resolvePaths=t}),e("ember-routing/location/api",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get,e[2].set,{create:function(e){var t=e&&e.implementation,n=this.implementations[t];return n.create.apply(n,arguments)},registerImplementation:function(e,t){this.implementations[e]=t},implementations:{},_location:window.location,_getHash:function(){var e=(this._location||this.location).href,t=e.indexOf("#");return-1===t?"":e.substr(t)}});t["default"]=n}),e("ember-routing/location/auto_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-routing/location/api","ember-routing/location/history_location","ember-routing/location/hash_location","ember-routing/location/none_location","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get,e[2].set),r=e[3]["default"],i=e[4]["default"],s=e[5]["default"],o=e[6]["default"],u={cancelRouterSetup:!1,rootURL:"/",_window:window,_location:window.location,_history:window.history,_HistoryLocation:i,_HashLocation:s,_NoneLocation:o,_getOrigin:function(){var e=this._location,t=e.origin;return t||(t=e.protocol+"//"+e.hostname,e.port&&(t+=":"+e.port)),t},_getSupportsHistory:function(){var e=this._window.navigator.userAgent;return-1!==e.indexOf("Android 2")&&-1!==e.indexOf("Mobile Safari")&&-1===e.indexOf("Chrome")?!1:!!(this._history&&"pushState"in this._history)},_getSupportsHashChange:function(){var e=this._window,t=e.document.documentMode;return"onhashchange"in e&&(void 0===t||t>7)},_replacePath:function(e){this._location.replace(this._getOrigin()+e)},_getRootURL:function(){return this.rootURL},_getPath:function(){var e=this._location.pathname;return"/"!==e.charAt(0)&&(e="/"+e),e},_getHash:r._getHash,_getQuery:function(){return this._location.search},_getFullPath:function(){return this._getPath()+this._getQuery()+this._getHash()},_getHistoryPath:function(){var e,t,n=this._getRootURL(),r=this._getPath(),i=this._getHash(),s=this._getQuery();return r.indexOf(n),"#/"===i.substr(0,2)?(t=i.substr(1).split("#"),e=t.shift(),"/"===r.slice(-1)&&(e=e.substr(1)),r+=e,r+=s,t.length&&(r+="#"+t.join("#"))):(r+=s,r+=i),r},_getHashPath:function(){var e=this._getRootURL(),t=e,n=this._getHistoryPath(),r=n.substr(e.length);return""!==r&&("/"!==r.charAt(0)&&(r="/"+r),t+="#"+r),t},create:function(e){e&&e.rootURL&&(this.rootURL=e.rootURL);var t,r,i=!1,s=this._NoneLocation,o=this._getFullPath();this._getSupportsHistory()?(t=this._getHistoryPath(),o===t?s=this._HistoryLocation:(i=!0,this._replacePath(t))):this._getSupportsHashChange()&&(r=this._getHashPath(),o===r||"/"===o&&"/#/"===r?s=this._HashLocation:(i=!0,this._replacePath(r)));var u=s.create.apply(s,arguments);return i&&n(u,"cancelRouterSetup",!0),u}};t["default"]=u}),e("ember-routing/location/hash_location",["ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api","ember-views/system/jquery","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].get,r=e[1].set,i=e[2]["default"],s=e[3].guidFor,o=e[4]["default"],u=e[5]["default"],a=e[6]["default"],f=o.extend({implementation:"hash",init:function(){r(this,"location",n(this,"_location")||window.location)},getHash:u._getHash,getURL:function(){return this.getHash().substr(1)},setURL:function(e){n(this,"location").hash=e,r(this,"lastSetURL",e)},replaceURL:function(e){n(this,"location").replace("#"+e),r(this,"lastSetURL",e)},onUpdateURL:function(e){var t=this,o=s(this);a(window).on("hashchange.ember-location-"+o,function(){i(function(){var i=t.getURL();n(t,"lastSetURL")!==i&&(r(t,"lastSetURL",null),e(i))})})},formatURL:function(e){return"#"+e},willDestroy:function(){var e=s(this);a(window).off("hashchange.ember-location-"+e)}});t["default"]=f}),e("ember-routing/location/history_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/object","ember-views/system/jquery","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get),r=e[2].set,i=e[3].guidFor,s=e[4]["default"],o=e[5]["default"],u=!1,a=window.history&&"state"in window.history,f=s.extend({implementation:"history",init:function(){r(this,"location",n(this,"location")||window.location),r(this,"baseURL",o("base").attr("href")||"")},initState:function(){r(this,"history",n(this,"history")||window.history),this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var e=n(this,"rootURL"),t=n(this,"location"),r=t.pathname,i=n(this,"baseURL");e=e.replace(/\/$/,""),i=i.replace(/\/$/,"");var s=r.replace(i,"").replace(e,"");return s},setURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.pushState(e)},replaceURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.replaceState(e)},getState:function(){return a?n(this,"history").state:this._historyState},pushState:function(e){var t={path:e};n(this,"history").pushState(t,null,e),a||(this._historyState=t),this._previousURL=this.getURL()},replaceState:function(e){var t={path:e};n(this,"history").replaceState(t,null,e),a||(this._historyState=t),this._previousURL=this.getURL()},onUpdateURL:function(e){var t=i(this),n=this;o(window).on("popstate.ember-location-"+t,function(){(u||(u=!0,n.getURL()!==n._previousURL))&&e(n.getURL())})},formatURL:function(e){var t=n(this,"rootURL"),r=n(this,"baseURL");return""!==e?(t=t.replace(/\/$/,""),r=r.replace(/\/$/,"")):r.match(/^\//)&&t.match(/^\//)&&(r=r.replace(/\/$/,"")),r+t+e},willDestroy:function(){var e=i(this);o(window).off("popstate.ember-location-"+e)}});t["default"]=f}),e("ember-routing/location/none_location",["ember-metal/property_get","ember-metal/property_set","ember-runtime/system/object","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0].get,r=e[1].set,i=e[2]["default"],s=i.extend({implementation:"none",path:"",getURL:function(){return n(this,"path")},setURL:function(e){r(this,"path",e)},onUpdateURL:function(e){this.updateCallback=e},handleURL:function(e){r(this,"path",e),this.updateCallback(e)},formatURL:function(e){return e}});t["default"]=s}),e("ember-routing",["ember-handlebars","ember-metal/core","ember-routing/ext/run_loop","ember-routing/ext/controller","ember-routing/ext/view","ember-routing/helpers/shared","ember-routing/helpers/link_to","ember-routing/location/api","ember-routing/location/none_location","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/system/controller_for","ember-routing/system/dsl","ember-routing/system/router","ember-routing/system/route","ember-routing/helpers/outlet","ember-routing/helpers/render","ember-routing/helpers/action","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=e[5].resolvePaths,s=e[5].resolveParams,o=e[6].deprecatedLinkToHelper,u=e[6].linkToHelper,a=e[6].LinkView,f=e[7]["default"],l=e[8]["default"],c=e[9]["default"],h=e[10]["default"],p=e[11]["default"],d=e[12].controllerFor,v=e[12].generateControllerFactory,m=e[12].generateController,g=e[13]["default"],y=e[14]["default"],b=e[15]["default"],w=e[16].outletHelper,E=e[16].OutletView,S=e[17]["default"],x=e[18].ActionHelper,T=e[18].actionHelper;r.Location=f,r.AutoLocation=p,r.HashLocation=c,r.HistoryLocation=h,r.NoneLocation=l,r.controllerFor=d,r.generateControllerFactory=v,r.generateController=m,r.RouterDSL=g,r.Router=y,r.Route=b,r.LinkView=a,y.resolveParams=s,y.resolvePaths=i,n.ActionHelper=x,n.OutletView=E,n.registerHelper("render",S),n.registerHelper("action",T),n.registerHelper("outlet",w),n.registerHelper("link-to",u),n.registerHelper("linkTo",o),t["default"]=r}),e("ember-routing/system/controller_for",["ember-metal/core","ember-metal/property_get","ember-metal/utils","exports"],function(){var e=arguments,t=e[e.length-1],n=(e[0]["default"],e[1].get),r=e[2].isArray,i=function(e,t,n){return e.lookup("controller:"+t,n)},s=function(e,t,n){var i,s,o,u;return u=n&&r(n)?"array":n?"object":"basic",o="controller:"+u,i=e.lookupFactory(o).extend({isGenerated:!0,toString:function(){return"(generated "+t+" controller)"}}),s="controller:"+t,e.register(s,i),i},o=function(e,t,r){s(e,t,r);var i="controller:"+t,o=e.lookup(i);return n(o,"namespace.LOG_ACTIVE_GENERATION"),o};t.controllerFor=i,t.generateControllerFactory=s,t.generateController=o}),e("ember-routing/system/dsl",["ember-metal/core","exports"],function(){function e(e){this.parent=e,this.matches=[]}function t(e,t,n){n=n||{},"string"!=typeof n.path&&(n.path="/"+t),e.parent&&"application"!==e.parent&&(t=e.parent+"."+t),e.push(n.path,t,null)}var n=arguments,r=n[n.length-1];n[0]["default"],e.prototype={resource:function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r={}),1===arguments.length&&(r={}),"string"!=typeof r.path&&(r.path="/"+n),i){var s=new e(n);t(s,"loading"),t(s,"error",{path:"/_unused_dummy_error_path_route_"+n+"/:error"}),i.call(s),this.push(r.path,n,s.generate())}else this.push(r.path,n,null)},push:function(e,t,n){var r=t.split(".");(""===e||"/"===e||"index"===r[r.length-1])&&(this.explicitIndex=!0),this.matches.push([e,t,n])},route:function(e,n){t(this,e,n)},generate:function(){var e=this.matches;return this.explicitIndex||this.route("index",{path:"/"}),function(t){for(var n=0,r=e.length;r>n;n++){var i=e[n];t(i[0]).to(i[1],i[2])}}}},e.map=function(t){var n=new e;return t.call(n),n},r["default"]=e}),e("ember-routing/system/route",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/get_properties","ember-metal/enumerable_utils","ember-metal/is_none","ember-metal/computed","ember-metal/utils","ember-metal/run_loop","ember-runtime/keys","ember-runtime/copy","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/action_handler","ember-routing/system/controller_for","exports"],function(){function e(e){var t=e.router.router.state.handlerInfos;if(t)for(var n,r,i=0,s=t.length;s>i;i++){if(r=t[i].handler,r===e)return n;n=r}}function t(n){var r,i=e(n);if(i)return(r=i.lastRenderedTemplate)?r:t(i)}function n(e,n,r,i){i=i||{},i.into=i.into?i.into.replace(/\//g,"."):t(e),i.outlet=i.outlet||"main",i.name=n,i.template=r,i.LOG_VIEW_LOOKUPS=c(e.router,"namespace.LOG_VIEW_LOOKUPS");var s,o=i.controller,u=i.model;if(o=i.controller?i.controller:(s=e.container.lookup("controller:"+n))?s:e.controllerName||e.routeName,"string"==typeof o){var a=o;if(o=e.container.lookup("controller:"+a),!o)throw new l("You passed `controller: '"+a+"'` into the `render` method, but no such controller could be found.")}return u&&o.set("model",u),i.controller=o,i}function r(e,t,n){if(e)n.LOG_VIEW_LOOKUPS;else{var r=n.into?"view:default":"view:toplevel";e=t.lookup(r),n.LOG_VIEW_LOOKUPS}return c(e,"templateName")||(h(e,"template",n.template),h(e,"_debugTemplateName",n.name)),h(e,"renderedName",n.name),h(e,"controller",n.controller),e}function i(e,t,n){if(n.into){var r=e.router._lookupActiveView(n.into),i=o(r,n.outlet);e.teardownOutletViews||(e.teardownOutletViews=[]),E(e.teardownOutletViews,0,0,[i]),r.connectOutlet(n.outlet,t)}else{var u=c(e,"router.namespace.rootElement");e.teardownTopLevelView&&e.teardownTopLevelView(),e.router._connectActiveView(n.name,t),e.teardownTopLevelView=s(t),t.appendTo(u)}}function s(e){return function(){e.destroy()}}function o(e,t){return function(){e.disconnectOutlet(t)}}var u=arguments,a=u[u.length-1],f=u[0]["default"],l=u[1]["default"],c=u[2].get,h=u[3].set,p=u[4]["default"],d=u[5]["default"],v=(u[6].isNone,u[7].computed),m=(u[8].typeOf,u[9]["default"],u[10]["default"],u[11]["default"]),g=(u[12].classify,u[12].fmt,u[13]["default"]),y=u[14]["default"],b=u[15].generateController,w=d.forEach,E=d.replace,S=g.extend(y,{exit:function(){this.deactivate(),this.teardownViews()},enter:function(){this.activate()},viewName:null,templateName:null,controllerName:null,_actions:{queryParamsDidChange:function(){},finalizeQueryParamChange:function(){}},events:null,mergedProperties:["events"],deactivate:f.K,activate:f.K,transitionTo:function(){var e=this.router;return e.transitionTo.apply(e,arguments)},intermediateTransitionTo:function(){var e=this.router;e.intermediateTransitionTo.apply(e,arguments)},refresh:function(){return this.router.router.refresh(this)},replaceWith:function(){var e=this.router;return e.replaceWith.apply(e,arguments)},send:function(){return this.router.send.apply(this.router,arguments)},setup:function(e){var t=this.controllerName||this.routeName,n=this.controllerFor(t,!0);n||(n=this.generateController(t,e)),this.controller=n,this.setupControllers?this.setupControllers(n,e):this.setupController(n,e),this.renderTemplates?this.renderTemplates(e):this.renderTemplate(n,e)},beforeModel:f.K,afterModel:f.K,redirect:f.K,contextDidChange:function(){this.currentModel=this.context},model:function(e,t){var n,r,i,s;for(var o in e)"queryParams"!==o&&((n=o.match(/^(.*)_id$/))&&(r=n[1],s=e[o]),i=!0);if(!r&&i)return m(e);if(!r){if(t.resolveIndex!==t.state.handlerInfos.length-1)return;var u=t.state.handlerInfos[t.resolveIndex-1].context;return u}return this.findModel(r,s)},deserialize:function(e,t){return this.model(e,t)},findModel:function(){var e=c(this,"store");return e.find.apply(e,arguments)},store:v(function(){var e=this.container;return this.routeName,c(this,"router.namespace"),{find:function(t,n){var r=e.lookupFactory("model:"+t);if(r)return r.find(n)}}}),serialize:function(e,t){if(!(t.length<1)&&e){var n=t[0],r={};return/_id$/.test(n)&&1===t.length?r[n]=c(e,"id"):r=p(e,t),r}},setupController:function(e,t){e&&void 0!==t&&h(e,"model",t)},controllerFor:function(e){var t,n=this.container,r=n.lookup("route:"+e);return r&&r.controllerName&&(e=r.controllerName),t=n.lookup("controller:"+e)},generateController:function(e,t){var n=this.container;return t=t||this.modelFor(e),b(n,e,t)},modelFor:function(e){var t=this.container.lookup("route:"+e),n=this.router?this.router.router.activeTransition:null;if(n){var r=t&&t.routeName||e;if(n.resolvedModels.hasOwnProperty(r))return n.resolvedModels[r]}return t&&t.currentModel},renderTemplate:function(){this.render()},render:function(e,t){var s="string"==typeof e&&!!e;"object"!=typeof e||t||(t=e,e=this.routeName),t=t||{};var o;e?(e=e.replace(/\//g,"."),o=e):(e=this.routeName,o=this.templateName||e);var u=t.view||s&&e||this.viewName||e,a=this.container,f=a.lookup("view:"+u),l=f?f.get("template"):null;return l||(l=a.lookup("template:"+o)),f||l?(t=n(this,e,l,t),f=r(f,a,t),"main"===t.outlet&&(this.lastRenderedTemplate=e),i(this,f,t),void 0):(c(this.router,"namespace.LOG_VIEW_LOOKUPS"),void 0)},disconnectOutlet:function(e){if(!e||"string"==typeof e){var n=e;e={},e.outlet=n}e.parentView=e.parentView?e.parentView.replace(/\//g,"."):t(this),e.outlet=e.outlet||"main";var r=this.router._lookupActiveView(e.parentView);r&&r.disconnectOutlet(e.outlet)},willDestroy:function(){this.teardownViews()},teardownViews:function(){this.teardownTopLevelView&&this.teardownTopLevelView();var e=this.teardownOutletViews||[];w(e,function(e){e()}),delete this.teardownTopLevelView,delete this.teardownOutletViews,delete this.lastRenderedTemplate}});a["default"]=S}),e("ember-routing/system/router",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/array","ember-metal/properties","ember-metal/computed","ember-metal/merge","ember-metal/run_loop","ember-metal/enumerable_utils","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-routing/system/dsl","ember-views/views/view","ember-routing/location/api","ember-handlebars/views/metamorph_view","exports"],function(){function e(e,t,n){for(var r=t.state.handlerInfos,i=!1,s=r.length-1;s>=0;--s){var o=r[s],u=o.handler;if(i){if(n(u,r[s+1].handler)!==!0)return!1}else e===u&&(i=!0)}return!0}function n(e,t,n){var i,s=e.router,o=(t.routeName.split(".").pop(),"application"===e.routeName?"":e.routeName+".");return i=o+n,r(s,i)?i:void 0}function r(e,t){var n=e.container;return e.hasRoute(t)&&(n.has("template:"+t)||n.has("route:"+t))}function i(e,t,n){var r=n.shift();if(!e){if(t)return;throw new f("Can't trigger action '"+r+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}for(var i=!1,s=e.length-1;s>=0;s--){var o=e[s],u=o.handler;if(u._actions&&u._actions[r]){if(u._actions[r].apply(u,n)!==!0)return;i=!0}}if(k[r])return k[r].apply(null,n),void 0;if(!i&&!t)throw new f("Nothing handled the action '"+r+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}function s(e){var t=e.container.lookup("controller:application");if(t){var n=e.router.currentHandlerInfos,r=C._routePath(n);"currentPath"in t||h(t,"currentPath"),c(t,"currentPath",r),"currentRouteName"in t||h(t,"currentRouteName"),c(t,"currentRouteName",n[n.length-1].name)}}var o=arguments,u=o[o.length-1],a=o[0]["default"],f=o[1]["default"],l=o[2].get,c=o[3].set,h=(o[4].forEach,o[5].defineProperty),p=o[6].computed,d=o[7]["default"],v=o[8]["default"],m=o[9]["default"],g=(o[10].fmt,o[11]["default"]),y=o[12]["default"],b=o[13]["default"],w=o[14].View,E=o[15]["default"],S=o[16]._MetamorphView,x=t("router")["default"],T=(t("router/transition").Transition,[].slice),N=(m.forEach,S),C=g.extend(y,{location:"hash",rootURL:"/",init:function(){this.router=this.constructor.router||this.constructor.map(a.K),this._activeViews={},this._setupLocation(),this._qpCache={},this._queuedQPChanges={},l(this,"namespace.LOG_TRANSITIONS_INTERNAL")&&(this.router.log=a.Logger.debug)},url:p(function(){return l(this,"location").getURL()}),startRouting:function(){this.router=this.router||this.constructor.map(a.K);var e=this.router,t=l(this,"location"),n=this.container,r=this,i=l(this,"initialURL");l(t,"cancelRouterSetup")||(this._setupRouter(e,t),n.register("view:default",N),n.register("view:toplevel",w.extend()),t.onUpdateURL(function(e){r.handleURL(e)}),"undefined"==typeof i&&(i=t.getURL()),this.handleURL(i))},didTransition:function(e){s(this),this._cancelLoadingEvent(),this.notifyPropertyChange("url"),v.once(this,this.trigger,"didTransition"),l(this,"namespace").LOG_TRANSITIONS&&a.Logger.log("Transitioned into '"+C._routePath(e)+"'")},handleURL:function(e){return this._doTransition("handleURL",[e])},transitionTo:function(){return this._doTransition("transitionTo",arguments)},intermediateTransitionTo:function(){this.router.intermediateTransitionTo.apply(this.router,arguments),s(this);var e=this.router.currentHandlerInfos;l(this,"namespace").LOG_TRANSITIONS&&a.Logger.log("Intermediate-transitioned into '"+C._routePath(e)+"'")},replaceWith:function(){return this._doTransition("replaceWith",arguments)},generate:function(){var e=this.router.generate.apply(this.router,arguments);return this.location.formatURL(e)},isActive:function(){var e=this.router;return e.isActive.apply(e,arguments)},send:function(){this.router.trigger.apply(this.router,arguments)},hasRoute:function(e){return this.router.hasRoute(e)},reset:function(){this.router.reset()},_lookupActiveView:function(e){var t=this._activeViews[e];return t&&t[0]},_connectActiveView:function(e,t){function n(){delete this._activeViews[e]}var r=this._activeViews[e];r&&r[0].off("willDestroyElement",this,r[1]),this._activeViews[e]=[t,n],t.one("willDestroyElement",this,n)},_setupLocation:function(){var e=l(this,"location"),t=l(this,"rootURL");if(t&&!this.container.has("-location-setting:root-url")&&this.container.register("-location-setting:root-url",t,{instantiate:!1}),"string"==typeof e&&this.container){var n=this.container.lookup("location:"+e);if("undefined"!=typeof n)e=c(this,"location",n);else{var r={implementation:e};e=c(this,"location",E.create(r))}}t&&"string"==typeof t&&(e.rootURL=t),"function"==typeof e.initState&&e.initState()},_getHandlerFunction:function(){var e={},t=this.container,n=t.lookupFactory("route:basic"),r=this;return function(i){var s="route:"+i,o=t.lookup(s);return e[i]?o:(e[i]=!0,o||(t.register(s,n.extend()),o=t.lookup(s),l(r,"namespace.LOG_ACTIVE_GENERATION")),o.routeName=i,o)}},_setupRouter:function(e,t){var n,r=this;e.getHandler=this._getHandlerFunction();var i=function(){t.setURL(n)};if(e.updateURL=function(e){n=e,v.once(i)},t.replaceURL){var s=function(){t.replaceURL(n)};e.replaceURL=function(e){n=e,v.once(s)}}e.didTransition=function(e){r.didTransition(e)}},_doTransition:function(e,t){t=T.call(t),t[0]=t[0]||"/";var n,r=t[0],i=!1;if(!i&&"/"!==r.charAt(0),n){if(!r){var s=this.router.activeTransition?this.router.activeTransition.state.handlerInfos:this.router.state.handlerInfos;r=s[s.length-1].name,t.unshift(r)}var o=this._queryParamsFor(r),u=(o.qps,{});for(var a in n)if(n.hasOwnProperty(a)){var l=n[a],c=o.map[a];if(!c)throw new f("Unrecognized query param "+a+" provided as transition argument");u[c.urlKey]=c.route.serializeQueryParam(l,c.urlKey,c.type)}t[t.length-1].queryParams=u}var h=this.router[e].apply(this.router,t);return h.then(null,function(e){if(e&&e.name){if("UnrecognizedURLError"!==e.name&&"TransitionAborted"!==e.name)throw e;return e}},"Ember: Process errors from Router"),h},_queryParamsFor:function(e){if(this._qpCache[e])return this._qpCache[e];for(var t={},n=[],r=(this._qpCache[e]={map:t,qps:n},this.router),i=r.recognizer.handlersFor(e),s=0,o=i.length;o>s;++s){var u=i[s],a=r.getHandler(u.handler),f=l(a,"_qp");f&&(d(t,f.map),n.push.apply(n,f.qps))}return{qps:n,map:t}},_scheduleLoadingEvent:function(e,t){this._cancelLoadingEvent(),this._loadingStateTimer=v.scheduleOnce("routerTransitions",this,"_fireLoadingEvent",e,t)},_fireLoadingEvent:function(e,t){this.router.activeTransition&&e.trigger(!0,"loading",e,t)},_cancelLoadingEvent:function(){this._loadingStateTimer&&v.cancel(this._loadingStateTimer),this._loadingStateTimer=null}}),k={willResolveModel:function(e,t){t.router._scheduleLoadingEvent(e,t)},error:function(t,i,s){var o=s.router,u=e(s,i,function(e,r){var i=n(e,r,"error");return i?(o.intermediateTransitionTo(i,t),void 0):!0});if(u){if(r(s.router,"application_error"))return o.intermediateTransitionTo("application_error",t),void 0;var f=["Error while processing route: "+i.targetName];t&&(t.message&&f.push(t.message),t.stack&&f.push(t.stack),"string"==typeof t&&f.push(t)),a.Logger.error.apply(this,f)}},loading:function(t,i){var s=i.router,o=e(i,t,function(e,r){var i=n(e,r,"loading");return i?(s.intermediateTransitionTo(i),void 0):t.pivotHandler!==e?!0:void 0});return o&&r(i.router,"application_loading")?(s.intermediateTransitionTo("application_loading"),void 0):void 0}};C.reopenClass({router:null,map:function(e){var t=this.router;t||(t=new x,t.callbacks=[],t.triggerEvent=i,this.reopenClass({router:t}));var n=b.map(function(){this.resource("application",{path:"/"},function(){for(var n=0;n<t.callbacks.length;n++)t.callbacks[n].call(this);e.call(this)})});return t.callbacks.push(e),t.map(n.generate()),t},_routePath:function(e){function t(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n]!==t[n])return!1;return!0}for(var n=[],r=1,i=e.length;i>r;r++){for(var s=e[r].name,o=s.split("."),u=T.call(n);u.length&&!t(u,o);)u.shift();n.push.apply(n,o.slice(u.length))}return n.join(".")}}),u["default"]=C}),e("route-recognizer",["exports"],function(){function e(e){return"[object Array]"===Object.prototype.toString.call(e)}function t(e){this.string=e}function n(e){this.name=e}function r(e){this.name=e}function i(){}function s(e,s,o){"/"===e.charAt(0)&&(e=e.substr(1));for(var u=e.split("/"),a=[],f=0,l=u.length;l>f;f++){var c,h=u[f];(c=h.match(/^:([^\/]+)$/))?(a.push(new n(c[1])),s.push(c[1]),o.dynamics++):(c=h.match(/^\*([^\/]+)$/))?(a.push(new r(c[1])),s.push(c[1]),o.stars++):""===h?a.push(new i):(a.push(new t(h)),o.statics++)}return a}function o(e){this.charSpec=e,this.nextStates=[]}function u(e){return e.sort(function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}function a(e,t){for(var n=[],r=0,i=e.length;i>r;r++){var s=e[r];n=n.concat(s.match(t))}return n}function f(e){this.queryParams=e||{}}function l(e,t,n){for(var r=e.handlers,i=e.regex,s=t.match(i),o=1,u=new f(n),a=0,l=r.length;l>a;a++){for(var c=r[a],h=c.names,p={},d=0,v=h.length;v>d;d++)p[h[d]]=s[o++];u.push({handler:c.handler,params:p,isDynamic:!!h.length})}return u}function c(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function h(e,t,n){this.path=e,this.matcher=t,this.delegate=n}function p(e){this.routes={},this.children={},this.target=e}function d(e,t,n){return function(r,i){var s=e+r;return i?(i(d(s,t,n)),void 0):new h(e+r,t,n)}}function v(e,t,n){for(var r=0,i=0,s=e.length;s>i;i++)r+=e[i].path.length;t=t.substr(r);var o={path:t,handler:n};e.push(o)}function m(e,t,n,r){var i=t.routes;for(var s in i)if(i.hasOwnProperty(s)){var o=e.slice();v(o,s,i[s]),t.children[s]?m(o,t.children[s],n,r):n.call(r,o)}}var g=arguments,y=g[g.length-1],b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],w=new RegExp("(\\"+b.join("|\\")+")","g");t.prototype={eachChar:function(e){for(var t,n=this.string,r=0,i=n.length;i>r;r++)t=n.charAt(r),e({validChars:t})},regex:function(){return this.string.replace(w,"\\$1")},generate:function(){return this.string}},n.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},r.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},i.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},o.prototype={get:function(e){for(var t=this.nextStates,n=0,r=t.length;r>n;n++){var i=t[n],s=i.charSpec.validChars===e.validChars;if(s=s&&i.charSpec.invalidChars===e.invalidChars)return i}},put:function(e){var t;return(t=this.get(e))?t:(t=new o(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,n,r,i=this.nextStates,s=[],o=0,u=i.length;u>o;o++)t=i[o],n=t.charSpec,"undefined"!=typeof (r=n.validChars)?-1!==r.indexOf(e)&&s.push(t):"undefined"!=typeof (r=n.invalidChars)&&-1===r.indexOf(e)&&s.push(t);return s}};var E=Object.create||function(e){function t(){}return t.prototype=e,new t};f.prototype=E({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var S=function(){this.rootState=new o,this.names={}};S.prototype={add:function(e,t){for(var n,r=this.rootState,o="^",u={statics:0,dynamics:0,stars:0},a=[],f=[],l=!0,h=0,p=e.length;p>h;h++){var d=e[h],v=[],m=s(d.path,v,u);f=f.concat(m);for(var g=0,y=m.length;y>g;g++){var b=m[g];b instanceof i||(l=!1,r=r.put({validChars:"/"}),o+="/",r=c(r,b),o+=b.regex())}var w={handler:d.handler,names:v};a.push(w)}l&&(r=r.put({validChars:"/"}),o+="/"),r.handlers=a,r.regex=new RegExp(o+"$"),r.types=u,(n=t&&t.as)&&(this.names[n]={segments:f,handlers:a})},handlersFor:function(e){var t=this.names[e],n=[];if(!t)throw new Error("There is no route named "+e);for(var r=0,i=t.handlers.length;i>r;r++)n.push(t.handlers[r]);return n},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var n=this.names[e],r="";if(!n)throw new Error("There is no route named "+e);for(var s=n.segments,o=0,u=s.length;u>o;o++){var a=s[o];a instanceof i||(r+="/",r+=a.generate(t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams,n.handlers)),r},generateQueryString:function(t){var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i);r.sort();for(var s=0,o=r.length;o>s;s++){i=r[s];var u=t[i];if(null!=u){var a=i;if(e(u))for(var f=0,l=u.length;l>f;f++){var c=i+"[]="+encodeURIComponent(u[f]);n.push(c)}else a+="="+encodeURIComponent(u),n.push(a)}}return 0===n.length?"":"?"+n.join("&")},parseQueryString:function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var i,s=t[r].split("="),o=decodeURIComponent(s[0]),u=o.length,a=!1;1===s.length?i="true":(u>2&&"[]"===o.slice(u-2)&&(a=!0,o=o.slice(0,u-2),n[o]||(n[o]=[])),i=s[1]?decodeURIComponent(s[1]):""),a?n[o].push(i):n[o]=decodeURIComponent(i)}return n},recognize:function(e){var t,n,r,i,s=[this.rootState],o={},f=!1;if(e=decodeURI(e),i=e.indexOf("?"),-1!==i){var c=e.substr(i+1,e.length);e=e.substr(0,i),o=this.parseQueryString(c)}for("/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),f=!0),n=0,r=e.length;r>n&&(s=a(s,e.charAt(n)),s.length);n++);var h=[];for(n=0,r=s.length;r>n;n++)s[n].handlers&&h.push(s[n]);s=u(h);var p=h[0];return p&&p.handlers?(f&&"(.+)$"===p.regex.source.slice(-5)&&(e+="/"),l(p,e,o)):void 0}},y["default"]=S,h.prototype={to:function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},p.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,n,r){var i=new p(t);this.children[e]=i;var s=d(e,i,r);r&&r.contextEntered&&r.contextEntered(t,s),n(s)}},S.prototype.map=function(e,t){var n=new p;e(d("",n,this.delegate)),m([],n,function(e){t?t(this,e):this.add(e)},this)}}),e("router/handler-info",["./utils","rsvp/promise","exports"],function(){function e(e){var t=e||{};s(this,t),this.initialize(t)}function t(e,t){if(!e^!t)return!1;if(!e)return!0;for(var n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}var n=arguments,r=n[n.length-1],i=n[0].bind,s=n[0].merge,o=(n[0].serialize,n[0].promiseLabel),u=n[1]["default"];e.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(e,t){e.log&&e.log(this.name+": "+t)},promiseLabel:function(e){return o("'"+this.name+"' "+e)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(e,t){var n=i(this,this.checkForAbort,e),r=i(this,this.runBeforeModelHook,t),s=i(this,this.getModel,t),o=i(this,this.runAfterModelHook,t),a=i(this,this.becomeResolved,t);return u.resolve(void 0,this.promiseLabel("Start handler")).then(n,null,this.promiseLabel("Check for abort")).then(r,null,this.promiseLabel("Before model")).then(n,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(s,null,this.promiseLabel("Model")).then(n,null,this.promiseLabel("Check if aborted in 'model' hook")).then(o,null,this.promiseLabel("After model")).then(n,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(a,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(e){return e.trigger&&e.trigger(!0,"willResolveModel",e,this.handler),this.runSharedModelHook(e,"beforeModel",[])},runAfterModelHook:function(e,t){var n=this.name;return this.stashResolvedModel(e,t),this.runSharedModelHook(e,"afterModel",[t]).then(function(){return e.resolvedModels[n]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(e,t,n){this.log(e,"calling "+t+" hook"),this.queryParams&&n.push(this.queryParams),n.push(e);var r=this.handler,i=r[t]&&r[t].apply(r,n);return i&&i.isTransition&&(i=null),u.resolve(i,null,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(e,t){return u.resolve(e(),this.promiseLabel("Check for abort")).then(function(){return t},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(e,t){e.resolvedModels=e.resolvedModels||{},e.resolvedModels[this.name]=t},becomeResolved:function(e,t){var n=this.serialize(t);return e&&(this.stashResolvedModel(e,t),e.params=e.params||{},e.params[this.name]=n),this.factory("resolved",{context:t,name:this.name,handler:this.handler,params:n})},shouldSupercede:function(e){if(!e)return!0;var n=e.context===this.context;return e.name!==this.name||this.hasOwnProperty("context")&&!n||this.hasOwnProperty("params")&&!t(this.params,e.params)}},r["default"]=e}),e("router/handler-info/factory",["router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param","exports"],function(){function e(t,n){var r=e.klasses[t],i=new r(n||{});return i.factory=e,i}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=t[1]["default"],s=t[2]["default"];e.klasses={resolved:r,param:s,object:i},n["default"]=e}),e("router/handler-info/resolved-handler-info",["../handler-info","router/utils","rsvp/promise","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].subclass,i=(e[1].promiseLabel,e[2]["default"]),s=r(n,{resolve:function(e,t){return t&&t.resolvedModels&&(t.resolvedModels[this.name]=this.context),i.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0});t["default"]=s}),e("router/handler-info/unresolved-handler-info-by-object",["../handler-info","router/utils","rsvp/promise","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=(e[1].merge,e[1].subclass),i=(e[1].promiseLabel,e[1].isParam),s=e[2]["default"],o=r(n,{getModel:function(e){return this.log(e,this.name+": resolving provided model"),s.resolve(this.context)},initialize:function(e){this.names=e.names||[],this.context=e.context},serialize:function(e){var t=e||this.context,n=this.names,r=this.handler,s={};if(i(t))return s[n[0]]=t,s;if(r.serialize)return r.serialize(t,n);if(1===n.length){var o=n[0];return s[o]=/_id$/.test(o)?t.id:t,s}}});t["default"]=o}),e("router/handler-info/unresolved-handler-info-by-param",["../handler-info","router/utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].merge,i=e[1].subclass,s=(e[1].promiseLabel,i(n,{initialize:function(e){this.params=e.params||{}},getModel:function(e){var t=this.params;e&&e.queryParams&&(t={},r(t,this.params),t.queryParams=e.queryParams);var n="function"==typeof this.handler.deserialize?"deserialize":"model";return this.runSharedModelHook(e,n,[t])}}));t["default"]=s}),e("router/router",["route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","exports"],function(){function e(){this.recognizer=new c,this.reset()}function t(e,t,i){var s=r(e.state,t);m(s.exited,function(e){var t=e.handler;delete t.context,t.exit&&t.exit()});var o=e.oldState=e.state;e.state=t;var u=e.currentHandlerInfos=s.unchanged.slice();try{m(s.updatedContext,function(e){return n(u,e,!1,i)}),m(s.entered,function(e){return n(u,e,!0,i)})}catch(f){throw e.state=o,e.currentHandlerInfos=o.handlerInfos,f}e.state.queryParams=a(e,u,t.queryParams,i)}function n(e,t,n,r){var i=t.handler,s=t.context;if(n&&i.enter&&i.enter(r),r&&r.isAborted)throw new T;if(i.context=s,i.contextDidChange&&i.contextDidChange(),i.setup&&i.setup(s,r),r&&r.isAborted)throw new T;return e.push(t),!0}function r(e,t){var n,r,i,s,o,u=e.handlerInfos,a=t.handlerInfos,f={updatedContext:[],exited:[],entered:[],unchanged:[]};for(s=0,o=a.length;o>s;s++){var l=u[s],c=a[s];l&&l.handler===c.handler||(n=!0),n?(f.entered.push(c),l&&f.exited.unshift(l)):r||l.context!==c.context||i?(r=!0,f.updatedContext.push(c)):f.unchanged.push(l)}for(s=a.length,o=u.length;o>s;s++)f.exited.unshift(u[s]);return f}function i(e,t){var n=e.urlMethod;if(n){for(var r=e.router,i=t.handlerInfos,s=i[i.length-1].name,o={},u=i.length-1;u>=0;--u){var a=i[u];g(o,a.params),a.handler.inaccessibleByURL&&(n=null)}if(n){o.queryParams=e._visibleQueryParams||t.queryParams;var f=r.recognizer.generate(s,o);"replace"===n?r.replaceURL(f):r.updateURL(f)}}}function s(e,n){try{d(e.router,e.sequence,"Resolved all models on destination route; finalizing transition.");var r=e.router,s=n.handlerInfos;return e.sequence,t(r,n,e),e.isAborted?(r.state.handlerInfos=r.currentHandlerInfos,h.reject(S(e))):(i(e,n,e.intent.url),e.isActive=!1,r.activeTransition=null,p(r,r.currentHandlerInfos,!0,["didTransition"]),r.didTransition&&r.didTransition(r.currentHandlerInfos),d(r,e.sequence,"TRANSITION COMPLETE."),s[s.length-1].handler)}catch(o){if(!(o instanceof T)){var u=e.state.handlerInfos;e.trigger(!0,"error",o,e,u[u.length-1].handler),e.abort()}throw o}}function o(e,t,n){var r=t[0]||"/",i=t[t.length-1],s={};i&&i.hasOwnProperty("queryParams")&&(s=k.call(t).queryParams);var o;if(0===t.length){d(e,"Updating query params");var u=e.state.handlerInfos;o=new N({name:u[u.length-1].name,contexts:[],queryParams:s})}else"/"===r.charAt(0)?(d(e,"Attempting URL transition to "+r),o=new C({url:r})):(d(e,"Attempting transition to "+r),o=new N({name:t[0],contexts:v.call(t,1),queryParams:s}));return e.transitionByIntent(o,n)}function u(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;r>n;++n)if(e[n]!==t[n])return!1;return!0}function a(e,t,n,r){for(var i in n)n.hasOwnProperty(i)&&null===n[i]&&delete n[i];var s=[];p(e,t,!0,["finalizeQueryParamChange",n,s,r]),r&&(r._visibleQueryParams={});for(var o={},u=0,a=s.length;a>u;++u){var f=s[u];o[f.key]=f.value,r&&f.visible!==!1&&(r._visibleQueryParams[f.key]=f.value)}return o}var f=arguments,l=f[f.length-1],c=f[0]["default"],h=f[1]["default"],p=f[2].trigger,d=f[2].log,v=f[2].slice,m=f[2].forEach,g=f[2].merge,y=(f[2].serialize,f[2].extractQueryParams),b=f[2].getChangelist,w=f[2].promiseLabel,E=f[3]["default"],S=f[4].logAbort,x=f[4].Transition,T=f[4].TransitionAborted,N=f[5]["default"],C=f[6]["default"],k=Array.prototype.pop;e.prototype={map:function(e){this.recognizer.delegate=this.delegate,this.recognizer.map(e,function(e,t){for(var n=t.length-1,r=!0;n>=0&&r;--n){var i=t[n];e.add(t,{as:i.handler}),r="/"===i.path||""===i.path||".index"===i.handler.slice(-6)}})},hasRoute:function(e){return this.recognizer.hasRoute(e)},transitionByIntent:function(e,n){var r,o=!!this.activeTransition,f=o?this.activeTransition.state:this.state,l=this;try{var c=e.applyToState(f,this.recognizer,this.getHandler,n);if(u(c.handlerInfos,f.handlerInfos)){var h=b(f.queryParams,c.queryParams);if(h){this._changedQueryParams=h.changed;for(var d in h.removed)h.removed.hasOwnProperty(d)&&(this._changedQueryParams[d]=null);return p(this,c.handlerInfos,!0,["queryParamsDidChange",h.changed,h.all,h.removed]),this._changedQueryParams=null,!o&&this.activeTransition?this.activeTransition:(r=new x(this),f.queryParams=a(this,c.handlerInfos,c.queryParams,r),r.promise=r.promise.then(function(e){return i(r,f,!0),l.didTransition&&l.didTransition(l.currentHandlerInfos),e},null,w("Transition complete")),r)}return new x(this)}return n?(t(this,c),void 0):(r=new x(this,e,c),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=r,r.promise=r.promise.then(function(e){return s(r,e.state)},null,w("Settle transition promise when transition is finalized")),o||p(this,this.state.handlerInfos,!0,["willTransition",r]),r)}catch(v){return new x(this,e,null,v)}},reset:function(){this.state&&m(this.state.handlerInfos,function(e){var t=e.handler;t.exit&&t.exit()}),this.state=new E,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(e){var t=v.call(arguments);return"/"!==e.charAt(0)&&(t[0]="/"+e),o(this,t).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(e){this.updateURL(e)},transitionTo:function(){return o(this,arguments)},intermediateTransitionTo:function(){o(this,arguments,!0)},refresh:function(e){for(var t=this.activeTransition?this.activeTransition.state:this.state,n=t.handlerInfos,r={},i=0,s=n.length;s>i;++i){var o=n[i];r[o.name]=o.params||{}}d(this,"Starting a refresh transition");var u=new N({name:n[n.length-1].name,pivotHandler:e||n[0].handler,contexts:[],queryParams:this._changedQueryParams||t.queryParams||{}});return this.transitionByIntent(u,!1)},replaceWith:function(){return o(this,arguments).method("replace")},generate:function(e){for(var t=y(v.call(arguments,1)),n=t[0],r=t[1],i=new N({name:e,contexts:n}),s=i.applyToState(this.state,this.recognizer,this.getHandler),o={},u=0,a=s.handlerInfos.length;a>u;++u){var f=s.handlerInfos[u],l=f.serialize();g(o,l)}return o.queryParams=r,this.recognizer.generate(e,o)},isActive:function(e){var t,n,r=y(v.call(arguments,1)),i=r[0],s=r[1],o=this.state.queryParams,a=this.state.handlerInfos;if(!a.length)return!1;var f=a[a.length-1].name,l=this.recognizer.handlersFor(f),c=0;for(n=l.length;n>c&&(t=a[c],t.name!==e);++c);if(c===l.length)return!1;var h=new E;h.handlerInfos=a.slice(0,c+1),l=l.slice(0,c+1);var p=new N({name:f,contexts:i}),d=p.applyToHandlers(h,l,this.getHandler,f,!0,!0),m={};g(m,s);for(var w in o)o.hasOwnProperty(w)&&m.hasOwnProperty(w)&&(m[w]=o[w]);return u(d.handlerInfos,h.handlerInfos)&&!b(m,s)},trigger:function(){var e=v.call(arguments);p(this,this.currentHandlerInfos,!1,e)},log:null},l["default"]=e}),e("router/transition-intent",["./utils","exports"],function(){function e(e){this.initialize(e),this.data=this.data||{}}var t=arguments,n=t[t.length-1];t[0].merge,e.prototype={initialize:null,applyToState:null},n["default"]=e}),e("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1]["default"],i=e[2]["default"],s=e[3].isParam,o=e[3].extractQueryParams,u=e[3].merge,a=e[3].subclass;t["default"]=a(n,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(e){this.name=e.name,this.pivotHandler=e.pivotHandler,this.contexts=e.contexts||[],this.queryParams=e.queryParams},applyToState:function(e,t,n,r){var i=o([this.name].concat(this.contexts)),s=i[0],u=(i[1],t.handlersFor(s[0])),a=u[u.length-1].handler;return this.applyToHandlers(e,u,n,a,r)},applyToHandlers:function(e,t,n,i,s,o){var a,f=new r,l=this.contexts.slice(0),c=t.length;if(this.pivotHandler)for(a=0;a<t.length;++a)if(n(t[a].handler)===this.pivotHandler){c=a;break}!this.pivotHandler;for(a=t.length-1;a>=0;--a){var h=t[a],p=h.handler,d=n(p),v=e.handlerInfos[a],m=null;if(m=h.names.length>0?a>=c?this.createParamHandlerInfo(p,d,h.names,l,v):this.getHandlerInfoForDynamicSegment(p,d,h.names,l,v,i,a):this.createParamHandlerInfo(p,d,h.names,l,v),o){m=m.becomeResolved(null,m.context);var g=v&&v.context;h.names.length>0&&m.context===g&&(m.params=v&&v.params),m.context=g}var y=v;(a>=c||m.shouldSupercede(v))&&(c=Math.min(a,c),y=m),s&&!o&&(y=y.becomeResolved(null,y.context)),f.handlerInfos.unshift(y)}if(l.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+i);return s||this.invalidateChildren(f.handlerInfos,c),u(f.queryParams,e.queryParams),u(f.queryParams,this.queryParams||{}),f},invalidateChildren:function(e,t){for(var n=t,r=e.length;r>n;++n)e[n],e[n]=e[n].getUnresolved()},getHandlerInfoForDynamicSegment:function(e,t,n,r,o,u,a){var f;n.length;if(r.length>0){if(f=r[r.length-1],s(f))return this.createParamHandlerInfo(e,t,n,r,o);r.pop()}else{if(o&&o.name===e)return o;if(!this.preTransitionState)return o;var l=this.preTransitionState.handlerInfos[a];f=l&&l.context}return i("object",{name:e,handler:t,context:f,names:n})},createParamHandlerInfo:function(e,t,n,r,o){for(var u={},a=n.length;a--;){var f=o&&e===o.name&&o.params||{},l=r[r.length-1],c=n[a];if(s(l))u[c]=""+r.pop();else{if(!f.hasOwnProperty(c))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+e);u[c]=f[c]}}return i("param",{name:e,handler:t,params:u})}})}),e("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(){function e(e){this.message=e||"UnrecognizedURLError",this.name="UnrecognizedURLError"}var t=arguments,n=t[t.length-1],r=t[0]["default"],i=t[1]["default"],s=t[2]["default"],o=(t[3].oCreate,t[3].merge),u=t[3].subclass;n["default"]=u(r,{url:null,initialize:function(e){this.url=e.url},applyToState:function(t,n,r){var u,f,l=new i,c=n.recognize(this.url);if(!c)throw new e(this.url);var h=!1;for(u=0,f=c.length;f>u;++u){var p=c[u],d=p.handler,v=r(d);if(v.inaccessibleByURL)throw new e(this.url);var m=s("param",{name:d,handler:v,params:p.params}),g=t.handlerInfos[u];h||m.shouldSupercede(g)?(h=!0,l.handlerInfos[u]=m):l.handlerInfos[u]=g}return o(l.queryParams,c.queryParams),l}})}),e("router/transition-state",["./handler-info","./utils","rsvp/promise","exports"],function(){function e(){this.handlerInfos=[],this.queryParams={},this.params={}}var t=arguments,n=t[t.length-1],r=(t[0].ResolvedHandlerInfo,t[1].forEach),i=t[1].promiseLabel,s=t[2]["default"];e.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(e){var t="";return r(this.handlerInfos,function(e){""!==t&&(t+="."),t+=e.name}),i("'"+t+"': "+e)},resolve:function(e,t){function n(){return s.resolve(e(),i("Check if should continue"))["catch"](function(e){return h=!0,s.reject(e)},i("Handle abort"))}function o(e){var n=c.handlerInfos,r=t.resolveIndex>=n.length?n.length-1:t.resolveIndex;return s.reject({error:e,handlerWithError:c.handlerInfos[r].handler,wasAborted:h,state:c})}function u(e){var r=c.handlerInfos[t.resolveIndex].isResolved;if(c.handlerInfos[t.resolveIndex++]=e,!r){var s=e.handler;s&&s.redirect&&s.redirect(e.context,t)}return n().then(f,null,i("Resolve handler"))}function f(){if(t.resolveIndex===c.handlerInfos.length)return{error:null,state:c};var e=c.handlerInfos[t.resolveIndex];return e.resolve(n,t).then(u,null,i("Proceed"))}var l=this.params;r(this.handlerInfos,function(e){l[e.name]=e.params||{}}),t=t||{},t.resolveIndex=0;var c=this,h=!1;return s.resolve(null,this.promiseLabel("Start transition")).then(f,null,this.promiseLabel("Resolve handler"))["catch"](o,this.promiseLabel("Handle error"))}},n["default"]=e}),e("router/transition",["rsvp/promise","./handler-info","./utils","exports"],function(){function e(n,r,i,o){function u(){return a.isAborted?s.reject(void 0,f("Transition aborted - reject")):void 0}var a=this;if(this.state=i||n.state,this.intent=r,this.router=n,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},o)return this.promise=s.reject(o),void 0;if(i){this.params=i.params,this.queryParams=i.queryParams;var l=i.handlerInfos.length;l&&(this.targetName=i.handlerInfos[i.handlerInfos.length-1].name);for(var c=0;l>c;++c){var h=i.handlerInfos[c];if(!h.isResolved)break;this.pivotHandler=h.handler}this.sequence=e.currentSequence++,this.promise=i.resolve(u,this)["catch"](function(e){return e.wasAborted||a.isAborted?s.reject(t(a)):(a.trigger("error",e.error,a,e.handlerWithError),a.abort(),s.reject(e.error))},f("Handle Abort"))}else this.promise=s.resolve(this.state),this.params={}}function t(e){return a(e.router,e.sequence,"detected abort."),new n}function n(e){this.message=e||"TransitionAborted",this.name="TransitionAborted"}var r=arguments,i=r[r.length-1],s=r[0]["default"],o=(r[1].ResolvedHandlerInfo,r[2].trigger),u=r[2].slice,a=r[2].log,f=r[2].promiseLabel;e.currentSequence=0,e.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:!0,state:null,isTransition:!0,promise:null,data:null,then:function(e,t){return this.promise.then(e,t)},abort:function(){return this.isAborted?this:(a(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){return this.abort(),this.router.transitionByIntent(this.intent,!1)},method:function(e){return this.urlMethod=e,this},trigger:function(e){var t=u.call(arguments);"boolean"==typeof e?t.shift():e=!1,o(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),e,t)},followRedirects:function(){var e=this.router;return this.promise["catch"](function(t){return e.activeTransition?e.activeTransition.followRedirects():s.reject(t)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(e){a(this.router,this.sequence,e)}},e.prototype.send=e.prototype.trigger,i.Transition=e,i.logAbort=t,i.TransitionAborted=n}),e("router/utils",["exports"],function(){function e(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function t(e){var t,n,r=e&&e.length;return r&&r>0&&e[r-1]&&e[r-1].hasOwnProperty("queryParams")?(n=e[r-1].queryParams,t=d.call(e,0,r-1),[t,n]):[e,null]}function n(e){for(var t in e)if("number"==typeof e[t])e[t]=""+e[t];else if(v(e[t]))for(var n=0,r=e[t].length;r>n;n++)e[t][n]=""+e[t][n]}function r(e,t,n){e.log&&(3===arguments.length?e.log("Transition #"+t+": "+n):(n=t,e.log(n)))}function i(e,t){var n=arguments;return function(r){var i=d.call(n,2);return i.push(r),t.apply(e,i)}}function s(e){return"string"==typeof e||e instanceof String||"number"==typeof e||e instanceof Number}function o(e,t){for(var n=0,r=e.length;r>n&&!1!==t(e[n]);n++);}function u(e,t,n,r){if(e.triggerEvent)return e.triggerEvent(t,n,r),void 0;var i=r.shift();if(!t){if(n)return;throw new Error("Could not trigger event '"+i+"'. There are no active handlers")}for(var s=!1,o=t.length-1;o>=0;o--){var u=t[o],a=u.handler;if(a.events&&a.events[i]){if(a.events[i].apply(a,r)!==!0)return;s=!0}}if(!s&&!n)throw new Error("Nothing handled the event '"+i+"'.")}function a(t,r){var i,s={all:{},changed:{},removed:{}};e(s.all,r);var o=!1;n(t),n(r);for(i in t)t.hasOwnProperty(i)&&(r.hasOwnProperty(i)||(o=!0,s.removed[i]=t[i]));for(i in r)if(r.hasOwnProperty(i))if(v(t[i])&&v(r[i]))if(t[i].length!==r[i].length)s.changed[i]=r[i],o=!0;else for(var u=0,a=t[i].length;a>u;u++)t[i][u]!==r[i][u]&&(s.changed[i]=r[i],o=!0);else t[i]!==r[i]&&(s.changed[i]=r[i],o=!0);return o&&s}function f(e){return"Router: "+e}function l(t,n){function r(e){t.call(this,e||{})}return r.prototype=m(t.prototype),e(r.prototype,n),r}var c,h=arguments,p=h[h.length-1],d=Array.prototype.slice;c=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var v=c;p.isArray=v;var m=Object.create||function(e){function t(){}return t.prototype=e,new t};p.oCreate=m,p.extractQueryParams=t,p.log=r,p.bind=i,p.forEach=o,p.trigger=u,p.getChangelist=a,p.promiseLabel=f,p.subclass=l,p.merge=e,p.slice=d,p.isParam=s,p.coerceQueryParamsToString=n}),e("router",["./router/router","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"];t["default"]=n})}(),function(){e("ember-application/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/error","ember-metal/utils","ember-metal/computed","ember-runtime/controllers/controller","ember-routing/system/controller_for","exports"],function(){function e(e,t,n){var r,o,u,a=[];for(o=0,u=n.length;u>o;o++)r=n[o],-1===r.indexOf(":")&&(r="controller:"+r),t.has(r)||a.push(r);if(a.length)throw new i(s(e)+" needs [ "+a.join(", ")+" ] but "+(a.length>1?"they":"it")+" could not be found")}var t=arguments,n=t[t.length-1],r=(t[0]["default"],t[1].get),i=(t[2].set,t[3]["default"]),s=t[4].inspect,o=t[5].computed,u=t[6].ControllerMixin,a=(t[4].meta,t[7].controllerFor),f=(t[4].meta,o(function(){var e=this;return{needs:r(e,"needs"),container:r(e,"container"),unknownProperty:function(t){var n,r,i,o=this.needs;for(r=0,i=o.length;i>r;r++)if(n=o[r],n===t)return this.container.lookup("controller:"+t);var u=s(e)+"#needs does not include `"+t+"`. To access the "+t+" controller from "+s(e)+", "+s(e)+" should have a `needs` property that is an array of the controllers it has access to.";throw new ReferenceError(u)},setUnknownProperty:function(t){throw new Error("You cannot overwrite the value of `controllers."+t+"` of "+s(e))}}}));u.reopen({concatenatedProperties:["needs"],needs:[],init:function(){var t=r(this,"needs"),n=r(t,"length");n>0&&(this.container&&e(this,this.container,t),r(this,"controllers")),this._super.apply(this,arguments)},controllerFor:function(e){return a(r(this,"container"),e)},controllers:f}),n["default"]=u}),e("ember-application",["ember-metal/core","ember-runtime/system/lazy_load","ember-application/system/dag","ember-application/system/resolver","ember-application/system/application","ember-application/ext/controller"],function(){var e=arguments,t=(e[e.length-1],e[0]["default"]),n=e[1].runLoadHooks,r=e[2]["default"],i=e[3].Resolver,s=e[3].DefaultResolver,o=e[4]["default"];t.Application=o,t.DAG=r,t.Resolver=i,t.DefaultResolver=s,n("Ember.Application",o)}),e("ember-application/system/application",["ember-metal","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-application/system/dag","ember-runtime/system/namespace","ember-runtime/mixins/deferred","ember-application/system/resolver","ember-metal/platform","ember-metal/run_loop","ember-metal/utils","container/container","ember-runtime/controllers/controller","ember-metal/enumerable_utils","ember-runtime/controllers/object_controller","ember-runtime/controllers/array_controller","ember-views/system/event_dispatcher","ember-extension-support/container_debug_adapter","ember-views/system/jquery","ember-routing/system/route","ember-routing/system/router","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/location/none_location","ember-handlebars-compiler","exports"],function(){function e(e){this._container=e}function n(e){function t(e){return r.resolve(e)}e.get("resolver");var n=e.get("resolver")||e.get("Resolver")||h,r=n.create({namespace:e});return t.describe=function(e){return r.lookupDescription(e)},t.makeToString=function(e,t){return r.makeToString(e,t)},t.normalize=function(e){return r.normalize?r.normalize(e):e},t.__resolver__=r,t}var r=arguments,i=r[r.length-1],s=r[0]["default"],o=r[1].get,u=r[2].set,a=r[3].runLoadHooks,f=r[4]["default"],l=r[5]["default"],c=r[6]["default"],h=r[7].DefaultResolver,p=r[8].create,d=r[9]["default"],v=(r[10].canInvoke,r[11]["default"]),m=r[12].Controller,g=r[13]["default"],y=r[14]["default"],b=r[15]["default"],w=r[16]["default"],E=r[17]["default"],S=r[18]["default"],x=r[19]["default"],T=r[20]["default"],N=r[21]["default"],C=r[22]["default"],k=r[23]["default"],L=r[24]["default"],A=r[25]["default"],O=s.K;e.deprecate=function(e){return function(){var t=this._container;return t[e].apply(t,arguments)}},e.prototype={_container:null,lookup:e.deprecate("lookup"),resolve:e.deprecate("resolve"),register:e.deprecate("register")};var M=l.extend(c,{rootElement:"body",eventDispatcher:null,customEvents:null,_readinessDeferrals:1,init:function(){if(this.$||(this.$=S),this.__container__=this.buildContainer(),this.Router=this.defaultRouter(),this._super(),this.scheduleInitialize(),s.libraries.registerCoreLibrary("Handlebars",A.VERSION),s.libraries.registerCoreLibrary("jQuery",S().jquery),s.LOG_VERSION){s.LOG_VERSION=!1;var e=g.map(s.libraries,function(e){return o(e,"name.length")}),t=Math.max.apply(this,e);s.libraries.each(function(e){(new Array(t-e.length+1)).join(" ")})}},buildContainer:function(){var e=this.__container__=M.buildContainer(this);return e},defaultRouter:function(){if(this.Router!==!1){var e=this.__container__;return this.Router&&(e.unregister("router:main"),e.register("router:main",this.Router)),e.lookupFactory("router:main")}},scheduleInitialize:function(){var e=this;!this.$||this.$.isReady?d.schedule("actions",e,"_initialize"):this.$().ready(function(){d(e,"_initialize")})},deferReadiness:function(){this._readinessDeferrals++},advanceReadiness:function(){this._readinessDeferrals--,0===this._readinessDeferrals&&d.once(this,this.didBecomeReady)},register:function(){var e=this.__container__;e.register.apply(e,arguments)},inject:function(){var e=this.__container__;e.injection.apply(e,arguments)},initialize:function(){},_initialize:function(){if(!this.isDestroyed){if(this.Router){var e=this.__container__;e.unregister("router:main"),e.register("router:main",this.Router)}return this.runInitializers(),a("application",this),this.advanceReadiness(),this}},reset:function(){function e(){var e=this.__container__.lookup("router:main");e.reset(),d(this.__container__,"destroy"),this.buildContainer(),d.schedule("actions",this,function(){this._initialize()})}this._readinessDeferrals=1,d.join(this,e)},runInitializers:function(){var e,t,n=o(this.constructor,"initializers"),r=this.__container__,i=new f,s=this;for(e in n)t=n[e],i.addEdges(t.name,t.initialize,t.before,t.after);i.topsort(function(e){var t=e.value;t(r,s)})},didBecomeReady:function(){this.setupEventDispatcher(),this.ready(),this.startRouting(),s.testing||(s.Namespace.processAll(),s.BOOTED=!0),this.resolve(this)},setupEventDispatcher:function(){var e=o(this,"customEvents"),t=o(this,"rootElement"),n=this.__container__.lookup("event_dispatcher:main");u(this,"eventDispatcher",n),n.setup(e,t)},startRouting:function(){var e=this.__container__.lookup("router:main");e&&e.startRouting()},handleURL:function(e){var t=this.__container__.lookup("router:main");t.handleURL(e)},ready:O,resolver:null,Resolver:null,willDestroy:function(){s.BOOTED=!1,this.__container__.lookup("router:main").reset(),this.__container__.destroy()},initializer:function(e){this.constructor.initializer(e)}});M.reopenClass({initializers:{},initializer:function(e){void 0!==this.superclass.initializers&&this.superclass.initializers===this.initializers&&this.reopenClass({initializers:p(this.initializers)}),this.initializers[e.name]=e},buildContainer:function(r){var i=new v;return v.defaultContainer=new e(i),i.set=u,i.resolver=n(r),i.normalize=i.resolver.normalize,i.describe=i.resolver.describe,i.makeToString=i.resolver.makeToString,i.optionsForType("component",{singleton:!1}),i.optionsForType("view",{singleton:!1}),i.optionsForType("template",{instantiate:!1}),i.optionsForType("helper",{instantiate:!1}),i.register("application:main",r,{instantiate:!1}),i.register("controller:basic",m,{instantiate:!1}),i.register("controller:object",y,{instantiate:!1}),i.register("controller:array",b,{instantiate:!1}),i.register("route:basic",x,{instantiate:!1}),i.register("event_dispatcher:main",w),i.register("router:main",T),i.injection("router:main","namespace","application:main"),i.register("location:auto",k),i.register("location:hash",N),i.register("location:history",C),i.register("location:none",L),i.injection("controller","target","router:main"),i.injection("controller","namespace","application:main"),i.injection("route","router","router:main"),i.injection("location","rootURL","-location-setting:root-url"),i.register("resolver-for-debugging:main",i.resolver.__resolver__,{instantiate:!1}),i.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main"),i.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main"),t("ember-extension-support"),i.register("container-debug-adapter:main",E),i}}),i["default"]=M}),e("ember-application/system/dag",["exports"],function(){function e(t,n,r,i){var s,o=t.name,u=t.incoming,a=t.incomingNames,f=a.length;if(r||(r={}),i||(i=[]),!r.hasOwnProperty(o)){for(i.push(o),r[o]=!0,s=0;f>s;s++)e(u[a[s]],n,r,i);n(t,i),i.pop()}}function t(){this.names=[],this.vertices={}}var n=arguments,r=n[n.length-1];t.prototype.add=function(e){if(e){if(this.vertices.hasOwnProperty(e))return this.vertices[e];var t={name:e,incoming:{},incomingNames:[],hasOutgoing:!1,value:null};return this.vertices[e]=t,this.names.push(e),t}},t.prototype.map=function(e,t){this.add(e).value=t},t.prototype.addEdge=function(t,n){function r(e,t){if(e.name===n)throw new EmberError("cycle detected: "+n+" <- "+t.join(" <- "))}if(t&&n&&t!==n){var i=this.add(t),s=this.add(n);s.incoming.hasOwnProperty(t)||(e(i,r),i.hasOutgoing=!0,s.incoming[t]=i,s.incomingNames.push(t))}},t.prototype.topsort=function(t){var n,r,i={},s=this.vertices,o=this.names,u=o.length;for(n=0;u>n;n++)r=s[o[n]],r.hasOutgoing||e(r,t,i)},t.prototype.addEdges=function(e,t,n,r){var i;if(this.map(e,t),n)if("string"==typeof n)this.addEdge(e,n);else for(i=0;i<n.length;i++)this.addEdge(e,n[i]);if(r)if("string"==typeof r)this.addEdge(r,e);else for(i=0;i<r.length;i++)this.addEdge(r[i],e)},r["default"]=t}),e("ember-application/system/resolver",["ember-metal/core","ember-metal/property_get","ember-metal/logger","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/system/namespace","ember-handlebars","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=e[2]["default"],s=e[3].classify,o=e[3].capitalize,u=e[3].decamelize,a=e[4]["default"],f=e[5]["default"],l=e[6]["default"],c=a.extend({namespace:null,normalize:function(){throw new Error("Invalid call to `resolver.normalize(fullName)`. Please override the 'normalize' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},resolve:function(){throw new Error("Invalid call to `resolver.resolve(parsedName)`. Please override the 'resolve' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},parseName:function(){throw new Error("Invalid call to `resolver.resolveByType(parsedName)`. Please override the 'resolveByType' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},lookupDescription:function(){throw new Error("Invalid call to `resolver.lookupDescription(fullName)`. Please override the 'lookupDescription' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},makeToString:function(){throw new Error("Invalid call to `resolver.makeToString(factory, fullName)`. Please override the 'makeToString' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},resolveOther:function(){throw new Error("Invalid call to `resolver.resolveOther(parsedName)`. Please override the 'resolveOther' method in subclass of `Ember.Resolver` to prevent falling through to this error.")},_logLookup:function(){throw new Error("Invalid call to `resolver._logLookup(found, parsedName)`. Please override the '_logLookup' method in subclass of `Ember.Resolver` to prevent falling through to this error.")}}),h=a.extend({namespace:null,normalize:function(e){var t=e.split(":",2),n=t[0],r=t[1];if("template"!==n){var i=r;return i.indexOf(".")>-1&&(i=i.replace(/\.(.)/g,function(e){return e.charAt(1).toUpperCase()})),r.indexOf("_")>-1&&(i=i.replace(/_(.)/g,function(e){return e.charAt(1).toUpperCase()})),n+":"+i}return e},resolve:function(e){var t,n=this.parseName(e),r=n.resolveMethodName;if(!n.name||!n.type)throw new TypeError("Invalid fullName: `"+e+"`, must be of the form `type:name` ");return this[r]&&(t=this[r](n)),t||(t=this.resolveOther(n)),n.root&&n.root.LOG_RESOLVER&&this._logLookup(t,n),t},parseName:function(e){var t=e.split(":"),n=t[0],i=t[1],u=i,a=r(this,"namespace"),l=a;if("template"!==n&&-1!==u.indexOf("/")){var c=u.split("/");u=c[c.length-1];var h=o(c.slice(0,-1).join("."));l=f.byName(h)}return{fullName:e,type:n,fullNameWithoutType:i,name:u,root:l,resolveMethodName:"resolve"+s(n)}},lookupDescription:function(e){var t=this.parseName(e);if("template"===t.type)return"template at "+t.fullNameWithoutType.replace(/\./g,"/");var n=t.root+"."+s(t.name);return"model"!==t.type&&(n+=s(t.type)),n},makeToString:function(e){return e.toString()},useRouterNaming:function(e){e.name=e.name.replace(/\./g,"_"),"basic"===e.name&&(e.name="")},resolveTemplate:function(e){var t=e.fullNameWithoutType.replace(/\./g,"/");return n.TEMPLATES[t]?n.TEMPLATES[t]:(t=u(t),n.TEMPLATES[t]?n.TEMPLATES[t]:void 0)},resolveView:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveController:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveRoute:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveModel:function(e){var t=s(e.name),n=r(e.root,t);return n?n:void 0},resolveHelper:function(e){return this.resolveOther(e)||l.helpers[e.fullNameWithoutType]},resolveOther:function(e){var t=s(e.name)+s(e.type),n=r(e.root,t);return n?n:void 0},_logLookup:function(e,t){var n,r;n=e?"[âœ“]":"[ ]",r=t.fullName.length>60?".":(new Array(60-t.fullName.length)).join("."),i.info(n,t.fullName,r,this.lookupDescription(t.fullName))}});t.Resolver=c,t.DefaultResolver=h})}(),function(){e("ember-extension-support/container_debug_adapter",["ember-metal/core","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].typeOf,i=e[2].dasherize,s=e[2].classify,o=e[3]["default"],u=e[4]["default"],a=u.extend({container:null,resolver:null,canCatalogEntriesByType:function(e){return"model"===e||"template"===e?!1:!0},catalogEntriesByType:function(e){var t=n.A(o.NAMESPACES),u=n.A(),a=new RegExp(s(e)+"$");return t.forEach(function(e){if(e!==n)for(var t in e)if(e.hasOwnProperty(t)&&a.test(t)){var s=e[t];"class"===r(s)&&u.push(i(t.replace(a,"")))}}),u}});t["default"]=a}),e("ember-extension-support/data_adapter",["ember-metal/core","ember-metal/property_get","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/native_array","ember-application/system/application","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].get,i=e[2]["default"],s=e[3].dasherize,o=e[4]["default"],u=e[5]["default"],a=e[6].A,f=e[7]["default"],l=u.extend({init:function(){this._super(),this.releaseMethods=a()},container:null,containerDebugAdapter:void 0,attributeLimit:3,releaseMethods:a(),getFilters:function(){return a()},watchModelTypes:function(e,t){var n,r=this.getModelTypes(),i=this,s=a();n=r.map(function(e){var n=e.klass,r=i.wrapModelType(n,e.name);return s.push(i.observeModelType(n,t)),r}),e(n);var o=function(){s.forEach(function(e){e()}),i.releaseMethods.removeObject(o)};return this.releaseMethods.pushObject(o),o},_nameToClass:function(e){return"string"==typeof e&&(e=this.container.lookupFactory("model:"+e)),e},watchRecords:function(e,t,r,i){var s,o=this,u=a(),f=this.getRecords(e),l=function(e){r([e])},c=f.map(function(e){return u.push(o.observeRecord(e,l)),o.wrapRecord(e)}),h=function(e,n,r,s){for(var a=n;n+s>a;a++){var f=e.objectAt(a),c=o.wrapRecord(f);u.push(o.observeRecord(f,l)),t([c])}r&&i(n,r)},p={didChange:h,willChange:n.K};return f.addArrayObserver(o,p),s=function(){u.forEach(function(e){e()}),f.removeArrayObserver(o,p),o.releaseMethods.removeObject(s)},t(c),this.releaseMethods.pushObject(s),s},willDestroy:function(){this._super(),this.releaseMethods.forEach(function(e){e()})},detect:function(){return!1},columnsForType:function(){return a()},observeModelType:function(e,t){var r=this,s=this.getRecords(e),o=function(){t([r.wrapModelType(e)])},u={didChange:function(){i.scheduleOnce("actions",this,o)},willChange:n.K};s.addArrayObserver(this,u);var a=function(){s.removeArrayObserver(r,u)};return a},wrapModelType:function(e,t){var n,i=this.getRecords(e);return n={name:t||e.toString(),count:r(i,"length"),columns:this.columnsForType(e),object:e}},getModelTypes:function(){var e,t=this,n=this.get("containerDebugAdapter");return e=n.canCatalogEntriesByType("model")?n.catalogEntriesByType("model"):this._getObjectsOnNamespaces(),e=a(e).map(function(e){return{klass:t._nameToClass(e),name:e}}),e=a(e).filter(function(e){return t.detect(e.klass)}),a(e)},_getObjectsOnNamespaces:function(){var e=a(o.NAMESPACES),t=a(),n=this;return e.forEach(function(e){for(var r in e)if(e.hasOwnProperty(r)&&n.detect(e[r])){var i=s(r);e instanceof f||!e.toString()||(i=e+"/"+i),t.push(i)}}),t},getRecords:function(){return a()},wrapRecord:function(e){var t={object:e};return t.columnValues=this.getRecordColumnValues(e),t.searchKeywords=this.getRecordKeywords(e),t.filterValues=this.getRecordFilterValues(e),t.color=this.getRecordColor(e),t},getRecordColumnValues:function(){return{}},getRecordKeywords:function(){return a()},getRecordFilterValues:function(){return{}},getRecordColor:function(){return null},observeRecord:function(){return function(){}}});t["default"]=l}),e("ember-extension-support/initializers",[],function(){}),e("ember-extension-support",["ember-metal/core","ember-extension-support/data_adapter","ember-extension-support/container_debug_adapter"],function(){var e=arguments,t=(e[e.length-1],e[0]["default"]),n=e[1]["default"],r=e[2]["default"];t.DataAdapter=n,t.ContainerDebugAdapter=r})}(),function(){e("ember-testing/adapters/adapter",["ember-metal/core","ember-metal/utils","ember-runtime/system/object","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=(e[1].inspect,e[2]["default"]),i=r.extend({asyncStart:n.K,asyncEnd:n.K,exception:function(e){throw e}});t["default"]=i}),e("ember-testing/adapters/qunit",["ember-testing/adapters/adapter","ember-metal/utils","exports"],function(){var e=arguments,t=e[e.length-1],n=e[0]["default"],r=e[1].inspect,i=n.extend({asyncStart:function(){QUnit.stop()},asyncEnd:function(){QUnit.start()},exception:function(e){ok(!1,r(e))}});t["default"]=i}),e("ember-testing/helpers",["ember-metal/property_get","ember-metal/error","ember-metal/run_loop","ember-views/system/jquery","ember-testing/test"],function(){function e(e){var t=e.__container__.lookup("controller:application");return p(t,"currentRouteName")}function t(e){var t=e.__container__.lookup("controller:application");return p(t,"currentPath")}function n(e){var t=e.__container__.lookup("router:main");return p(t,"location").getURL()}function r(e,t){var n=e.__container__.lookup("router:main");return n.location.setURL(t),e._readinessDeferrals>0?(n.initialURL=t,v(e,"advanceReadiness"),delete n.initialURL):v(e,e.handleURL,t),c(e)}function i(e,t,n){var r=a(e,t,n);if(v(r,"mousedown"),r.is(":input")){var i=r.prop("type");"checkbox"!==i&&"radio"!==i&&"hidden"!==i&&v(r,function(){!document.hasFocus||document.hasFocus()?this.focus():this.trigger("focusin")})}return v(r,"mouseup"),v(r,"click"),c(e)}function s(e,t,n,r,i){3===arguments.length&&(r=n,n=null),"undefined"==typeof i&&(i={});var s=a(e,t,n),o=m.Event(r,i);return v(s,"trigger",o),c(e)}function o(e,t,n,r,i){return"undefined"==typeof i&&(i=r,r=n,n=null),s(e,t,n,r,{keyCode:i,which:i})}function u(e,t,n,r){var i;return"undefined"==typeof r&&(r=n,n=null),i=a(e,t,n),v(function(){i.val(r).change()}),c(e)}function a(e,t,n){var r=f(e,t,n);if(0===r.length)throw new d("Element "+t+" not found.");return r}function f(e,t,n){var r;return n=n||p(e,"rootElement"),r=e.$(t,n)}function l(e,t){return c(e,t(e))}function c(e,t){return g.promise(function(n){1===++w&&g.adapter.asyncStart();var r=setInterval(function(){var i=!!e.__container__.lookup("router:main").router.activeTransition;i||g.pendingAjaxRequests||v.hasScheduledTimers()||v.currentRunLoop||g.waiters&&g.waiters.any(function(e){var t=e[0],n=e[1];return!n.call(t)})||(clearInterval(r),0===--w&&g.adapter.asyncEnd(),v(null,n,t))},10)})}var h=arguments,p=(h[h.length-1],h[0].get),d=h[1]["default"],v=h[2]["default"],m=h[3]["default"],g=h[4]["default"],y=g.registerHelper,b=g.registerAsyncHelper,w=0;b("visit",r),b("click",i),b("keyEvent",o),b("fillIn",u),y("find",f),y("findWithAssert",a),b("wait",c),b("andThen",l),y("currentRouteName",e),y("currentPath",t),y("currentURL",n),b("triggerEvent",s)}),e("ember-testing/initializers",["ember-runtime/system/lazy_load"],function(){var e=arguments,t=(e[e.length-1],e[0].onLoad),n="deferReadiness in `testing` mode";t("Ember.Application",function(e){e.initializers[n]||e.initializer({name:n,initialize:function(e,t){t.testing&&t.deferReadiness()}})})}),e("ember-testing",["ember-metal/core","ember-testing/initializers","ember-testing/support","ember-testing/setup_for_testing","ember-testing/test","ember-testing/adapters/adapter","ember-testing/adapters/qunit","ember-testing/helpers"],function(){var e=arguments,t=(e[e.length-1],e[0]["default"]),n=e[3]["default"],r=e[4]["default"],i=e[5]["default"],s=e[6]["default"];t.Test=r,t.Test.Adapter=i,t.Test.QUnitAdapter=s,t.setupForTesting=n}),e("ember-testing/setup_for_testing",["ember-metal/core","ember-testing/adapters/qunit","ember-views/system/jquery","exports"],function(){function e(){i.pendingAjaxRequests++}function n(){i.pendingAjaxRequests--}function r(){i||(i=t("ember-testing/test")["default"]),u.testing=!0,i.adapter||(i.adapter=a.create()),i.pendingAjaxRequests||(i.pendingAjaxRequests=0),f(document).off("ajaxSend",e),f(document).off("ajaxComplete",n),f(document).on("ajaxSend",e),f(document).on("ajaxComplete",n)}var i,s=arguments,o=s[s.length-1],u=s[0]["default"],a=s[1]["default"],f=s[2]["default"];o["default"]=r}),e("ember-testing/support",["ember-metal/core","ember-views/system/jquery"],function(){function e(e){r('<input type="checkbox">').css({position:"absolute",left:"-1000px",top:"-1000px"}).appendTo("body").on("click",e).trigger("click").remove()}var t=arguments,n=(t[t.length-1],t[0]["default"],t[1]["default"]),r=n;r(function(){e(function(){this.checked||r.event.special.click||(r.event.special.click={trigger:function(){return r.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}})}),e(function(){})})}),e("ember-testing/test",["ember-metal/core","ember-metal/run_loop","ember-metal/platform","ember-runtime/compare","ember-runtime/ext/rsvp","ember-testing/setup_for_testing","ember-application/system/application","exports"],function(){function e(e,n){var r=d[n].method,i=d[n].meta;return function(){var n=p.call(arguments),s=m.lastPromise;return n.unshift(e),i.wait?(s?t(function(){s=m.resolve(s).then(function(){return r.apply(e,n)})}):s=r.apply(e,n),s):r.apply(e,n)}}function t(e){u.currentRunLoop?e():u(e)}function n(e,t,n,r){e[t]=function(){var e=arguments;return r?n.apply(this,e):this.then(function(){return n.apply(this,e)})}}function r(e,n){var r,i;return m.lastPromise=null,r=e(n),i=m.lastPromise,r&&r instanceof m.Promise||!i?r:(t(function(){i=m.resolve(i).then(function(){return r})}),i)}var i=arguments,s=i[i.length-1],o=i[0]["default"],u=i[1]["default"],a=i[2].create,f=i[3]["default"],l=i[4]["default"],c=i[5]["default"],h=i[6]["default"],p=[].slice,d={},v=[],m={registerHelper:function(e,t){d[e]={method:t,meta:{wait:!1}}},registerAsyncHelper:function(e,t){d[e]={method:t,meta:{wait:!0}}},unregisterHelper:function(e){delete d[e],delete m.Promise.prototype[e]},onInjectHelpers:function(e){v.push(e)},promise:function(e){return new m.Promise(e)},adapter:null,resolve:function(e){return m.promise(function(t){return t(e)})},registerWaiter:function(e,t){1===arguments.length&&(t=e,e=null),this.waiters||(this.waiters=o.A()),this.waiters.push([e,t])},unregisterWaiter:function(e,t){var n;this.waiters&&(1===arguments.length&&(t=e,e=null),n=[e,t],this.waiters=o.A(this.waiters.filter(function(e){return 0!==f(e,n)})))}};h.reopen({testHelpers:{},originalMethods:{},testing:!1,setupForTesting:function(){c(),this.testing=!0,this.Router.reopen({location:"none"})},helperContainer:window,injectTestHelpers:function(t){t&&(this.helperContainer=t),this.testHelpers={};for(var r in d)this.originalMethods[r]=this.helperContainer[r],this.testHelpers[r]=this.helperContainer[r]=e(this,r),n(m.Promise.prototype,r,e(this,r),d[r].meta.wait);for(var i=0,s=v.length;s>i;i++)v[i](this)},removeTestHelpers:function(){for(var e in d)this.helperContainer[e]=this.originalMethods[e],delete this.testHelpers[e],delete this.originalMethods[e]}}),m.Promise=function(){l.Promise.apply(this,arguments),m.lastPromise=this},m.Promise.prototype=a(l.Promise.prototype),m.Promise.prototype.constructor=m.Promise;var g=l.Promise.prototype.then;m.Promise.prototype.then=function(e,t){return g.call(this,function(t){return r(e,t)},t)},s["default"]=m})}(),e("container/container",["container/inheriting_dict","exports"],function(){function e(e){this.parent=e,this.children=[],this.resolver=e&&e.resolver||function(){},this.registry=new b(e&&e.registry),this.cache=new b(e&&e.cache),this.factoryCache=new b(e&&e.factoryCache),this.resolveCache=new b(e&&e.resolveCache),this.typeInjections=new b(e&&e.typeInjections),this.injections={},this.factoryTypeInjections=new b(e&&e.factoryTypeInjections),this.factoryInjections={},this._options=new b(e&&e._options),this._typeOptions=new b(e&&e._typeOptions)}function t(e,t){return e.cache.has(t)?!0:!!e.resolve(t)}function n(e,t,n){if(n=n||{},e.cache.has(t)&&n.singleton!==!1)return e.cache.get(t);var r=c(e,t);return void 0!==r?(s(e,t)&&n.singleton!==!1&&e.cache.set(t,r),r):void 0}function r(e){throw new Error(e+" is not currently supported on child containers")}function s(e,t){var n=u(e,t,"singleton");return n!==!1}function o(e,t){var r={};if(!t)return r;for(var i,s,o=0,u=t.length;u>o;o++){if(i=t[o],s=n(e,i.fullName),void 0===s)throw new Error("Attempting to inject an unknown injection: `"+i.fullName+"`");r[i.property]=s}return r}function u(e,t,n){var r=e._options.get(t);if(r&&void 0!==r[n])return r[n];var i=t.split(":")[0];return r=e._typeOptions.get(i),r?r[n]:void 0}function a(e,t){var n,r=t,s=e.resolve(r),o=e.factoryCache,u=t.split(":")[0];if(void 0!==s){if(o.has(t))return o.get(t);if(!s||"function"!=typeof s.extend||!i.MODEL_FACTORY_INJECTIONS&&"model"===u)return s;var a=f(e,t),c=l(e,t);return c._toString=e.makeToString(s,t),n=s.extend(a),n.reopenClass(c),o.set(t,n),n}}function f(e,t){var n=t.split(":"),r=n[0],i=[];return i=i.concat(e.typeInjections.get(r)||[]),i=i.concat(e.injections[t]||[]),i=o(e,i),i._debugContainerKey=t,i.container=e,i}function l(e,t){var n=t.split(":"),r=n[0],i=[];return i=i.concat(e.factoryTypeInjections.get(r)||[]),i=i.concat(e.factoryInjections[t]||[]),i=o(e,i),i._debugContainerKey=t,i}function c(e,t){var n=a(e,t);return u(e,t,"instantiate")===!1?n:n?"function"==typeof n.extend?n.create():n.create(f(e,t)):void 0}function h(e,t){e.cache.eachLocal(function(n,r){u(e,n,"instantiate")!==!1&&t(r)})}function p(e){e.cache.eachLocal(function(t,n){u(e,t,"instantiate")!==!1&&n.destroy()}),e.cache.dict={}}function d(e,t,n,r){var i=e.get(t);i||(i=[],e.set(t,i)),i.push({property:n,fullName:r})}function v(e){if(!w.test(e))throw new TypeError("Invalid Fullname, expected: `type:name` got: "+e)}function m(e,t,n,r){var i=e[t]=e[t]||[];i.push({property:n,fullName:r})}var g=arguments,y=g[g.length-1],b=g[0]["default"];e.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var t=new e(this);return this.children.push(t),t},set:function(e,t,n){e[t]=n},register:function(e,t,n){if(v(e),void 0===t)throw new TypeError("Attempting to register an unknown factory: `"+e+"`");var r=this.normalize(e);if(this.cache.has(r))throw new Error("Cannot re-register: `"+e+"`, as it has already been looked up.");this.registry.set(r,t),this._options.set(r,n||{})},unregister:function(e){v(e);var t=this.normalize(e);this.registry.remove(t),this.cache.remove(t),this.factoryCache.remove(t),this.resolveCache.remove(t),this._options.remove(t)},resolve:function(e){v(e);var t=this.normalize(e),n=this.resolveCache.get(t);if(n)return n;var r=this.resolver(t)||this.registry.get(t);return this.resolveCache.set(t,r),r},describe:function(e){return e},normalize:function(e){return e},makeToString:function(e){return e.toString()},lookup:function(e,t){return v(e),n(this,this.normalize(e),t)},lookupFactory:function(e){return v(e),a(this,this.normalize(e))},has:function(e){return v(e),t(this,this.normalize(e))},optionsForType:function(e,t){this.parent&&r("optionsForType"),this._typeOptions.set(e,t)},options:function(e,t){this.optionsForType(e,t)},typeInjection:function(e,t,n){v(n),this.parent&&r("typeInjection");var i=n.split(":")[0];if(i===e)throw new Error("Cannot inject a `"+n+"` on other "+e+"(s). Register the `"+n+"` as a different type and perform the typeInjection.");d(this.typeInjections,e,t,n)},injection:function(e,t,n){this.parent&&r("injection"),v(n);var i=this.normalize(n);if(-1===e.indexOf(":"))return this.typeInjection(e,t,i);v(e);var s=this.normalize(e);m(this.injections,s,t,i)},factoryTypeInjection:function(e,t,n){this.parent&&r("factoryTypeInjection"),d(this.factoryTypeInjections,e,t,this.normalize(n))},factoryInjection:function(e,t,n){this.parent&&r("injection");var i=this.normalize(e),s=this.normalize(n);return v(n),-1===e.indexOf(":")?this.factoryTypeInjection(i,t,s):(v(e),m(this.factoryInjections,i,t,s),void 0)},destroy:function(){for(var e=0,t=this.children.length;t>e;e++)this.children[e].destroy();this.children=[],h(this,function(e){e.destroy()}),this.parent=void 0,this.isDestroyed=!0},reset:function(){for(var e=0,t=this.children.length;t>e;e++)p(this.children[e]);p(this)}};var w=/^[^:]+.+:[^:]+$/;y["default"]=e}),e("ember-runtime/ext/rsvp",["ember-metal/core","ember-metal/logger","exports"],function(){var e,n=arguments,r=n[n.length-1],i=n[0]["default"],s=n[1]["default"],o=t("rsvp"),u="ember-testing/test";o.onerrorDefault=function(n){if(n instanceof Error)if(i.testing){if(!e&&i.__loader.registry[u]&&(e=t(u)["default"]),!e||!e.adapter)throw n;e.adapter.exception(n)}else i.onerror?i.onerror(n):s.error(n.stack)},o.on("error",o.onerrorDefault),r["default"]=o}),e("ember-runtime/system/container",["ember-metal/property_set","exports"],function(){var e=arguments,n=e[e.length-1],r=e[0]["default"],i=t("container")["default"];i.set=r,n["default"]=i}),function(){function e(e){return function(){throw new i.Error(e)}}function n(t){var n=" has been moved into a plugin: https://github.com/emberjs/ember-states";return{extend:e(t+n),create:e(t+n)}}t("ember-metal"),t("ember-runtime"),t("ember-handlebars"),t("ember-views"),t("ember-routing"),t("ember-application"),t("ember-extension-support"),i.__loader.registry["ember-testing"]&&t("ember-testing"),i.StateManager=n("Ember.StateManager"),i.State=n("Ember.State")}()}(),"undefined"==typeof location||"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||Ember.Logger.warn("You are running a production build of Ember on localhost and won't receive detailed error messages. If you want full error messages please use the non-minified build provided on the Ember website."),define("ember",["jquery","handlebars"],function(){});var io="undefined"==typeof module?{}:module.exports;(function(){(function(e,t){var n=e;n.version="0.9.6",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(e,r){var i=n.util.parseUri(e),s,o;t&&t.location&&(i.protocol=i.protocol||t.location.protocol.slice(0,-1),i.host=i.host||(t.document?t.document.domain:t.location.hostname),i.port=i.port||t.location.port),s=n.util.uniqueUri(i);var u={host:i.host,secure:"https"==i.protocol,port:i.port||("https"==i.protocol?443:80),query:i.query||""};n.util.merge(u,r);if(u["force new connection"]||!n.sockets[s])o=new n.Socket(u);return!u["force new connection"]&&o&&(n.sockets[s]=o),o=o||n.sockets[s],o.of(i.path.length>1?i.path:"")}})("object"==typeof module?module.exports:this.io={},this),function(e,t){var n=e.util={},r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(e){var t=r.exec(e||""),n={},s=14;while(s--)n[i[s]]=t[s]||"";return n},n.uniqueUri=function(e){var n=e.protocol,r=e.host,i=e.port;return"document"in t?(r=r||document.domain,i=i||(n=="https"&&document.location.protocol!=="https:"?443:document.location.port)):(r=r||"localhost",!i&&n=="https"&&(i=443)),(n||"http")+"://"+r+":"+(i||80)},n.query=function(e,t){var r=n.chunkQuery(e||""),i=[];n.merge(r,n.chunkQuery(t||""));for(var s in r)r.hasOwnProperty(s)&&i.push(s+"="+r[s]);return i.length?"?"+i.join("&"):""},n.chunkQuery=function(e){var t={},n=e.split("&"),r=0,i=n.length,s;for(;r<i;++r)s=n[r].split("="),s[0]&&(t[s[0]]=s[1]);return t};var s=!1;n.load=function(e){if("document"in t&&document.readyState==="complete"||s)return e();n.on(t,"load",e,!1)},n.on=function(e,t,n,r){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,r)},n.request=function(e){if(e&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!e||n.ua.hasCORS))return new XMLHttpRequest;if(!e)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}return null},"undefined"!=typeof window&&n.load(function(){s=!0}),n.defer=function(e){if(!n.ua.webkit||"undefined"!=typeof importScripts)return e();n.load(function(){setTimeout(e,100)})},n.merge=function(t,r,i,s){var o=s||[],u=typeof i=="undefined"?2:i,a;for(a in r)r.hasOwnProperty(a)&&n.indexOf(o,a)<0&&(typeof t[a]!="object"||!u?(t[a]=r[a],o.push(r[a])):n.merge(t[a],r[a],u-1,o));return t},n.mixin=function(e,t){n.merge(e.prototype,t.prototype)},n.inherit=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},n.intersect=function(e,t){var r=[],i=e.length>t.length?e:t,s=e.length>t.length?t:e;for(var o=0,u=s.length;o<u;o++)~n.indexOf(i,s[o])&&r.push(s[o]);return r},n.indexOf=function(e,t,n){for(var r=e.length,n=n<0?n+r<0?0:n+r:n||0;n<r&&e[n]!==t;n++);return r<=n?-1:n},n.toArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var e=new XMLHttpRequest}catch(t){return!1}return e.withCredentials!=undefined}(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),n.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(e,t){function n(){}e.EventEmitter=n,n.prototype.on=function(e,n){return this.$events||(this.$events={}),this.$events[e]?t.util.isArray(this.$events[e])?this.$events[e].push(n):this.$events[e]=[this.$events[e],n]:this.$events[e]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){function r(){n.removeListener(e,r),t.apply(this,arguments)}var n=this;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,n){if(this.$events&&this.$events[e]){var r=this.$events[e];if(t.util.isArray(r)){var i=-1;for(var s=0,o=r.length;s<o;s++)if(r[s]===n||r[s].listener&&r[s].listener===n){i=s;break}if(i<0)return this;r.splice(i,1),r.length||delete this.$events[e]}else(r===n||r.listener&&r.listener===n)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return this.$events&&this.$events[e]&&(this.$events[e]=null),this},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),t.util.isArray(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var n=this.$events[e];if(!n)return!1;var r=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,r);else{if(!t.util.isArray(n))return!1;var i=n.slice();for(var s=0,o=i.length;s<o;s++)i[s].apply(this,r)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){function f(e){return e<10?"0"+e:e}function date(e,t){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a instanceof Date&&(a=date(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")},JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,typeof JSON!="undefined"?JSON:undefined),function(e,t){var n=e.parser={},r=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],i=n.reasons=["transport not supported","client not handshaken","unauthorized"],s=n.advice=["reconnect"],o=t.JSON,u=t.util.indexOf;n.encodePacket=function(e){var t=u(r,e.type),n=e.id||"",a=e.endpoint||"",f=e.ack,l=null;switch(e.type){case"error":var c=e.reason?u(i,e.reason):"",h=e.advice?u(s,e.advice):"";if(c!==""||h!=="")l=c+(h!==""?"+"+h:"");break;case"message":e.data!==""&&(l=e.data);break;case"event":var p={name:e.name};e.args&&e.args.length&&(p.args=e.args),l=o.stringify(p);break;case"json":l=o.stringify(e.data);break;case"connect":e.qs&&(l=e.qs);break;case"ack":l=e.ackId+(e.args&&e.args.length?"+"+o.stringify(e.args):"")}var d=[t,n+(f=="data"?"+":""),a];return l!==null&&l!==undefined&&d.push(l),d.join(":")},n.encodePayload=function(e){var t="";if(e.length==1)return e[0];for(var n=0,r=e.length;n<r;n++){var i=e[n];t+="�"+i.length+"�"+e[n]}return t};var a=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(e){var t=e.match(a);if(!t)return{};var n=t[2]||"",e=t[5]||"",u={type:r[t[1]],endpoint:t[4]||""};n&&(u.id=n,t[3]?u.ack="data":u.ack=!0);switch(u.type){case"error":var t=e.split("+");u.reason=i[t[0]]||"",u.advice=s[t[1]]||"";break;case"message":u.data=e||"";break;case"event":try{var f=o.parse(e);u.name=f.name,u.args=f.args}catch(l){}u.args=u.args||[];break;case"json":try{u.data=o.parse(e)}catch(l){}break;case"connect":u.qs=e||"";break;case"ack":var t=e.match(/^([0-9]+)(\+)?(.*)/);if(t){u.ackId=t[1],u.args=[];if(t[3])try{u.args=t[3]?o.parse(t[3]):[]}catch(l){}}break;case"disconnect":case"heartbeat":}return u},n.decodePayload=function(e){if(e.charAt(0)=="�"){var t=[];for(var r=1,i="";r<e.length;r++)e.charAt(r)=="�"?(t.push(n.decodePacket(e.substr(r+1).substr(0,i))),r+=Number(i)+1,i=""):i+=e.charAt(r);return t}return[n.decodePacket(e)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t){function n(e,t){this.socket=e,this.sessid=t}e.Transport=n,t.util.mixin(n,t.EventEmitter),n.prototype.onData=function(e){this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(e!==""){var n=t.parser.decodePayload(e);if(n&&n.length)for(var r=0,i=n.length;r<i;r++)this.onPacket(n[r])}return this},n.prototype.onPacket=function(e){return this.socket.setHeartbeatTimeout(),e.type=="heartbeat"?this.onHeartbeat():(e.type=="connect"&&e.endpoint==""&&this.onConnect(),e.type=="error"&&e.advice=="reconnect"&&(this.open=!1),this.socket.onPacket(e),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var e=this;this.closeTimeout=setTimeout(function(){e.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.close&&this.open&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(e){this.send(t.parser.encodePacket(e))},n.prototype.onHeartbeat=function(e){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.open=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){var e=this;this.open=!1,this.socket.onClose(),this.onDisconnect()},n.prototype.prepareUrl=function(){var e=this.socket.options;return this.scheme()+"://"+e.host+":"+e.port+"/"+e.resource+"/"+t.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(e,t){t.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(e){this.options={port:80,secure:!1,document:"document"in n?document:!1,resource:"socket.io",transports:t.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!0,"auto connect":!0,"flash policy port":10843},t.util.merge(this.options,e),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||t.util.ua.hasCORS)){var r=this;t.util.on(n,"unload",function(){r.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function i(){}e.Socket=r,t.util.mixin(r,t.EventEmitter),r.prototype.of=function(e){return this.namespaces[e]||(this.namespaces[e]=new t.SocketNamespace(this,e),e!==""&&this.namespaces[e].packet({type:"connect"})),this.namespaces[e]},r.prototype.publish=function(){this.emit.apply(this,arguments);var e;for(var t in this.namespaces)this.namespaces.hasOwnProperty(t)&&(e=this.of(t),e.$emit.apply(e,arguments))},r.prototype.handshake=function(e){function s(t){t instanceof Error?(n.connecting=!1,n.onError(t.message)):e.apply(null,t.split(":"))}var n=this,r=this.options,o=["http"+(r.secure?"s":"")+":/",r.host+":"+r.port,r.resource,t.protocol,t.util.query(this.options.query,"t="+ +(new Date))].join("/");if(this.isXDomain()&&!t.util.ua.hasCORS){var u=document.getElementsByTagName("script")[0],a=document.createElement("script");a.src=o+"&jsonp="+t.j.length,u.parentNode.insertBefore(a,u),t.j.push(function(e){s(e),a.parentNode.removeChild(a)})}else{var f=t.util.request();f.open("GET",o,!0),f.withCredentials=!0,f.onreadystatechange=function(){f.readyState==4&&(f.onreadystatechange=i,f.status==200?s(f.responseText):(n.connecting=!1,!n.reconnecting&&n.onError(f.responseText)))},f.send(null)}},r.prototype.getTransport=function(e){var n=e||this.transports,r;for(var i=0,s;s=n[i];i++)if(t.Transport[s]&&t.Transport[s].check(this)&&(!this.isXDomain()||t.Transport[s].xdomainCheck()))return new t.Transport[s](this,this.sessionid);return null},r.prototype.connect=function(e){if(this.connecting)return this;var n=this;return n.connecting=!0,this.handshake(function(r,i,s,o){function u(e){n.transport&&n.transport.clearTimeouts(),n.transport=n.getTransport(e);if(!n.transport)return n.publish("connect_failed");n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){if(!n.connected){n.connecting=!1;if(n.options["try multiple transports"]){n.remainingTransports||(n.remainingTransports=n.transports.slice(0));var e=n.remainingTransports;while(e.length>0&&e.splice(0,1)[0]!=n.transport.name);e.length?u(e):n.publish("connect_failed")}}},n.options["connect timeout"]))})}n.sessionid=r,n.closeTimeout=s*1e3,n.heartbeatTimeout=i*1e3,n.transports=o?t.util.intersect(o.split(","),n.options.transports):n.options.transports,n.setHeartbeatTimeout(),u(n.transports),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),e&&typeof e=="function"&&e()})}),this},r.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);var e=this;this.heartbeatTimeoutTimer=setTimeout(function(){e.transport.onClose()},this.heartbeatTimeout)},r.prototype.packet=function(e){return this.connected&&!this.doBuffer?this.transport.packet(e):this.buffer.push(e),this},r.prototype.setBuffer=function(e){this.doBuffer=e,!e&&this.connected&&this.buffer.length&&(this.transport.payload(this.buffer),this.buffer=[])},r.prototype.disconnect=function(){if(this.connected||this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this},r.prototype.disconnectSync=function(){var e=t.util.request(),n=this.resource+"/"+t.protocol+"/"+this.sessionid;e.open("GET",n,!0),this.onDisconnect("booted")},r.prototype.isXDomain=function(){var e=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=e},r.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},r.prototype.onOpen=function(){this.open=!0},r.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},r.prototype.onPacket=function(e){this.of(e.endpoint).onPacket(e)},r.prototype.onError=function(e){e&&e.advice&&e.advice==="reconnect"&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",e&&e.reason?e.reason:e)},r.prototype.onDisconnect=function(e){var t=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1;if(t||n)this.transport.close(),this.transport.clearTimeouts(),t&&(this.publish("disconnect",e),"booted"!=e&&this.options.reconnect&&!this.reconnecting&&this.reconnect())},r.prototype.reconnect=function(){function i(){if(e.connected){for(var t in e.namespaces)e.namespaces.hasOwnProperty(t)&&""!==t&&e.namespaces[t].packet({type:"connect"});e.publish("reconnect",e.transport.name,e.reconnectionAttempts)}clearTimeout(e.reconnectionTimer),e.removeListener("connect_failed",s),e.removeListener("connect",s),e.reconnecting=!1,delete e.reconnectionAttempts,delete e.reconnectionDelay,delete e.reconnectionTimer,delete e.redoTransports,e.options["try multiple transports"]=n}function s(){if(!e.reconnecting)return;if(e.connected)return i();if(e.connecting&&e.reconnecting)return e.reconnectionTimer=setTimeout(s,1e3);e.reconnectionAttempts++>=t?e.redoTransports?(e.publish("reconnect_failed"),i()):(e.on("connect_failed",s),e.options["try multiple transports"]=!0,e.transport=e.getTransport(),e.redoTransports=!0,e.connect()):(e.reconnectionDelay<r&&(e.reconnectionDelay*=2),e.connect(),e.publish("reconnecting",e.reconnectionDelay,e.reconnectionAttempts),e.reconnectionTimer=setTimeout(s,e.reconnectionDelay))}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var e=this,t=this.options["max reconnection attempts"],n=this.options["try multiple transports"],r=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(s,this.reconnectionDelay),this.on("connect",s)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(e,t){this.socket=e,this.name=t||"",this.flags={},this.json=new r(this,"json"),this.ackPackets=0,this.acks={}}function r(e,t){this.namespace=e,this.name=t}e.SocketNamespace=n,t.util.mixin(n,t.EventEmitter),n.prototype.$emit=t.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(e){return e.endpoint=this.name,this.socket.packet(e),this.flags={},this},n.prototype.send=function(e,t){var n={type:this.flags.json?"json":"message",data:e};return"function"==typeof t&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=t),this.packet(n)},n.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[t.length-1],r={type:"event",name:e};return"function"==typeof n&&(r.id=++this.ackPackets,r.ack="data",this.acks[r.id]=n,t=t.slice(0,t.length-1)),r.args=t,this.packet(r)},n.prototype.disconnect=function(){return this.name===""?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(e){function r(){n.packet({type:"ack",args:t.util.toArray(arguments),ackId:e.id})}var n=this;switch(e.type){case"connect":this.$emit("connect");break;case"disconnect":this.name===""?this.socket.onDisconnect(e.reason||"booted"):this.$emit("disconnect",e.reason);break;case"message":case"json":var i=["message",e.data];e.ack=="data"?i.push(r):e.ack&&this.packet({type:"ack",ackId:e.id}),this.$emit.apply(this,i);break;case"event":var i=[e.name].concat(e.args);e.ack=="data"&&i.push(r),this.$emit.apply(this,i);break;case"ack":this.acks[e.ackId]&&(this.acks[e.ackId].apply(this,e.args),delete this.acks[e.ackId]);break;case"error":e.advice?this.socket.onError(e):e.reason=="unauthorized"?this.$emit("connect_failed",e.reason):this.$emit("error",e.reason)}},r.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},r.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(e){t.Transport.apply(this,arguments)}e.websocket=r,t.util.inherit(r,t.Transport),r.prototype.name="websocket",r.prototype.open=function(){var e=t.util.query(this.socket.options.query),r=this,i;return i||(i=n.MozWebSocket||n.WebSocket),this.websocket=new i(this.prepareUrl()+e),this.websocket.onopen=function(){r.onOpen(),r.socket.setBuffer(!1)},this.websocket.onmessage=function(e){r.onData(e.data)},this.websocket.onclose=function(){r.onClose(),r.socket.setBuffer(!0)},this.websocket.onerror=function(e){r.onError(e)},this},t.util.ua.iDevice?r.prototype.send=function(e){var t=this;return setTimeout(function(){t.websocket.send(e)},0),this}:r.prototype.send=function(e){return this.websocket.send(e),this},r.prototype.payload=function(e){for(var t=0,n=e.length;t<n;t++)this.packet(e[t]);return this},r.prototype.close=function(){return this.websocket.close(),this},r.prototype.onError=function(e){this.socket.onError(e)},r.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},r.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},r.xdomainCheck=function(){return!0},t.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(){t.Transport.websocket.apply(this,arguments)}e.flashsocket=n,t.util.inherit(n,t.Transport.websocket),n.prototype.name="flashsocket",n.prototype.open=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t.Transport.websocket.prototype.open.apply(e,n)}),this},n.prototype.send=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t.Transport.websocket.prototype.send.apply(e,n)}),this},n.prototype.close=function(){return WebSocket.__tasks.length=0,t.Transport.websocket.prototype.close.call(this),this},n.prototype.ready=function(e,r){function i(){var t=e.options,i=t["flash policy port"],o=["http"+(t.secure?"s":"")+":/",t.host+":"+t.port,t.resource,"static/flashsocket","WebSocketMain"+(e.isXDomain()?"Insecure":"")+".swf"];n.loaded||(typeof WEB_SOCKET_SWF_LOCATION=="undefined"&&(WEB_SOCKET_SWF_LOCATION=o.join("/")),i!==843&&WebSocket.loadFlashPolicyFile("xmlsocket://"+t.host+":"+i),WebSocket.__initialize(),n.loaded=!0),r.call(s)}var s=this;if(document.body)return i();t.util.load(i)},n.check=function(){return typeof WebSocket!="undefined"&&"__initialize"in WebSocket&&!!swfobject?swfobject.getFlashPlayerVersion().major>=10:!1},n.xdomainCheck=function(){return!0},typeof window!="undefined"&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0),t.transports.push("flashsocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window)var swfobject=function(){function C(){if(b)return;try{var e=a.getElementsByTagName("body")[0].appendChild(U("span"));e.parentNode.removeChild(e)}catch(t){return}b=!0;var n=c.length;for(var r=0;r<n;r++)c[r]()}function k(e){b?e():c[c.length]=e}function L(t){if(typeof u.addEventListener!=e)u.addEventListener("load",t,!1);else if(typeof a.addEventListener!=e)a.addEventListener("load",t,!1);else if(typeof u.attachEvent!=e)z(u,"onload",t);else if(typeof u.onload=="function"){var n=u.onload;u.onload=function(){n(),t()}}else u.onload=t}function A(){l?O():M()}function O(){var n=a.getElementsByTagName("body")[0],r=U(t);r.setAttribute("type",i);var s=n.appendChild(r);if(s){var o=0;(function(){if(typeof s.GetVariable!=e){var t=s.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),T.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(o<10){o++,setTimeout(arguments.callee,10);return}n.removeChild(r),s=null,M()})()}else M()}function M(){var t=h.length;if(t>0)for(var n=0;n<t;n++){var r=h[n].id,i=h[n].callbackFn,s={success:!1,id:r};if(T.pv[0]>0){var o=R(r);if(o)if(W(h[n].swfVersion)&&!(T.wk&&T.wk<312))V(r,!0),i&&(s.success=!0,s.ref=_(r),i(s));else if(h[n].expressInstall&&D()){var u={};u.data=h[n].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));var a={},f=o.getElementsByTagName("param"),l=f.length;for(var c=0;c<l;c++)f[c].getAttribute("name").toLowerCase()!="movie"&&(a[f[c].getAttribute("name")]=f[c].getAttribute("value"));P(u,a,r,i)}else H(o),i&&i(s)}else{V(r,!0);if(i){var p=_(r);p&&typeof p.SetVariable!=e&&(s.success=!0,s.ref=p),i(s)}}}}function _(n){var r=null,i=R(n);if(i&&i.nodeName=="OBJECT")if(typeof i.SetVariable!=e)r=i;else{var s=i.getElementsByTagName(t)[0];s&&(r=s)}return r}function D(){return!w&&W("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function P(t,n,r,i){w=!0,g=i||null,y={success:!1,id:r};var o=R(r);if(o){o.nodeName=="OBJECT"?(v=B(o),m=null):(v=o,m=r),t.id=s;if(typeof t.width==e||!/%$/.test(t.width)&&parseInt(t.width,10)<310)t.width="310";if(typeof t.height==e||!/%$/.test(t.height)&&parseInt(t.height,10)<137)t.height="137";a.title=a.title.slice(0,47)+" - Flash Player Installation";var f=T.ie&&T.win?["Active"].concat("").join("X"):"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+a.title;typeof n.flashvars!=e?n.flashvars+="&"+l:n.flashvars=l;if(T.ie&&T.win&&o.readyState!=4){var c=U("div");r+="SWFObjectNew",c.setAttribute("id",r),o.parentNode.insertBefore(c,o),o.style.display="none",function(){o.readyState==4?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}j(t,n,r)}}function H(e){if(T.ie&&T.win&&e.readyState!=4){var t=U("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(B(e),t),e.style.display="none",function(){e.readyState==4?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(B(e),e)}function B(e){var n=U("div");if(T.win&&T.ie)n.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++)(i[o].nodeType!=1||i[o].nodeName!="PARAM")&&i[o].nodeType!=8&&n.appendChild(i[o].cloneNode(!0))}}}return n}function j(n,r,s){var o,u=R(s);if(T.wk&&T.wk<312)return o;if(u){typeof n.id==e&&(n.id=s);if(T.ie&&T.win){var a="";for(var f in n)n[f]!=Object.prototype[f]&&(f.toLowerCase()=="data"?r.movie=n[f]:f.toLowerCase()=="styleclass"?a+=' class="'+n[f]+'"':f.toLowerCase()!="classid"&&(a+=" "+f+'="'+n[f]+'"'));var l="";for(var c in r)r[c]!=Object.prototype[c]&&(l+='<param name="'+c+'" value="'+r[c]+'" />');u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>",p[p.length]=n.id,o=R(n.id)}else{var h=U(t);h.setAttribute("type",i);for(var d in n)n[d]!=Object.prototype[d]&&(d.toLowerCase()=="styleclass"?h.setAttribute("class",n[d]):d.toLowerCase()!="classid"&&h.setAttribute(d,n[d]));for(var v in r)r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"&&F(h,v,r[v]);u.parentNode.replaceChild(h,u),o=h}}return o}function F(e,t,n){var r=U("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function I(e){var t=R(e);t&&t.nodeName=="OBJECT"&&(T.ie&&T.win?(t.style.display="none",function(){t.readyState==4?q(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function q(e){var t=R(e);if(t){for(var n in t)typeof t[n]=="function"&&(t[n]=null);t.parentNode.removeChild(t)}}function R(e){var t=null;try{t=a.getElementById(e)}catch(n){}return t}function U(e){return a.createElement(e)}function z(e,t,n){e.attachEvent(t,n),d[d.length]=[e,t,n]}function W(e){var t=T.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function X(n,r,i,s){if(T.ie&&T.mac)return;var o=a.getElementsByTagName("head")[0];if(!o)return;var u=i&&typeof i=="string"?i:"screen";s&&(E=null,S=null);if(!E||S!=u){var f=U("style");f.setAttribute("type","text/css"),f.setAttribute("media",u),E=o.appendChild(f),T.ie&&T.win&&typeof a.styleSheets!=e&&a.styleSheets.length>0&&(E=a.styleSheets[a.styleSheets.length-1]),S=u}T.ie&&T.win?E&&typeof E.addRule==t&&E.addRule(n,r):E&&typeof a.createTextNode!=e&&E.appendChild(a.createTextNode(n+" {"+r+"}"))}function V(e,t){if(!x)return;var n=t?"visible":"hidden";b&&R(e)?R(e).style.visibility=n:X("#"+e,"visibility:"+n)}function $(t){var n=/[\\\"<>\.;]/,r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s="SWFObjectExprInst",o="onreadystatechange",u=window,a=document,f=navigator,l=!1,c=[A],h=[],p=[],d=[],v,m,g,y,b=!1,w=!1,E,S,x=!0,T=function(){var s=typeof a.getElementById!=e&&typeof a.getElementsByTagName!=e&&typeof a.createElement!=e,o=f.userAgent.toLowerCase(),c=f.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(o),p=c?/mac/.test(c):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,v=!1,m=[0,0,0],g=null;if(typeof f.plugins!=e&&typeof f.plugins[n]==t)g=f.plugins[n].description,g&&(typeof f.mimeTypes==e||!f.mimeTypes[i]||!!f.mimeTypes[i].enabledPlugin)&&(l=!0,v=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof u[["Active"].concat("Object").join("X")]!=e)try{var y=new(window[["Active"].concat("Object").join("X")])(r);y&&(g=y.GetVariable("$version"),g&&(v=!0,g=g.split(" ")[1].split(","),m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]))}catch(b){}return{w3:s,pv:m,wk:d,ie:v,win:h,mac:p}}(),N=function(){if(!T.w3)return;(typeof a.readyState!=e&&a.readyState=="complete"||typeof a.readyState==e&&(a.getElementsByTagName("body")[0]||a.body))&&C(),b||(typeof a.addEventListener!=e&&a.addEventListener("DOMContentLoaded",C,!1),T.ie&&T.win&&(a.attachEvent(o,function(){a.readyState=="complete"&&(a.detachEvent(o,arguments.callee),C())}),u==top&&function(){if(b)return;try{a.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}C()}()),T.wk&&function(){if(b)return;if(!/loaded|complete/.test(a.readyState)){setTimeout(arguments.callee,0);return}C()}(),L(C))}(),J=function(){T.ie&&T.win&&window.attachEvent("onunload",function(){var e=d.length;for(var t=0;t<e;t++)d[t][0].detachEvent(d[t][1],d[t][2]);var n=p.length;for(var r=0;r<n;r++)I(p[r]);for(var i in T)T[i]=null;T=null;for(var s in swfobject)swfobject[s]=null;swfobject=null})}();return{registerObject:function(e,t,n,r){if(T.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,h[h.length]=i,V(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(T.w3)return _(e)},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:!1,id:r};T.w3&&!(T.wk&&T.wk<312)&&n&&r&&i&&s&&o?(V(r,!1),k(function(){i+="",s+="";var p={};if(l&&typeof l===t)for(var d in l)p[d]=l[d];p.data=n,p.width=i,p.height=s;var v={};if(f&&typeof f===t)for(var m in f)v[m]=f[m];if(a&&typeof a===t)for(var g in a)typeof v.flashvars!=e?v.flashvars+="&"+g+"="+a[g]:v.flashvars=g+"="+a[g];if(W(o)){var y=j(p,v,r);p.id==r&&V(r,!0),h.success=!0,h.ref=y}else{if(u&&D()){p.data=u,P(p,v,r,c);return}V(r,!0)}c&&c(h)})):c&&c(h)},switchOffAutoHideShow:function(){x=!1},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:W,createSWF:function(e,t,n){return T.w3?j(e,t,n):undefined},showExpressInstall:function(e,t,n,r){T.w3&&D()&&P(e,t,n,r)},removeSWF:function(e){T.w3&&I(e)},createCSS:function(e,t,n,r){T.w3&&X(e,t,n,r)},addDomLoadEvent:k,addLoadEvent:L,getQueryParamValue:function(e){var t=a.location.search||a.location.hash;if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e==null)return $(t);var n=t.split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return $(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(w){var e=R(s);e&&v&&(e.parentNode.replaceChild(v,e),m&&(V(m,!0),T.ie&&T.win&&(v.style.display="block")),g&&g(y)),w=!1}}}}();(function(){if("undefined"==typeof window||window.WebSocket)return;var e=window.console;if(!e||!e.log||!e.error)e={log:function(){},error:function(){}};if(!swfobject.hasFlashPlayerVersion("10.0.0")){e.error("Flash Player >= 10.0.0 is required.");return}location.protocol=="file:"&&e.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(e,t,n,r,i){var s=this;s.__id=WebSocket.__nextId++,WebSocket.__instances[s.__id]=s,s.readyState=WebSocket.CONNECTING,s.bufferedAmount=0,s.__events={},t?typeof t=="string"&&(t=[t]):t=[],setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(s.__id,e,t,n||null,r||0,i||null)})},0)},WebSocket.prototype.send=function(e){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var t=WebSocket.__flash.send(this.__id,encodeURIComponent(e));return t<0?!0:(this.bufferedAmount+=t,!1)},WebSocket.prototype.close=function(){if(this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING)return;this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id)},WebSocket.prototype.addEventListener=function(e,t,n){e in this.__events||(this.__events[e]=[]),this.__events[e].push(t)},WebSocket.prototype.removeEventListener=function(e,t,n){if(!(e in this.__events))return;var r=this.__events[e];for(var i=r.length-1;i>=0;--i)if(r[i]===t){r.splice(i,1);break}},WebSocket.prototype.dispatchEvent=function(e){var t=this.__events[e.type]||[];for(var n=0;n<t.length;++n)t[n](e);var r=this["on"+e.type];r&&r(e)},WebSocket.prototype.__handleEvent=function(e){"readyState"in e&&(this.readyState=e.readyState),"protocol"in e&&(this.protocol=e.protocol);var t;if(e.type=="open"||e.type=="error")t=this.__createSimpleEvent(e.type);else if(e.type=="close")t=this.__createSimpleEvent("close");else{if(e.type!="message")throw"unknown event type: "+e.type;var n=decodeURIComponent(e.message);t=this.__createMessageEvent("message",n)}this.dispatchEvent(t)},WebSocket.prototype.__createSimpleEvent=function(e){if(document.createEvent&&window.Event){var t=document.createEvent("Event");return t.initEvent(e,!1,!1),t}return{type:e,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(e,t){if(document.createEvent&&window.MessageEvent&&!window.opera){var n=document.createEvent("MessageEvent");return n.initMessageEvent("message",!1,!1,t,null,null,window,null),n}return{type:e,data:t,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(e){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(e)})},WebSocket.__initialize=function(){if(WebSocket.__flash)return;WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation);if(!window.WEB_SOCKET_SWF_LOCATION){e.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}var t=document.createElement("div");t.id="webSocketContainer",t.style.position="absolute",WebSocket.__isFlashLite()?(t.style.left="0px",t.style.top="0px"):(t.style.left="-100px",t.style.top="-100px");var n=document.createElement("div");n.id="webSocketFlash",t.appendChild(n),document.body.appendChild(t),swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(t){t.success||e.error("[WebSocket] swfobject.embedSWF failed")})},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash"),WebSocket.__flash.setCallerUrl(location.href),WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var e=0;e<WebSocket.__tasks.length;++e)WebSocket.__tasks[e]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){try{var t=WebSocket.__flash.receiveEvents();for(var n=0;n<t.length;++n)WebSocket.__instances[t[n].webSocketId].__handleEvent(t[n])}catch(r){e.error(r)}},0),!0},WebSocket.__log=function(t){e.log(decodeURIComponent(t))},WebSocket.__error=function(t){e.error(decodeURIComponent(t))},WebSocket.__addTask=function(e){WebSocket.__flash?e():WebSocket.__tasks.push(e)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var e=window.navigator.mimeTypes["application/x-shockwave-flash"];return!e||!e.enabledPlugin||!e.enabledPlugin.filename?!1:e.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))})(),function(e,t,n){function r(e){if(!e)return;t.Transport.apply(this,arguments),this.sendBuffer=[]}function i(){}e.XHR=r,t.util.inherit(r,t.Transport),r.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},r.prototype.payload=function(e){var n=[];for(var r=0,i=e.length;r<i;r++)n.push(t.parser.encodePacket(e[r]));this.send(t.parser.encodePayload(n))},r.prototype.send=function(e){return this.post(e),this},r.prototype.post=function(e){function r(){this.readyState==4&&(this.onreadystatechange=i,t.posting=!1,this.status==200?t.socket.setBuffer(!1):t.onClose())}function s(){this.onload=i,t.socket.setBuffer(!1)}var t=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=s:this.sendXHR.onreadystatechange=r,this.sendXHR.send(e)},r.prototype.close=function(){return this.onClose(),this},r.prototype.request=function(e){var n=t.util.request(this.socket.isXDomain()),r=t.util.query(this.socket.options.query,"t="+ +(new Date));n.open(e||"GET",this.prepareUrl()+r,!0);if(e=="POST")try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(i){}return n},r.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},r.check=function(e,r){try{var i=t.util.request(r),s=n.XDomainRequest&&i instanceof XDomainRequest,o=e&&e.options&&e.options.secure?"https:":"http:",u=o!=n.location.protocol;if(i&&(!s||!u))return!0}catch(a){}return!1},r.xdomainCheck=function(){return r.check(null,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(e){t.Transport.XHR.apply(this,arguments)}e.htmlfile=n,t.util.inherit(n,t.Transport.XHR),n.prototype.name="htmlfile",n.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var e=this.doc.createElement("div");e.className="socketio",this.doc.body.appendChild(e),this.iframe=this.doc.createElement("iframe"),e.appendChild(this.iframe);var n=this,r=t.util.query(this.socket.options.query,"t="+ +(new Date));this.iframe.src=this.prepareUrl()+r,t.util.on(window,"unload",function(){n.destroy()})},n.prototype._=function(e,t){this.onData(e);try{var n=t.getElementsByTagName("script")[0];n.parentNode.removeChild(n)}catch(r){}},n.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(e){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},n.prototype.close=function(){return this.destroy(),t.Transport.XHR.prototype.close.call(this)},n.check=function(){if(typeof window!="undefined"&&["Active"].concat("Object").join("X")in window)try{var e=new(window[["Active"].concat("Object").join("X")])("htmlfile");return e&&t.Transport.XHR.check()}catch(n){}return!1},n.xdomainCheck=function(){return!1},t.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(){t.Transport.XHR.apply(this,arguments)}function i(){}e["xhr-polling"]=r,t.util.inherit(r,t.Transport.XHR),t.util.merge(r,t.Transport.XHR),r.prototype.name="xhr-polling",r.prototype.open=function(){var e=this;return t.Transport.XHR.prototype.open.call(e),!1},r.prototype.get=function(){function t(){this.readyState==4&&(this.onreadystatechange=i,this.status==200?(e.onData(this.responseText),e.get()):e.onClose())}function r(){this.onload=i,this.onerror=i,e.onData(this.responseText),e.get()}function s(){e.onClose()}if(!this.open)return;var e=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=r,this.xhr.onerror=s):this.xhr.onreadystatechange=t,this.xhr.send(null)},r.prototype.onClose=function(){t.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i;try{this.xhr.abort()}catch(e){}this.xhr=null}},r.prototype.ready=function(e,n){var r=this;t.util.defer(function(){n.call(r)})},t.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t,n){function i(e){t.Transport["xhr-polling"].apply(this,arguments),this.index=t.j.length;var n=this;t.j.push(function(e){n._(e)})}var r=n.document&&"MozAppearance"in n.document.documentElement.style;e["jsonp-polling"]=i,t.util.inherit(i,t.Transport["xhr-polling"]),i.prototype.name="jsonp-polling",i.prototype.post=function(e){function a(){f(),n.socket.setBuffer(!1)}function f(){n.iframe&&n.form.removeChild(n.iframe);try{u=document.createElement('<iframe name="'+n.iframeId+'">')}catch(e){u=document.createElement("iframe"),u.name=n.iframeId}u.id=n.iframeId,n.form.appendChild(u),n.iframe=u}var n=this,r=t.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),o=this.iframeId="socketio_iframe_"+this.index,u;i.className="socketio",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.display="none",i.target=o,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.prepareUrl()+r,f(),this.area.value=t.JSON.stringify(e);try{this.form.submit()}catch(l){}this.iframe.attachEvent?u.onreadystatechange=function(){n.iframe.readyState=="complete"&&a()}:this.iframe.onload=a,this.socket.setBuffer(!0)},i.prototype.get=function(){var e=this,n=document.createElement("script"),i=t.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.prepareUrl()+i,n.onerror=function(){e.onClose()};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s),this.script=n,r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype._=function(e){return this.onData(e),this.open&&this.get(),this},i.prototype.ready=function(e,n){var i=this;if(!r)return n.call(this);t.util.load(function(){n.call(i)})},i.check=function(){return"document"in n},i.xdomainCheck=function(){return!0},t.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this)})(),define("socket",function(){}),!function(e,t,n){"function"==typeof define&&define.amd?define("jqm",["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n){!function(e){e.mobile={}}(e),function(e,t){function r(t,n){var r,s,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,s=r.name,t.href&&s&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||n):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return r(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&r(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in n.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(r){if(r!==t)return this.css("zIndex",r);if(this.length)for(var i,s,o=e(this[0]);o.length&&o[0]!==n;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(s&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<s.length;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}}}(e),function(e,t){var r=function(t,n){var r=t.parent(),i=[],s=function(){var t=e(this),n=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:t.attr("data-"+e.mobile.ns+"update-page-padding")!==!1};return"fixed"!==n.position||n.updatePagePadding!==!0},o=r.children(":jqmData(role='header')").filter(s),u=t.children(":jqmData(role='header')"),f=r.children(":jqmData(role='footer')").filter(s),l=t.children(":jqmData(role='footer')");return 0===u.length&&o.length>0&&(i=i.concat(o.toArray())),0===l.length&&f.length>0&&(i=i.concat(f.toArray())),e.each(i,function(t,r){n-=e(r).outerHeight()}),Math.max(0,n)};e.extend(e.mobile,{window:e(t),document:e(n),keyCode:e.ui.keyCode,behaviors:{},silentScroll:function(n){"number"!==e.type(n)&&(n=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,n),e.mobile.document.trigger("silentscroll",{x:0,y:n})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var n=e(t).closest(".ui-page").jqmData("url"),r=e.mobile.path.documentBase.hrefNoHash;return e.mobile.dynamicBaseEnabled&&n&&e.mobile.path.isPath(n)||(n=r),e.mobile.path.makeUrlAbsolute(n,r)},removeActiveLinkClass:function(t){!e.mobile.activeClickedLink||e.mobile.activeClickedLink.closest("."+e.mobile.activePageClass).length&&!t||e.mobile.activeClickedLink.removeClass(e.mobile.activeBtnClass),e.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){for(var n,r,i=e[0],s="",o=/ui-(bar|body|overlay)-([a-z])\b/;i&&(n=i.className||"",!(n&&(r=o.exec(n))&&(s=r[2])));)i=i.parentNode;return s||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var r,i,s,o,u,f=t.length,l=e();for(o=0;f>o;o++){for(i=t.eq(o),s=!1,r=t[o];r;){if(u=r.getAttribute?r.getAttribute("data-"+e.mobile.ns+n):"","false"===u){s=!0;break}r=r.parentNode}s||(l=l.add(i))}return l},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(t){var n=e("."+e.mobile.activePageClass),i=n.height(),s=n.outerHeight(!0);t=r(n,"number"==typeof t?t:e.mobile.getScreenHeight()),n.css("min-height",""),n.height()<t&&n.css("min-height",t-(s-i))},loading:function(){var t=this.loading._widget||e(e.mobile.loader.prototype.defaultHtml).loader(),n=t.loader.apply(t,arguments);return this.loading._widget=t,n}}),e.addDependents=function(t,n){var r=e(t),i=r.jqmData("dependents")||e();r.jqmData("dependents",e(i).add(n))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},enhanceWithin:function(){var t,n={},r=e.mobile.page.prototype.keepNativeSelector(),i=this;e.mobile.nojs&&e.mobile.nojs(this),e.mobile.links&&e.mobile.links(this),e.mobile.degradeInputsWithin&&e.mobile.degradeInputsWithin(this),e.fn.buttonMarkup&&this.find(e.fn.buttonMarkup.initSelector).not(r).jqmEnhanceable().buttonMarkup(),e.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(r).jqmEnhanceable().fieldcontain(),e.each(e.mobile.widgets,function(t,s){if(s.initSelector){var o=e.mobile.enhanceable(i.find(s.initSelector));o.length>0&&(o=o.not(r)),o.length>0&&(n[s.prototype.widgetName]=o)}});for(t in n)n[t][t]();return this},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.addDependents=function(t,n){var r=e(t),i=r.jqmData("dependents")||e();r.jqmData("dependents",e(i).add(n))},e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}}(e,this),function(e){e.extend(e.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(e,this),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,f={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[l]=e[l]||{},s=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void (arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){return e.isFunction(r)?void (f[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=s,t}}()):void (f[t]=r)}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},f,{constructor:o,namespace:l,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(n){for(var i,s,o=r.call(arguments,1),u=0,f=o.length;f>u;u++)for(i in o[u])s=o[u][i],o[u].hasOwnProperty(i)&&s!==t&&(n[i]=e.isPlainObject(s)?e.isPlainObject(n[i])?e.widget.extend({},n[i],s):e.widget.extend({},s):s);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u="string"==typeof o,l=r.call(arguments,1),h=this;return o=!u&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,this.each(u?function(){var r,i=e.data(this,s);return"instance"===o?(h=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(r=i[o].apply(i,l),r!==i&&r!==t?(h=r&&r.jquery?h.pushStack(r.get()):r,!1):void 0):e.error("no such method '"+o+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,s,o,u=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(u={},i=n.split("."),n=i.shift(),i.length){for(s=u[n]=e.widget.extend({},this.options[n]),o=0;o<i.length-1;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];if(n=i.pop(),r===t)return s[n]===t?null:s[n];s[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];u[n]=r}return this._setOptions(u),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var l=r.match(/^(\w+)\s*(.*)$/),h=l[1]+s.eventNamespace,p=l[2];p?i.delegate(p,h,u):n.bind(h,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(e),function(e,t,n){var r={},i=e.find,s=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,o=/:jqmData\(([^)]*)\)/g;e.extend(e.mobile,{ns:"",getAttribute:function(t,n){var r;t=t.jquery?t[0]:t,t&&t.getAttribute&&(r=t.getAttribute("data-"+e.mobile.ns+n));try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:s.test(r)?JSON.parse(r):r}catch(i){}return r},nsNormalizeDict:r,nsNormalize:function(t){return r[t]||(r[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,r){var i;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),i=arguments.length<2||r===n?this.data(t):this.data(t,r)),i},e.jqmData=function(t,n,r){var i;return"undefined"!=typeof n&&(i=e.data(t,n?e.mobile.nsNormalize(n):n,r)),i},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.find=function(t,n,r,s){return t.indexOf(":jqmData")>-1&&(t=t.replace(o,"[data-"+(e.mobile.ns||"")+"$1]")),i.call(this,t,n,r,s)},e.extend(e.find,i)}(e,this),function(e){var t=/[A-Z]/g,n=function(e){return"-"+e.toLowerCase()};e.extend(e.Widget.prototype,{_getCreateOptions:function(){var r,i,s=this.element[0],o={};if(!e.mobile.getAttribute(s,"defaults"))for(r in this.options)i=e.mobile.getAttribute(s,r.replace(t,n)),null!=i&&(o[r]=i);return o}}),e.mobile.widget=e.Widget}(e),function(e){var t="ui-loader",n=e("html");e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+t+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),n=this.window.scrollTop(),r=e.mobile.getScreenHeight();(t.top<n||t.top-n>r)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(r,i,s){var o,u,f;this.resetHtml(),"object"===e.type(r)?(f=e.extend({},this.options,r),r=f.theme):(f=this.options,r=r||f.theme),u=i||(f.text===!1?"":f.text),n.addClass("ui-loading"),o=f.textVisible,this.element.attr("class",t+" ui-corner-all ui-body-"+r+" ui-loader-"+(o||i||r.text?"verbose":"default")+(f.textonly||s?" ui-loader-textonly":"")),f.html?this.element.html(f.html):this.element.find("h1").text(u),this.element.appendTo(e(e.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",e.proxy(this.checkLoaderPosition,this))},hide:function(){n.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(e,this),function(e,t,r){"$:nomunge";function i(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var s,o="hashchange",u=n,a=e.event.special,f=u.documentMode,l="on"+o in t&&(f===r||f>7);e.fn[o]=function(e){return e?this.bind(o,e):this.trigger(o)},e.fn[o].delay=50,a[o]=e.extend(a[o],{setup:function(){return l?!1:void e(s.start)},teardown:function(){return l?!1:void e(s.stop)}}),s=function(){function n(){var r=i(),u=v(f);r!==f?(p(f=r,u),e(t).trigger(o)):u!==f&&(location.href=location.href.replace(/#.*/,"")+u),s=setTimeout(n,e.fn[o].delay)}var s,a={},f=i(),c=function(e){return e},p=c,v=c;return a.start=function(){s||n()},a.stop=function(){s&&clearTimeout(s),s=r},t.attachEvent&&!t.addEventListener&&!l&&function(){var t,r;a.start=function(){t||(r=e.fn[o].src,r=r&&r+i(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||p(i()),n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,u.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=u.title)}catch(e){}})},a.stop=c,v=function(){return i(t.location.href)},p=function(n,r){var i=t.document,s=e.fn[o].domain;n!==r&&(i.title=u.title,i.open(),s&&i.write('<script>document.domain="'+s+'"</script>'),i.close(),t.location.hash=n)}}(),a}()}(e,this),function(e){t.matchMedia=t.matchMedia||function(e){var t,n=e.documentElement,r=n.firstElementChild||n.firstChild,i=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(i,r),t=42===s.offsetWidth,n.removeChild(i),{matches:t,media:e}}}(n),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e){var t={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t)}(e),function(e){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,r){function i(e){var t,n=e.charAt(0).toUpperCase()+e.substr(1),i=(e+" "+v.join(n+" ")+n).split(" ");for(t in i)if(d[i[t]]!==r)return!0}function s(){var n=t,r=!(!n.document.createElementNS||!n.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||n.opera&&-1===navigator.userAgent.indexOf("Chrome")),i=function(t){t&&r||e("html").addClass("ui-nosvg")},s=new n.Image;s.onerror=function(){i(!1)},s.onload=function(){i(1===s.width&&1===s.height)},s.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function o(){var i,s,o,u="transform-3d",a=e.mobile.media("(-"+v.join("-"+u+"),(-")+"-"+u+"),("+u+")");if(a)return!!a;i=n.createElement("div"),s={MozTransform:"-moz-transform",transform:"transform"},p.append(i);for(o in s)i.style[o]!==r&&(i.style[o]="translate3d( 100px, 1px, 1px )",a=t.getComputedStyle(i).getPropertyValue(s[o]));return!!a&&"none"!==a}function u(){var t,n,r=location.protocol+"//"+location.host+location.pathname+"ui-dir/",i=e("head base"),s=null,o="";return i.length?o=i.attr("href"):i=s=e("<base>",{href:r}).appendTo("head"),t=e("<a href='testurl' />").prependTo(p),n=t[0].href,i[0].href=o||location.pathname,s&&s.remove(),0===n.indexOf(r)}function a(){var e,r=n.createElement("x"),i=n.documentElement,s=t.getComputedStyle;return"pointerEvents"in r.style?(r.style.pointerEvents="auto",r.style.pointerEvents="x",i.appendChild(r),e=s&&"auto"===s(r,"").pointerEvents,i.removeChild(r),!!e):!1}function f(){var e=n.createElement("div");return"undefined"!=typeof e.getBoundingClientRect}function l(){var e=t,n=navigator.userAgent,r=navigator.platform,i=n.match(/AppleWebKit\/([0-9]+)/),s=!!i&&i[1],o=n.match(/Fennec\/([0-9]+)/),u=!!o&&o[1],a=n.match(/Opera Mobi\/([0-9]+)/),f=!!a&&a[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&s&&534>s||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||a&&7458>f||n.indexOf("Android")>-1&&s&&533>s||u&&6>u||"palmGetResource"in t&&s&&534>s||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var h,p=e("<body>").prependTo("html"),d=p[0].style,v=["Webkit","Moz","O"],m="palmGetResource"in t,g=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),y=t.blackberry&&!i("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=n.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(r[0]);return e>4?e:!e}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!i("content"),touchOverflow:!!i("overflowScrolling"),cssTransform3d:o(),boxShadow:!!i("boxShadow")&&!y,fixedPosition:l(),scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in p[0])&&!m&&!g,dynamicBaseTag:u(),cssPointerEvents:a(),boundingRect:f(),inlineSVG:s}),p.remove(),h=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||g||h,h&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow")}(e),function(e,t){var n,r=e.mobile.window,i=function(){};e.event.special.beforenavigate={setup:function(){r.on("navigate",i)},teardown:function(){r.off("navigate",i)}},e.event.special.navigate=n={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var n=new e.Event("navigate"),i=new e.Event("beforenavigate"),s=t.originalEvent.state||{};i.originalEvent=t,r.trigger(i),i.isDefaultPrevented()||(t.historyState&&e.extend(s,t.historyState),n.originalEvent=t,setTimeout(function(){r.trigger(n,{state:s})},0))},hashchange:function(t){var n=new e.Event("navigate"),i=new e.Event("beforenavigate");i.originalEvent=t,r.trigger(i),i.isDefaultPrevented()||(n.originalEvent=t,r.trigger(n,{state:t.hashchangeState||{}}))},setup:function(){n.bound||(n.bound=!0,n.isPushStateEnabled()?(n.originalEventName="popstate",r.bind("popstate.navigate",n.popstate)):n.isHashChangeEnabled()&&(n.originalEventName="hashchange",r.bind("hashchange.navigate",n.hashchange)))}}}(e),function(e,n){var r,i,s="&ui-state=dialog";e.mobile.path=r={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=this.parseUrl(e||location.href),n=e?t:location,r=t.hash;return r="#"===r?"":r,n.protocol+t.doubleSlash+n.host+(""!==n.protocol&&"/"!==n.pathname.substring(0,1)?"/":"")+n.pathname+n.search+r},getDocumentUrl:function(t){return t?e.extend({},r.documentUrl):r.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var n=r.urlParseRE.exec(t||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(e,t){var n,r,i,s;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=t?t.split("/"):[],r=e.split("/"),i=0;i<r.length;i++)switch(s=r[i]){case".":break;case"..":n.length&&n.pop();break;default:n.push(s)}return"/"+n.join("/")},isSameDomain:function(e,t){return r.parseUrl(e).domain.toLowerCase()===r.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(e){return""===r.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==r.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!r.isRelativeUrl(e))return e;t===n&&(t=this.documentBase);var i=r.parseUrl(e),s=r.parseUrl(t),o=i.protocol||s.protocol,u=i.protocol?i.doubleSlash:i.doubleSlash||s.doubleSlash,a=i.authority||s.authority,f=""!==i.pathname,l=r.makePathAbsolute(i.pathname||s.filename,s.pathname),h=i.search||!f&&s.search||"",p=i.hash;return o+u+a+l+h+p},addSearchParams:function(t,n){var i=r.parseUrl(t),s="object"==typeof n?e.param(n):n,o=i.search||"?";return i.hrefNoSearch+o+("?"!==o.charAt(o.length-1)?"&":"")+s+(i.hash||"")},convertUrlToDataUrl:function(e){var n=e,i=r.parseUrl(e);return r.isEmbeddedPage(i)?n=i.hash.split(s)[0].replace(/^#/,"").replace(/\?.*$/,""):r.isSameDomain(i,this.documentBase)&&(n=i.hrefNoHash.replace(this.documentBase.domain,"").split(s)[0]),t.decodeURIComponent(n)},get:function(e){return e===n&&(e=r.parseLocation().hash),r.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return r.stripHash(e.replace(/\?.*$/,"").replace(s,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=r.parseUrl(e);return!!t.protocol&&t.domain.toLowerCase()!==this.documentUrl.domain.toLowerCase()},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=r.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var n,i,s,o,u,a=this.isPath(e),f=this.parseUrl(e),l=f.hash,c="";return t||(a?t=r.getLocation():(u=r.getDocumentUrl(!0),t=r.isPath(u.hash)?r.squash(u.href):u.href)),i=a?r.stripHash(e):e,i=r.isPath(f.hash)?r.stripHash(f.hash):i,o=i.indexOf(this.uiStateKey),o>-1&&(c=i.slice(o),i=i.slice(0,o)),n=r.makeUrlAbsolute(i,t),s=this.parseUrl(n).search,a?((r.isPath(l)||0===l.replace("#","").indexOf(this.uiStateKey))&&(l=""),c&&-1===l.indexOf(this.uiStateKey)&&(l+=c),-1===l.indexOf("#")&&""!==l&&(l="#"+l),n=r.parseUrl(n),n=n.protocol+n.doubleSlash+n.host+n.pathname+s+l):n+=n.indexOf("#")>-1?c:"#"+c,n},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(e){var t="#"===e.substring(0,1);return t&&(e=e.substring(1)),(t?"#":"")+e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(e){return e&&e.split(s)[0]},isFirstPageUrl:function(t){var i=r.parseUrl(r.makeUrlAbsolute(t,this.documentBase)),s=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,o=e.mobile.firstPage,u=o&&o[0]?o[0].id:n;return s&&(!i.hash||"#"===i.hash||u&&i.hash.replace(/^#/,"")===u)},isPermittedCrossDomainRequest:function(t,n){return e.mobile.allowCrossDomainPages&&("file:"===t.protocol||"content:"===t.protocol)&&-1!==n.search(/^https?:/)}},r.documentUrl=r.parseLocation(),i=e("head").find("base"),r.documentBase=i.length?r.parseUrl(r.makeUrlAbsolute(i.attr("href"),r.documentUrl.href)):r.documentUrl,r.documentBaseDiffers=r.documentUrl.hrefNoHash!==r.documentBase.hrefNoHash,r.getDocumentBase=function(t){return t?e.extend({},r.documentBase):r.documentBase.href},e.extend(e.mobile,{getDocumentUrl:r.getDocumentUrl,getDocumentBase:r.getDocumentBase})}(e),function(e,t){e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,n){t=t||this.stack;var r,i,s,o=t.length;for(i=0;o>i;i++)if(r=t[i],(decodeURIComponent(e)===decodeURIComponent(r.url)||decodeURIComponent(e)===decodeURIComponent(r.hash))&&(s=i,n))return s;return s},closest:function(e){var n,r=this.activeIndex;return n=this.find(e,this.stack.slice(0,r)),n===t&&(n=this.find(e,this.stack.slice(r),!0),n=n===t?n:n+r),n},direct:function(n){var r=this.closest(n.url),i=this.activeIndex;r!==t&&(this.activeIndex=r,this.previousIndex=i),i>r?(n.present||n.back||e.noop)(this.getActive(),"back"):r>i?(n.present||n.forward||e.noop)(this.getActive(),"forward"):r===t&&n.missing&&n.missing(this.getActive())}})}(e),function(e){var r=e.mobile.path,i=location.href;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(i,s){var o,u,f=r.isPath(i)?r.stripHash(i):i;return u=r.squash(i),o=e.extend({hash:f,url:u},s),t.history.replaceState(o,o.title||n.title,u),o},hash:function(e,t){var n,i,s,o;return n=r.parseUrl(e),i=r.parseLocation(),i.pathname+i.search===n.pathname+n.search?s=n.hash?n.hash:n.pathname+n.search:r.isPath(e)?(o=r.parseUrl(t),s=o.pathname+o.search+(r.isPreservableHash(o.hash)?o.hash.replace("#",""):"")):s=e,s},go:function(i,s,o){var u,f,l,h,p=e.event.special.navigate.isPushStateEnabled();f=r.squash(i),l=this.hash(i,f),o&&l!==r.stripHash(r.parseLocation().hash)&&(this.preventNextHashChange=o),this.preventHashAssignPopState=!0,t.location.hash=l,this.preventHashAssignPopState=!1,u=e.extend({url:f,hash:l,title:n.title},s),p&&(h=new e.Event("popstate"),h.originalEvent={type:"popstate",state:null},this.squash(i,u),o||(this.ignorePopState=!0,e.mobile.window.trigger(h))),this.history.add(u.url,u)},popstate:function(t){var n,s;if(e.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void t.stopImmediatePropagation()):this.ignorePopState?void (this.ignorePopState=!1):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===i)?void t.preventDefault():(n=r.parseLocation().hash,!t.originalEvent.state&&n?(s=this.squash(n),this.history.add(s.url,s),void (t.historyState=s)):void this.history.direct({url:(t.originalEvent.state||{}).url||n,present:function(n,r){t.historyState=e.extend({},n),t.historyState.direction=r}}))},hashchange:function(t){var i,s;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void t.stopImmediatePropagation();i=this.history,s=r.parseLocation().hash,this.history.direct({url:s,present:function(n,r){t.hashchangeState=e.extend({},n),t.hashchangeState.direction=r},missing:function(){i.add(s,{hash:s,title:n.title})}})}}})}(e),function(e){e.mobile.navigate=function(t,n,r){e.mobile.navigate.navigator.go(t,n,r)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var t=e.mobile.path.parseLocation();e.mobile.navigate.history.add(t.href,{hash:t.hash})}(e),function(e,t){var r={animation:{},transition:{}},i=n.createElement("a"),s=["","webkit-","moz-","o-"];e.each(["animation","transition"],function(n,o){var u=0===n?o+"-name":o;e.each(s,function(n,s){return i.style[e.camelCase(s+u)]!==t?(r[o].prefix=s,!1):void 0}),r[o].duration=e.camelCase(r[o].prefix+o+"-duration"),r[o].event=e.camelCase(r[o].prefix+o+"-end"),""===r[o].prefix&&(r[o].event=r[o].event.toLowerCase())}),e.support.cssTransitions=r.transition.prefix!==t,e.support.cssAnimations=r.animation.prefix!==t,e(i).remove(),e.fn.animationComplete=function(i,s,o){var u,f,l=this,h=function(){clearTimeout(u),i.apply(this,arguments)},p=s&&"animation"!==s?"transition":"animation";return e.support.cssTransitions&&"transition"===p||e.support.cssAnimations&&"animation"===p?(o===t&&(e(this).context!==n&&(f=3e3*parseFloat(e(this).css(r[p].duration))),(0===f||f===t||isNaN(f))&&(f=e.fn.animationComplete.defaultDuration)),u=setTimeout(function(){e(l).off(r[p].event,h),i.apply(l)},f),e(this).one(r[p].event,h)):(setTimeout(e.proxy(i,this),0),e(this))},e.fn.animationComplete.defaultDuration=1e3}(e),function(e,t,n,r){function i(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function s(t,n){var s,o,u,a,f,l,c,h,p,d=t.type;if(t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,d.search(/^(mouse|click)/)>-1&&(o=O),s)for(c=o.length,a;c;)a=o[--c],t[a]=s[a];if(d.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==d.search(/^touch/)&&(u=i(s),d=u.touches,f=u.changedTouches,l=d&&d.length?d[0]:f&&f.length?f[0]:r))for(h=0,p=L.length;p>h;h++)a=L[h],t[a]=l[a];return t}function o(t){for(var n,r,i={};t;){n=e.data(t,N);for(r in n)n[r]&&(i[r]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function u(t,n){for(var r;t;){if(r=e.data(t,N),r&&(!n||r[n]))return t;t=t.parentNode}return null}function a(){F=!1}function f(){F=!0}function l(){U=0,B.length=0,j=!1,f()}function c(){a()}function h(){p(),_=setTimeout(function(){_=0,l()},e.vmouse.resetTimerDuration)}function p(){_&&(clearTimeout(_),_=0)}function d(t,n,r){var i;return(r&&r[t]||!r&&u(n.target,t))&&(i=s(n,t),e(n.target).trigger(i)),i}function v(t){var n,r=e.data(t.target,C);j||U&&U===r||(n=d("v"+t.type,t),n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function m(t){var n,r,s,u=i(t).touches;u&&1===u.length&&(n=t.target,r=o(n),r.hasVirtualBinding&&(U=R++,e.data(n,C,U),p(),c(),H=!1,s=i(t).touches[0],D=s.pageX,P=s.pageY,d("vmouseover",t,r),d("vmousedown",t,r)))}function g(e){F||(H||d("vmousecancel",e,o(e.target)),H=!0,h())}function y(t){if(!F){var n=i(t).touches[0],r=H,s=e.vmouse.moveDistanceThreshold,u=o(t.target);H=H||Math.abs(n.pageX-D)>s||Math.abs(n.pageY-P)>s,H&&!r&&d("vmousecancel",t,u),d("vmousemove",t,u),h()}}function b(e){if(!F){f();var t,n,r=o(e.target);d("vmouseup",e,r),H||(t=d("vclick",e,r),t&&t.isDefaultPrevented()&&(n=i(e).changedTouches[0],B.push({touchID:U,x:n.clientX,y:n.clientY}),j=!0)),d("vmouseout",e,r),H=!1,h()}}function w(t){var n,r=e.data(t,N);if(r)for(n in r)if(r[n])return!0;return!1}function E(){}function S(t){var n=t.substr(1);return{setup:function(){w(this)||e.data(this,N,{});var r=e.data(this,N);r[t]=!0,M[t]=(M[t]||0)+1,1===M[t]&&q.bind(n,v),e(this).bind(n,E),I&&(M.touchstart=(M.touchstart||0)+1,1===M.touchstart&&q.bind("touchstart",m).bind("touchend",b).bind("touchmove",y).bind("scroll",g))},teardown:function(){--M[t],M[t]||q.unbind(n,v),I&&(--M.touchstart,M.touchstart||q.unbind("touchstart",m).unbind("touchmove",y).unbind("touchend",b).unbind("scroll",g));var r=e(this),i=e.data(this,N);i&&(i[t]=!1),r.unbind(n,E),w(this)||r.removeData(N)}}}var x,T,N="virtualMouseBindings",C="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),L="clientX clientY pageX pageY screenX screenY".split(" "),A=e.event.mouseHooks?e.event.mouseHooks.props:[],O=e.event.props.concat(A),M={},_=0,D=0,P=0,H=!1,B=[],j=!1,F=!1,I="addEventListener"in n,q=e(n),R=1,U=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},T=0;T<k.length;T++)e.event.special[k[T]]=S(k[T]);I&&n.addEventListener("click",function(t){var n,r,i,s,o,u,a=B.length,f=t.target;if(a)for(n=t.clientX,r=t.clientY,x=e.vmouse.clickDistanceThreshold,i=f;i;){for(s=0;a>s;s++)if(o=B[s],u=0,i===f&&Math.abs(o.x-n)<x&&Math.abs(o.y-r)<x||e.data(i,C)===o.touchID)return t.preventDefault(),void t.stopPropagation();i=i.parentNode}},!0)}(e,t,n),function(e,t,r){function i(t,n,i,s){var o=i.type;i.type=n,s?e.event.trigger(i,r,t):e.event.dispatch.call(t,i),i.type=o}var s=e(n),o=e.mobile.support.touch,u="touchmove scroll",a=o?"touchstart":"mousedown",f=o?"touchend":"mouseup",l=o?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,i(s,n?"scrollstart":"scrollstop",e)}var n,r,s=this,o=e(s);o.bind(u,function(i){e.event.special.scrollstart.enabled&&(n||t(i,!0),clearTimeout(r),r=setTimeout(function(){t(i,!1)},50))})},teardown:function(){e(this).unbind(u)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),r=!1;n.bind("vmousedown",function(o){function u(){clearTimeout(l)}function a(){u(),n.unbind("vclick",f).unbind("vmouseup",u),s.unbind("vmousecancel",a)}function f(e){a(),r||h!==e.target?r&&e.preventDefault():i(t,"tap",e)}if(r=!1,o.which&&1!==o.which)return!1;var l,h=o.target;n.bind("vmouseup",u).bind("vclick",f),s.bind("vmousecancel",a),l=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(r=!0),i(t,"taphold",e.Event("taphold",{target:h}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),s.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,r=t.pageYOffset,i=e.clientX,s=e.clientY;return 0===e.pageY&&Math.floor(s)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(i)>Math.floor(e.pageX)?(i-=n,s-=r):(s<e.pageY-r||i<e.pageX-n)&&(i=e.pageX-n,s=e.pageY-r),{x:i,y:s}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y]}},handleSwipe:function(t,n,r,s){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var o=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return i(r,"swipe",e.Event("swipe",{target:s,swipestart:t,swipestop:n}),!0),i(r,o,e.Event(o,{target:s,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,r=e(n),i={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=i,i.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var r,o=e.event.special.swipe.start(t),u=t.target,a=!1;i.move=function(t){o&&!t.isDefaultPrevented()&&(r=e.event.special.swipe.stop(t),a||(a=e.event.special.swipe.handleSwipe(o,r,n,u),a&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(o.coords[0]-r.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},i.stop=function(){a=!0,e.event.special.swipe.eventInProgress=!1,s.off(l,i.move),i.move=null},s.on(l,i.move).one(f,i.stop)}},r.on(a,i.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(a,n.start),n.move&&s.off(l,n.move),n.stop&&s.off(f,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",s)},teardown:function(){e(this).unbind("resize",s)}};var t,n,r,i=250,s=function(){n=(new Date).getTime(),r=n-o,r>=i?(o=n,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(s,i-r))},o=0}(e),function(e,t){function r(){var e=i();e!==s&&(s=e,h.trigger(p))}var i,s,o,u,a,f,l,h=e(t),p="orientationchange",d={0:!0,180:!0};e.support.orientation&&(a=t.innerWidth||h.width(),f=t.innerHeight||h.height(),l=50,o=a>f&&a-f>l,u=d[t.orientation],(o&&u||!o&&!u)&&(d={"-90":!0,90:!0})),e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(s=i(),void h.bind("throttledresize",r))},teardown:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:void h.unbind("throttledresize",r)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=i=function(){var r=!0,i=n.documentElement;return r=e.support.orientation?d[t.orientation]:i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[p]=function(e){return e?this.bind(p,e):this.trigger(p)},e.attrFn&&(e.attrFn[p]=!0)}(e,this),function(e){var t=e("head").children("base"),n={element:t.length?t:e("<base>",{href:e.mobile.path.documentBase.hrefNoHash}).prependTo(e("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(t){e.mobile.dynamicBaseEnabled&&e.support.dynamicBaseTag&&n.element.attr("href",e.mobile.path.makeUrlAbsolute(t,e.mobile.path.documentBase))},rewrite:function(t,r){var i=e.mobile.path.get(t);r.find(n.linkSelector).each(function(t,n){var r=e(n).is("[href]")?"href":e(n).is("[src]")?"src":"action",s=e.mobile.path.parseLocation(),o=e(n).attr(r);o=o.replace(s.protocol+s.doubleSlash+s.host+s.pathname,""),/^(\w+:|#|\/)/.test(o)||e(n).attr(r,i+o)})},reset:function(){n.element.attr("href",e.mobile.path.documentBase.hrefNoSearch)}};e.mobile.base=n}(e),function(e,t){e.mobile.widgets={};var n=e.widget,r=e.mobile.keepNative;e.widget=function(n){return function(){var r=n.apply(this,arguments),i=r.prototype.widgetName;return r.initSelector=r.prototype.initSelector!==t?r.prototype.initSelector:":jqmData(role='"+i+"')",e.mobile.widgets[i]=r,r}}(e.widget),e.extend(e.widget,n),e.mobile.document.on("create",function(t){e(t.target).enhanceWithin()}),e.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:e.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void ("dialog"===e.mobile.getAttribute(this.element[0],"role")&&e.mobile.dialog&&this.element.dialog()))},_enhance:function(){var n="data-"+e.mobile.ns,r=this;this.options.role&&this.element.attr("data-"+e.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+n+"role='content']").each(function(){var i=e(this),s=this.getAttribute(n+"theme")||t;r.options.contentTheme=s||r.options.contentTheme||r.options.dialog&&r.options.theme||"dialog"===r.element.jqmData("role")&&r.options.theme,i.addClass("ui-content"),r.options.contentTheme&&i.addClass("ui-body-"+r.options.contentTheme),i.attr("role","main").addClass("ui-content")})},bindRemove:function(t){var n=this.element;!n.data("mobile-page").options.domCache&&n.is(":jqmData(external-page='true')")&&n.bind("pagehide.remove",t||function(t,n){if(!n.samePage){var r=e(this),i=new e.Event("pageremove");r.trigger(i),i.isDefaultPrevented()||r.removeWithDependents()}})},_setOptions:function(n){n.theme!==t&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+n.theme),n.contentTheme!==t&&this.element.find("[data-"+e.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+n.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(e){this.element.parent().pagecontainer({theme:e||this.options.theme})},keepNativeSelector:function(){var t=this.options,n=e.trim(t.keepNative||""),i=e.trim(e.mobile.keepNative),s=e.trim(t.keepNativeDefault),o=r===i?"":i,u=""===o?s:"";return(n?[n]:[]).concat(o?[o]:[]).concat(u?[u]:[]).join(", ")}})}(e),function(e,r){e.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",e.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(e){e.theme!==r&&"none"!==e.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+e.theme):e.theme!==r&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(e)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var e,t,n,r=this._getActiveHistory();r&&(e=this._getScroll(),t=this._getMinScroll(),n=this._getDefaultScroll(),r.lastScroll=t>e?n:e)}},_delayedRecordScroll:function(){setTimeout(e.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return e.mobile.minScrollBack},_getDefaultScroll:function(){return e.mobile.defaultHomeScroll},_filterNavigateEvents:function(t,n){var r;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(r=t.originalEvent.type.indexOf("hashchange")>-1?n.state.hash:n.state.url,r||(r=this._getHash()),r&&"#"!==r&&0!==r.indexOf("#"+e.mobile.path.uiStateKey)||(r=location.href),this._handleNavigate(r,n.state))},_getHash:function(){return e.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return e.mobile.firstPage},_getHistory:function(){return e.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return e.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(n){if(e.mobile.hashListeningEnabled)t.history.go(n);else{var r=e.mobile.navigate.history.activeIndex,i=r+parseInt(n,10),s=e.mobile.navigate.history.stack[i].url,o=n>=1?"forward":"back";e.mobile.navigate.history.activeIndex=i,e.mobile.navigate.history.previousIndex=r,this.change(s,{direction:o,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(t){var n;return"string"===e.type(t)&&(t=e.mobile.path.stripHash(t)),t&&(n=this._getHistory(),t=e.mobile.path.isPath(t)?t:e.mobile.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_transitionFromHistory:function(e,t){var n=this._getHistory(),r="back"===e?n.getLast():n.getActive();return r&&r.transition||t},_handleDialog:function(t,n){var r,i,s=this.getActivePage();return s&&!s.data("mobile-dialog")?("back"===n.direction?this.back():this.forward(),!1):(r=n.pageUrl,i=this._getActiveHistory(),e.extend(t,{role:i.role,transition:this._transitionFromHistory(n.direction,t.transition),reverse:"back"===n.direction}),r)},_handleNavigate:function(t,n){var r=e.mobile.path.stripHash(t),i=this._getHistory(),s=0===i.stack.length?"none":this._transitionFromHistory(n.direction),o={changeHash:!1,fromHashChange:!0,reverse:"back"===n.direction};e.extend(o,n,{transition:s}),i.activeIndex>0&&r.indexOf(e.mobile.dialogHashKey)>-1&&(r=this._handleDialog(o,n),r===!1)||this._changeContent(this._handleDestination(r),o)},_changeContent:function(t,n){e.mobile.changePage(t,n)},_getBase:function(){return e.mobile.base},_getNs:function(){return e.mobile.ns},_enhance:function(e,t){return e.page({role:t})},_include:function(e,t){e.appendTo(this.element),this._enhance(e,t.role),e.page("bindRemove")},_find:function(t){var n,r=this._createFileUrl(t),i=this._createDataUrl(t),s=this._getInitialContent();return n=this.element.children("[data-"+this._getNs()+"url='"+e.mobile.path.hashToSelector(i)+"']"),0===n.length&&i&&!e.mobile.path.isPath(i)&&(n=this.element.children(e.mobile.path.hashToSelector("#"+i)).attr("data-"+this._getNs()+"url",i).jqmData("url",i)),0===n.length&&e.mobile.path.isFirstPageUrl(r)&&s&&s.parent().length&&(n=e(s)),n},_getLoader:function(){return e.mobile.loading()},_showLoading:function(t,n,r,i){this._loadMsg||(this._loadMsg=setTimeout(e.proxy(function(){this._getLoader().loader("show",n,r,i),this._loadMsg=0},this),t))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.proxy(this,"_hideLoading"),1500)},_parse:function(t,n){var r,i=e("<div></div>");return i.get(0).innerHTML=t,r=i.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),r.length||(r=e("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),r.attr("data-"+this._getNs()+"url",this._createDataUrl(n)).attr("data-"+this._getNs()+"external-page",!0),r},_setLoadedTitle:function(t,n){var r=n.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;r&&!t.jqmData("title")&&(r=e("<div>"+r+"</div>").text(),t.jqmData("title",r))},_isRewritableBaseTag:function(){return e.mobile.dynamicBaseEnabled&&!e.support.dynamicBaseTag},_createDataUrl:function(t){return e.mobile.path.convertUrlToDataUrl(t)},_createFileUrl:function(t){return e.mobile.path.getFilePath(t)},_triggerWithDeprecated:function(t,n,r){var i=e.Event("page"+t),s=e.Event(this.widgetName+t);return(r||this.element).trigger(i,n),this._trigger(t,s,n),{deprecatedEvent:i,event:s}},_loadSuccess:function(t,n,i,s){var o=this._createFileUrl(t);return e.proxy(function(u,l,h){var p,v=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),m=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");v.test(u)&&RegExp.$1&&m.test(RegExp.$1)&&RegExp.$1&&(o=e.mobile.path.getFilePath(e("<div>"+RegExp.$1+"</div>").text()),o=this.window[0].encodeURIComponent(o)),i.prefetch===r&&this._getBase().set(o),p=this._parse(u,o),this._setLoadedTitle(p,u),n.xhr=h,n.textStatus=l,n.page=p,n.content=p,n.toPage=p,this._triggerWithDeprecated("load",n).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&p&&this._getBase().rewrite(o,p),this._include(p,i),i.showLoadMsg&&this._hideLoading(),s.resolve(t,i,p))},this)},_loadDefaults:{type:"get",data:r,reloadPage:!1,reload:!1,role:r,showLoadMsg:!1,loadMsgDelay:50},load:function(t,n){var i,s,o,u,f=n&&n.deferred||e.Deferred(),l=n&&n.reload===r&&n.reloadPage!==r?{reload:n.reloadPage}:{},c=e.extend({},this._loadDefaults,n,l),h=null,p=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault());return c.data&&"get"===c.type&&(p=e.mobile.path.addSearchParams(p,c.data),c.data=r),c.data&&"post"===c.type&&(c.reload=!0),i=this._createFileUrl(p),s=this._createDataUrl(p),h=this._find(p),0===h.length&&e.mobile.path.isEmbeddedPage(i)&&!e.mobile.path.isFirstPageUrl(i)?(f.reject(p,c),f.promise()):(this._getBase().reset(),h.length&&!c.reload?(this._enhance(h,c.role),f.resolve(p,c,h),c.prefetch||this._getBase().set(t),f.promise()):(u={url:t,absUrl:p,toPage:t,prevPage:n?n.fromPage:r,dataUrl:s,deferred:f,options:c},o=this._triggerWithDeprecated("beforeload",u),o.deprecatedEvent.isDefaultPrevented()||o.event.isDefaultPrevented()?f.promise():(c.showLoadMsg&&this._showLoading(c.loadMsgDelay),c.prefetch===r&&this._getBase().reset(),e.mobile.allowCrossDomainPages||e.mobile.path.isSameDomain(e.mobile.path.documentUrl,p)?(e.ajax({url:i,type:c.type,data:c.data,contentType:c.contentType,dataType:"html",success:this._loadSuccess(p,u,c,f),error:this._loadError(p,u,c,f)}),f.promise()):(f.reject(p,c),f.promise()))))},_loadError:function(t,n,r,i){return e.proxy(function(s,o,u){this._getBase().set(e.mobile.path.get()),n.xhr=s,n.textStatus=o,n.errorThrown=u;var f=this._triggerWithDeprecated("loadfailed",n);f.deprecatedEvent.isDefaultPrevented()||f.event.isDefaultPrevented()||(r.showLoadMsg&&this._showError(),i.reject(t,r))},this)},_getTransitionHandler:function(t){return t=e.mobile._maybeDegradeTransition(t),e.mobile.transitionHandlers[t]||e.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,n,r){var i=!1;r=r||"",n&&(t[0]===n[0]&&(i=!0),this._triggerWithDeprecated(r+"hide",{nextPage:t,toPage:t,prevPage:n,samePage:i},n)),this._triggerWithDeprecated(r+"show",{prevPage:n||e(""),toPage:t},t)},_cssTransition:function(t,n,r){var i,s,o=r.transition,u=r.reverse,f=r.deferred;this._triggerCssTransitionEvents(t,n,"before"),this._hideLoading(),i=this._getTransitionHandler(o),s=(new i(o,u,t,n)).transition(),s.done(e.proxy(function(){this._triggerCssTransitionEvents(t,n)},this)),s.done(function(){f.resolve.apply(f,arguments)})},_releaseTransitionLock:function(){s=!1,i.length>0&&e.mobile.changePage.apply(null,i.pop())},_removeActiveLinkClass:function(t){e.mobile.removeActiveLinkClass(t)},_loadUrl:function(t,n,r){r.target=t,r.deferred=e.Deferred(),this.load(t,r),r.deferred.done(e.proxy(function(e,t,r){s=!1,t.absUrl=n.absUrl,this.transition(r,n,t)},this)),r.deferred.fail(e.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",n)},this))},_triggerPageBeforeChange:function(t,n,r){var i;return n.prevPage=this.activePage,e.extend(n,{toPage:t,options:r}),n.absUrl="string"===e.type(t)?e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()):r.absUrl,i=this._triggerWithDeprecated("beforechange",n),i.event.isDefaultPrevented()||i.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(t,n){if(s)return void i.unshift(arguments);var r=e.extend({},e.mobile.changePage.defaults,n),o={};r.fromPage=r.fromPage||this.activePage,this._triggerPageBeforeChange(t,o,r)&&(t=o.toPage,"string"===e.type(t)?(s=!0,this._loadUrl(t,o,r)):this.transition(t,o,r))},transition:function(t,o,u){var l,h,p,v,m,g,y,b,w,E,S,x,T,N;if(s)return void i.unshift([t,u]);if(this._triggerPageBeforeChange(t,o,u)&&(o.prevPage=u.fromPage,N=this._triggerWithDeprecated("beforetransition",o),!N.deprecatedEvent.isDefaultPrevented()&&!N.event.isDefaultPrevented())){if(s=!0,t[0]!==e.mobile.firstPage[0]||u.dataUrl||(u.dataUrl=e.mobile.path.documentUrl.hrefNoHash),l=u.fromPage,h=u.dataUrl&&e.mobile.path.convertUrlToDataUrl(u.dataUrl)||t.jqmData("url"),p=h,v=e.mobile.path.getFilePath(h),m=e.mobile.navigate.history.getActive(),g=0===e.mobile.navigate.history.activeIndex,y=0,b=n.title,w=("dialog"===u.role||"dialog"===t.jqmData("role"))&&t.jqmData("dialog")!==!0,l&&l[0]===t[0]&&!u.allowSamePageTransition)return s=!1,this._triggerWithDeprecated("transition",o),this._triggerWithDeprecated("change",o),void (u.fromHashChange&&e.mobile.navigate.history.direct({url:h}));t.page({role:u.role}),u.fromHashChange&&(y="back"===u.direction?-1:1);try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()?e(n.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(C){}E=!1,w&&m&&(m.url&&m.url.indexOf(e.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&e.mobile.navigate.history.activeIndex>0&&(u.changeHash=!1,E=!0),h=m.url||"",h+=!E&&h.indexOf("#")>-1?e.mobile.dialogHashKey:"#"+e.mobile.dialogHashKey),S=m?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():b,S&&b===n.title&&(b=S),t.jqmData("title")||t.jqmData("title",b),u.transition=u.transition||(y&&!g?m.transition:r)||(w?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!y&&E&&(e.mobile.navigate.history.getActive().pageUrl=p),h&&!u.fromHashChange&&(!e.mobile.path.isPath(h)&&h.indexOf("#")<0&&(h="#"+h),x={transition:u.transition,title:b,pageUrl:p,role:u.role},u.changeHash!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(this.window[0].encodeURI(h),x,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(h,x)),n.title=b,e.mobile.activePage=t,this.activePage=t,u.reverse=u.reverse||0>y,T=e.Deferred(),this._cssTransition(t,l,{transition:u.transition,reverse:u.reverse,deferred:T}),T.done(e.proxy(function(n,r,i,s,f){e.mobile.removeActiveLinkClass(),u.duplicateCachedPage&&u.duplicateCachedPage.remove(),f||e.mobile.focusPage(t),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",o),this._triggerWithDeprecated("change",o)},this))}},_findBaseWithDefault:function(){var t=this.activePage&&e.mobile.getClosestBaseUrl(this.activePage);return t||e.mobile.path.documentBase.hrefNoHash}}),e.mobile.navreadyDeferred=e.Deferred();var i=[],s=!1}(e),function(e,r){function i(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}var s=e.Deferred(),o=e.Deferred(),u=function(){o.resolve(),o=null},a=e.mobile.path.documentUrl,f=null;e.mobile.loadPage=function(t,n){var r;return n=n||{},r=n.pageContainer||e.mobile.pageContainer,n.deferred=e.Deferred(),r.pagecontainer("load",t,n),n.deferred.promise()},e.mobile.back=function(){var n=t.navigator;this.phonegapNavigationEnabled&&n&&n.app&&n.app.backHistory?n.app.backHistory():e.mobile.pageContainer.pagecontainer("back")},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),n=e.find(".ui-title:eq(0)");return t.length?void t.focus():void (n.length?n.focus():e.focus())},e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.changePage=function(t,n){e.mobile.pageContainer.pagecontainer("change",t,n)},e.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},e.mobile._registerInternalEvents=function(){var n=function(t,n){var r,i,s,o,u=!0;return!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target")?!1:(r=f&&f.attr("formaction")||t.attr("action"),o=(t.attr("method")||"get").toLowerCase(),r||(r=e.mobile.getClosestBaseUrl(t),"get"===o&&(r=e.mobile.path.parseUrl(r).hrefNoSearch),r===e.mobile.path.documentBase.hrefNoHash&&(r=a.hrefNoSearch)),r=e.mobile.path.makeUrlAbsolute(r,e.mobile.getClosestBaseUrl(t)),e.mobile.path.isExternal(r)&&!e.mobile.path.isPermittedCrossDomainRequest(a,r)?!1:(n||(i=t.serializeArray(),f&&f[0].form===t[0]&&(s=f.attr("name"),s&&(e.each(i,function(e,t){return t.name===s?(s="",!1):void 0}),s&&i.push({name:s,value:f.attr("value")}))),u={url:r,options:{type:o,data:e.param(i),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),u))};e.mobile.document.delegate("form","submit",function(t){var r;t.isDefaultPrevented()||(r=n(e(this)),r&&(e.mobile.changePage(r.url,r.options),t.preventDefault()))}),e.mobile.document.bind("vclick",function(t){var r,s,o=t.target,u=!1;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(f=e(o),e.data(o,"mobile-button")){if(!n(e(o).closest("form"),!0))return;o.parentNode&&(o=o.parentNode)}else{if(o=i(o),!o||"#"===e.mobile.path.parseUrl(o.getAttribute("href")||"#").hash)return;if(!e(o).jqmHijackable().length)return}~o.className.indexOf("ui-link-inherit")?o.parentNode&&(s=e.data(o.parentNode,"buttonElements")):s=e.data(o,"buttonElements"),s?o=s.outer:u=!0,r=e(o),u&&(r=r.closest(".ui-btn")),r.length>0&&!r.hasClass("ui-state-disabled")&&(e.mobile.removeActiveLinkClass(!0),e.mobile.activeClickedLink=r,e.mobile.activeClickedLink.addClass(e.mobile.activeBtnClass))}}),e.mobile.document.bind("click",function(n){if(e.mobile.linkBindingEnabled&&!n.isDefaultPrevented()){var s,o,u,f,l,c,h,p=i(n.target),v=e(p),m=function(){t.setTimeout(function(){e.mobile.removeActiveLinkClass(!0)},200)};if(e.mobile.activeClickedLink&&e.mobile.activeClickedLink[0]===n.target.parentNode&&m(),p&&!(n.which>1)&&v.jqmHijackable().length){if(v.is(":jqmData(rel='back')"))return e.mobile.back(),!1;if(s=e.mobile.getClosestBaseUrl(v),o=e.mobile.path.makeUrlAbsolute(v.attr("href")||"#",s),!e.mobile.ajaxEnabled&&!e.mobile.path.isEmbeddedPage(o))return void m();if(!(-1===o.search("#")||e.mobile.path.isExternal(o)&&e.mobile.path.isAbsoluteUrl(o))){if(o=o.replace(/[^#]*#/,""),!o)return void n.preventDefault();o=e.mobile.path.isPath(o)?e.mobile.path.makeUrlAbsolute(o,s):e.mobile.path.makeUrlAbsolute("#"+o,a.hrefNoHash)}if(u=v.is("[rel='external']")||v.is(":jqmData(ajax='false')")||v.is("[target]"),f=u||e.mobile.path.isExternal(o)&&!e.mobile.path.isPermittedCrossDomainRequest(a,o))return void m();l=v.jqmData("transition"),c="reverse"===v.jqmData("direction")||v.jqmData("back"),h=v.attr("data-"+e.mobile.ns+"rel")||r,e.mobile.changePage(o,{transition:l,reverse:c,role:h,link:v}),n.preventDefault()}}}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var n=e(this),r=n.attr("href");r&&-1===e.inArray(r,t)&&(t.push(r),e.mobile.loadPage(r,{role:n.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile.pageContainer.pagecontainer(),e.mobile.document.bind("pageshow",function(){o?o.done(e.mobile.resetActivePageHeight):e.mobile.resetActivePageHeight()}),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){s.resolve()}),"complete"===n.readyState?u():e.mobile.window.load(u),e.when(s,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e,t){e.mobile.Transition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(t,n,r,i){e.extend(this,{name:t,reverse:n,$to:r,$from:i,deferred:new e.Deferred})},cleanFrom:function(){this.$from.removeClass(e.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),e.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(e.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(e,t,n,r){this.beforeDoneOut(),this.startIn(e,t,n,r)},hideIn:function(e){this.$to.css("z-index",-10),e.call(this),this.$to.css("z-index","")},scrollPage:function(){e.event.special.scrollstart.enabled=!1,(e.mobile.hideUrlBar||this.toScroll!==e.mobile.defaultHomeScroll)&&t.scrollTo(0,this.toScroll),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},startIn:function(t,n,r,i){this.hideIn(function(){this.$to.addClass(e.mobile.activePageClass+this.toPreClass),i||e.mobile.focusPage(this.$to),this.$to.height(t+this.toScroll),r||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+n),r?this.doneIn():this.$to.animationComplete(e.proxy(function(){this.doneIn()},this))},startOut:function(t,n,r){this.beforeStartOut(t,n,r),this.$from.height(t+e.mobile.window.scrollTop()).addClass(this.name+" out"+n)},toggleViewportClass:function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var t,n=this.reverse?" reverse":"",r=e.mobile.getScreenHeight(),i=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth;return this.toScroll=e.mobile.navigate.history.getActive().lastScroll||e.mobile.defaultHomeScroll,t=!e.support.cssTransitions||!e.support.cssAnimations||i||!this.name||"none"===this.name||Math.max(e.mobile.window.scrollTop(),this.toScroll)>e.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!t?this.startOut(r,n,t):this.doneOut(r,n,t,!0),this.deferred.promise()}})}(e,this),function(e){e.mobile.SerialTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.SerialTransition.prototype,e.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,n,r){this.$from.animationComplete(e.proxy(function(){this.doneOut(t,n,r)},this))}})}(e),function(e){e.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.ConcurrentTransition.prototype,e.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,t,n){this.doneOut(e,t,n)}})}(e),function(e){var t=function(){return 3*e.mobile.getScreenHeight()};e.mobile.transitionHandlers={sequential:e.mobile.SerialTransition,simultaneous:e.mobile.ConcurrentTransition},e.mobile.defaultTransitionHandler=e.mobile.transitionHandlers.sequential,e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||t}(e),function(e){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slidefade="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e){e.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e.mobile.page.prototype.options.degradeInputs=e.mobile.degradeInputs,e.mobile.degradeInputsWithin=function(t){t=e(t),t.find("input").not(e.mobile.page.prototype.keepNativeSelector()).each(function(){var t,n,r,i,s=e(this),o=this.getAttribute("type"),u=e.mobile.degradeInputs[o]||"text";e.mobile.degradeInputs[o]&&(t=e("<div>").html(s.clone()).html(),n=t.indexOf(" type=")>-1,r=n?/\s+type=["']?\w+['"]?/:/\/?>/,i=' type="'+u+'" data-'+e.mobile.ns+'type="'+o+'"'+(n?"":">"),s.replaceWith(t.replace(r,i)))})}}(e),function(e,t,n){e.widget("mobile.page",e.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(e.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(t){var r,i,s=this.options;t.corners!==n&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==n&&e.mobile.activePage[0]===this.element[0]&&(s.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==n&&(r=s.closeBtn,i=t.closeBtnText),t.closeBtn!==n&&(r=t.closeBtn),r&&this._setCloseBtn(r,i),this._super(t)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(t,n){var r,i=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?i&&(i.remove(),i=null):i?(i.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),n&&i.text(n)):(r=this._inner.find(":jqmData(role='header')").first(),i=e("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).attr("data-"+e.mobile.ns+"rel","back").text(n||this.options.closeBtnText||"").prependTo(r)),this._headerCloseButton=i}})}(e,this),function(e,t,n){e.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(t){var n,r=e(t.target).closest("vclick"===t.type?"a":"form");r.length&&!r.jqmData("transition")&&(n={},n["data-"+e.mobile.ns+"transition"]=(e.mobile.navigate.history.getActive()||{}).transition||e.mobile.defaultDialogTransition,n["data-"+e.mobile.ns+"direction"]="reverse",r.attr(n))},_create:function(){var t=this.element,n=this.options;t.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(n.corners?" ui-corner-all":"")})),e.extend(this,{_isCloseable:!1,_inner:t.children(),_headerCloseButton:null}),this._on(t,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(n.closeBtn)},_setOptions:function(t){var r,i,s=this.options;t.corners!==n&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==n&&e.mobile.activePage[0]===this.element[0]&&(s.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==n&&(r=s.closeBtn,i=t.closeBtnText),t.closeBtn!==n&&(r=t.closeBtn),r&&this._setCloseBtn(r,i),this._super(t)},_setCloseBtn:function(t,n){var r,i=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?i&&(i.remove(),i=null):i?(i.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),n&&i.text(n)):(r=this._inner.find(":jqmData(role='header')").first(),i=e("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).text(n||this.options.closeBtnText||"").prependTo(r),this._on(i,{click:"close"})),this._headerCloseButton=i},close:function(){var t=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&t.activeIndex>0?e.mobile.back():e.mobile.pageContainer.pagecontainer("back"))}})}(e,this),function(e,t){var n=/([A-Z])/g,r=function(e){return"ui-btn-icon-"+(null===e?"left":e)};e.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var t=this.element,n={accordion:t.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(e.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=n,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(n.heading=this.element.children(".ui-collapsible-heading"),n.content=n.heading.next(),n.anchor=n.heading.children(),n.status=n.anchor.children(".ui-collapsible-heading-status")):this._enhance(t,n),this._on(n.heading,{tap:function(){n.heading.find("a").first().addClass(e.mobile.activeBtnClass)},click:function(e){this._handleExpandCollapse(!n.heading.hasClass("ui-collapsible-heading-collapsed")),e.preventDefault(),e.stopPropagation()}})},_getOptions:function(t){var r,i=this._ui.accordion,s=this._ui.accordionWidget;t=e.extend({},t),i.length&&!s&&(this._ui.accordionWidget=s=i.data("mobile-collapsibleset"));for(r in t)t[r]=null!=t[r]?t[r]:s?s.options[r]:i.length?e.mobile.getAttribute(i[0],r.replace(n,"-$1").toLowerCase()):null,null==t[r]&&(t[r]=e.mobile.collapsible.defaults[r]);return t},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:""},_enhance:function(t,n){var i,s=this._renderedOptions,o=this._themeClassFromOption("ui-body-",s.contentTheme);return t.addClass("ui-collapsible "+(s.inset?"ui-collapsible-inset ":"")+(s.inset&&s.corners?"ui-corner-all ":"")+(o?"ui-collapsible-themed-content ":"")),n.originalHeading=t.children(this.options.heading).first(),n.content=t.wrapInner("<div class='ui-collapsible-content "+o+"'></div>").children(".ui-collapsible-content"),n.heading=n.originalHeading,n.heading.is("legend")&&(n.heading=e("<div role='heading'>"+n.heading.html()+"</div>"),n.placeholder=e("<div><!-- placeholder for legend --></div>").insertBefore(n.originalHeading),n.originalHeading.remove()),i=s.collapsed?s.collapsedIcon?"ui-icon-"+s.collapsedIcon:"":s.expandedIcon?"ui-icon-"+s.expandedIcon:"",n.status=e("<span class='ui-collapsible-heading-status'></span>"),n.anchor=n.heading.detach().addClass("ui-collapsible-heading").append(n.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(i?i+" ":"")+(i?r(s.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",s.theme)+" "+(s.mini?"ui-mini ":"")),n.heading.insertBefore(n.content),this._handleExpandCollapse(this.options.collapsed),n},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(e){var n,i,s,o,u,a=this.element,f=this._renderedOptions,l=this._ui,c=l.anchor,h=l.status,p=this._getOptions(e);e.collapsed!==t&&this._handleExpandCollapse(e.collapsed),n=a.hasClass("ui-collapsible-collapsed"),n?p.expandCueText!==t&&h.text(p.expandCueText):p.collapseCueText!==t&&h.text(p.collapseCueText),u=p.collapsedIcon!==t?p.collapsedIcon!==!1:f.collapsedIcon!==!1,(p.iconpos!==t||p.collapsedIcon!==t||p.expandedIcon!==t)&&(c.removeClass([r(f.iconpos)].concat(f.expandedIcon?["ui-icon-"+f.expandedIcon]:[]).concat(f.collapsedIcon?["ui-icon-"+f.collapsedIcon]:[]).join(" ")),u&&c.addClass([r(p.iconpos!==t?p.iconpos:f.iconpos)].concat(n?["ui-icon-"+(p.collapsedIcon!==t?p.collapsedIcon:f.collapsedIcon)]:["ui-icon-"+(p.expandedIcon!==t?p.expandedIcon:f.expandedIcon)]).join(" "))),p.theme!==t&&(s=this._themeClassFromOption("ui-btn-",f.theme),i=this._themeClassFromOption("ui-btn-",p.theme),c.removeClass(s).addClass(i)),p.contentTheme!==t&&(s=this._themeClassFromOption("ui-body-",f.contentTheme),i=this._themeClassFromOption("ui-body-",p.contentTheme),l.content.removeClass(s).addClass(i)),p.inset!==t&&(a.toggleClass("ui-collapsible-inset",p.inset),o=!(!p.inset||!p.corners&&!f.corners)),p.corners!==t&&(o=!(!p.corners||!p.inset&&!f.inset)),o!==t&&a.toggleClass("ui-corner-all",o),p.mini!==t&&c.toggleClass("ui-mini",p.mini)},_setOptions:function(e){this._applyOptions(e),this._super(e),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(t){var n=this._renderedOptions,r=this._ui;r.status.text(t?n.expandCueText:n.collapseCueText),r.heading.toggleClass("ui-collapsible-heading-collapsed",t).find("a").first().toggleClass("ui-icon-"+n.expandedIcon,!t).toggleClass("ui-icon-"+n.collapsedIcon,t||n.expandedIcon===n.collapsedIcon).removeClass(e.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",t),r.content.toggleClass("ui-collapsible-content-collapsed",t).attr("aria-hidden",t).trigger("updatelayout"),this.options.collapsed=t,this._trigger(t?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var e=this._ui,t=this.options;t.enhanced||(e.placeholder?(e.originalHeading.insertBefore(e.placeholder),e.placeholder.remove(),e.heading.remove()):(e.status.remove(),e.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),e.anchor.contents().unwrap(),e.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),e.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(e),function(e){function t(t){var r,i=t.length,s=[];for(r=0;i>r;r++)t[r].className.match(n)||s.push(t[r]);return e(s)}var n=/\bui-screen-hidden\b/;e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,n){var r;return n?r=t(e):(r=e.filter(":visible"),0===r.length&&(r=t(e))),r},_addFirstLastClasses:function(e,t,n){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),n||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(e){e.removeClass("ui-first-child ui-last-child")}}}(e),function(e,t){var n=":mobile-collapsible, "+e.mobile.collapsible.initSelector;e.widget("mobile.collapsibleset",e.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:e.extend({enhanced:!1},e.mobile.collapsible.defaults),_handleCollapsibleExpand:function(t){var n=e(t.target).closest(".ui-collapsible");n.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&n.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var t=this.element,n=this.options;e.extend(this,{_classes:""}),n.enhanced||(t.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",n.theme)+" "+(n.corners&&n.inset?"ui-corner-all ":"")),this.element.find(e.mobile.collapsible.initSelector).collapsible()),this._on(t,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:""},_init:function(){this._refresh(!0),this.element.children(n).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(e){var n,r,i=this.element,s=this._themeClassFromOption("ui-group-theme-",e.theme);return s&&i.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(s),e.inset!==t&&(r=!(!e.inset||!e.corners&&!this.options.corners)),e.corners!==t&&(r=!(!e.corners||!e.inset&&!this.options.inset)),r!==t&&i.toggleClass("ui-corner-all",r),n=this._super(e),this.element.children(":mobile-collapsible").collapsible("refresh"),n},_destroy:function(){var e=this.element;this._removeFirstLastClasses(e.children(n)),e.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(t){var r=this.element.children(n);this.element.find(e.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(r,this._getVisibles(r,t),t)},refresh:function(){this._refresh(!1)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e){e.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(e),function(e){e.fn.grid=function(t){return this.each(function(){var n,r,i=e(this),s=e.extend({grid:null},t),o=i.children(),u={solo:1,a:2,b:3,c:4,d:5},f=s.grid;if(!f)if(o.length<=5)for(r in u)u[r]===o.length&&(f=r);else f="a",i.addClass("ui-grid-duo");n=u[f],i.addClass("ui-grid-"+f),o.filter(":nth-child("+n+"n+1)").addClass("ui-block-a"),n>1&&o.filter(":nth-child("+n+"n+2)").addClass("ui-block-b"),n>2&&o.filter(":nth-child("+n+"n+3)").addClass("ui-block-c"),n>3&&o.filter(":nth-child("+n+"n+4)").addClass("ui-block-d"),n>4&&o.filter(":nth-child("+n+"n+5)").addClass("ui-block-e")})}}(e),function(e,t){e.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var r=this.element,i=r.find("a, button"),s=i.filter(":jqmData(icon)").length?this.options.iconpos:t;r.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),i.each(function(){var t=e.mobile.getAttribute(this,"icon"),n=e.mobile.getAttribute(this,"theme"),r="ui-btn";n&&(r+=" ui-btn-"+n),t&&(r+=" ui-icon-"+t+" ui-btn-icon-"+s),e(this).addClass(r)}),r.delegate("a","vclick",function(){var t=e(this);t.hasClass("ui-state-disabled")||t.hasClass("ui-disabled")||t.hasClass(e.mobile.activeBtnClass)||(i.removeClass(e.mobile.activeBtnClass),t.addClass(e.mobile.activeBtnClass),e(n).one("pagehide",function(){t.removeClass(e.mobile.activeBtnClass)}))}),r.closest(".ui-page").bind("pagebeforeshow",function(){i.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}})}(e),function(e){var t=e.mobile.getAttribute;e.widget("mobile.listview",e.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",e.options.inset&&(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(" ui-listview"+t),e.refresh(!0)},_findFirstElementByTagName:function(e,t,n,r){var i={};for(i[n]=i[r]=!0;e;){if(i[e.nodeName])return e;e=e[t]}return null},_addThumbClasses:function(t){var n,r,i=t.length;for(n=0;i>n;n++)r=e(this._findFirstElementByTagName(t[n].firstChild,"nextSibling","img","IMG")),r.length&&e(this._findFirstElementByTagName(r[0].parentNode,"parentNode","li","LI")).addClass(r.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(t,n,r){var i=[],s={};for(s[n]=s[r]=!0,t=t.firstChild;t;)s[t.nodeName]&&i.push(t),t=t.nextSibling;return e(i)},_beforeListviewRefresh:e.noop,_afterListviewRefresh:e.noop,refresh:function(n){var r,i,s,o,u,f,l,c,h,p,d,v,m,g,y,w,E,S,x,T,N=this.options,C=this.element,k=!!e.nodeName(C[0],"ol"),L=C.attr("start"),A={},O=C.find(".ui-li-count"),M=t(C[0],"counttheme")||this.options.countTheme,_=M?"ui-body-"+M:"ui-body-inherit";for(N.theme&&C.addClass("ui-group-theme-"+N.theme),k&&(L||0===L)&&(d=parseInt(L,10)-1,C.css("counter-reset","listnumbering "+d)),this._beforeListviewRefresh(),T=this._getChildrenByTagName(C[0],"li","LI"),i=0,s=T.length;s>i;i++)o=T.eq(i),u="",(n||o[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(h=this._getChildrenByTagName(o[0],"a","A"),p="list-divider"===t(o[0],"role"),m=o.attr("value"),f=t(o[0],"theme"),h.length&&h[0].className.search(/\bui-btn\b/)<0&&!p?(l=t(o[0],"icon"),c=l===!1?!1:l||N.icon,h.removeClass("ui-link"),r="ui-btn",f&&(r+=" ui-btn-"+f),h.length>1?(u="ui-li-has-alt",g=h.last(),y=t(g[0],"theme")||N.splitTheme||t(o[0],"theme",!0),w=y?" ui-btn-"+y:"",E=t(g[0],"icon")||t(o[0],"icon")||N.splitIcon,S="ui-btn ui-btn-icon-notext ui-icon-"+E+w,g.attr("title",e.trim(g.getEncodedText())).addClass(S).empty(),h=h.first()):c&&(r+=" ui-btn-icon-right ui-icon-"+c),h.addClass(r)):p?(x=t(o[0],"theme")||N.dividerTheme||N.theme,u="ui-li-divider ui-bar-"+(x?x:"inherit"),o.attr("role","heading")):h.length<=0&&(u="ui-li-static ui-body-"+(f?f:"inherit")),k&&m&&(v=parseInt(m,10)-1,o.css("counter-reset","listnumbering "+v))),A[u]||(A[u]=[]),A[u].push(o[0]);for(u in A)e(A[u]).addClass(u);O.each(function(){e(this).closest("li").addClass("ui-li-has-count")}),_&&O.not("[class*='ui-body-']").addClass(_),this._addThumbClasses(T),this._addThumbClasses(T.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(T,this._getVisibles(T,n),n)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e){function t(t){var n=e.trim(t.text())||null;return n?n=n.slice(0,1).toUpperCase():null}e.widget("mobile.listview",e.mobile.listview,{options:{autodividers:!1,autodividersSelector:t},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var t,r,i,s,o,u=null,f=this.element;for(f.children("li:jqmData(role='list-divider')").remove(),r=f.children("li"),t=0;t<r.length;t++)i=r[t],s=this.options.autodividersSelector(e(i)),s&&u!==s&&(o=n.createElement("li"),o.appendChild(n.createTextNode(s)),o.setAttribute("data-"+e.mobile.ns+"role","list-divider"),i.parentNode.insertBefore(o,i)),u=s}})}(e),function(e){var t=/(^|\s)ui-li-divider($|\s)/,n=/(^|\s)ui-screen-hidden($|\s)/;e.widget("mobile.listview",e.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var e,r,i,s=!0;if(this._superApply(arguments),this.options.hideDividers)for(e=this._getChildrenByTagName(this.element[0],"li","LI"),r=e.length-1;r>-1;r--)i=e[r],i.className.match(t)?(s&&(i.className=i.className+" ui-screen-hidden"),s=!0):i.className.match(n)||(s=!1)}})}(e),function(e){e.mobile.nojs=function(t){e(":jqmData(role='nojs')",t).addClass("ui-nojs")}}(e),function(e){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e,t){var n=e.mobile.path.hashToSelector;e.widget("mobile.checkboxradio",e.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var t=this.element,n=this.options,r=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},i=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),s=t[0].type,o="ui-"+s+"-on",u="ui-"+s+"-off";("checkbox"===s||"radio"===s)&&(this.element[0].disabled&&(this.options.disabled=!0),n.iconpos=r(t,"iconpos")||i.element.attr("data-"+e.mobile.ns+"iconpos")||n.iconpos,n.mini=r(t,"mini")||n.mini,e.extend(this,{input:t,label:i.element,labelIsParent:i.isParent,inputtype:s,checkedClass:o,uncheckedClass:u}),this.options.enhanced||this._enhance(),this._on(i.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(t,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var t,r,i,s=this.element,o=s[0].labels;return o&&o.length>0?(r=e(o[0]),i=e.contains(r[0],s[0])):(t=s.closest("label"),i=t.length>0,r=i?t:e(this.document[0].getElementsByTagName("label")).filter("[for='"+n(s[0].id)+"']").first()),{element:r,isParent:i}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return e("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(e.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(e.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(e){this.label.parent().hasClass("ui-state-disabled")&&e.stopPropagation()},_handleLabelVClick:function(e){var t=this.element;return t.is(":disabled")?void e.preventDefault():(this._cacheVals(),t.prop("checked","radio"===this.inputtype&&!0||!t.prop("checked")),t.triggerHandler("click"),this._getInputSet().not(t).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){e(this).attr("data-"+e.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var t,r,i=this.element[0],s=i.name,o=i.form,u=this.element.parents().last().get(0),f=this.element;return s&&"radio"===this.inputtype&&u&&(t="input[type='radio'][name='"+n(s)+"']",o?(r=o.getAttribute("id"),r&&(f=e(t+"[form='"+n(r)+"']",u)),f=e(o).find(t).filter(function(){return this.form===o}).add(f)):f=e(t,u).filter(function(){return!this.form})),f},_updateAll:function(t){var n=this;this._getInputSet().each(function(){var r=e(this);!this.checked&&"checkbox"!==n.inputtype||t||r.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var t,n,r=e.mobile.controlgroup;return r&&(t=this.element.closest(":mobile-controlgroup,"+r.prototype.initSelector),t.length>0)?(n=e.data(t[0],"mobile-controlgroup"),"horizontal"!==(n?n.options.type:t.attr("data-"+e.mobile.ns+"type"))):!0},refresh:function(){var t=this.element[0].checked,n=e.mobile.activeBtnClass,r="ui-btn-icon-"+this.options.iconpos,i=[],s=[];this._hasIcon()?(s.push(n),i.push(r)):(s.push(r),(t?i:s).push(n)),t?(i.push(this.checkedClass),s.push(this.uncheckedClass)):(i.push(this.uncheckedClass),s.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(i.join(" ")).removeClass(s.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(e){var n=this.label,r=this.options,i=this.widget(),s=this._hasIcon();e.disabled!==t&&(this.input.prop("disabled",!!e.disabled),i.toggleClass("ui-state-disabled",!!e.disabled)),e.mini!==t&&i.toggleClass("ui-mini",!!e.mini),e.theme!==t&&n.removeClass("ui-btn-"+r.theme).addClass("ui-btn-"+e.theme),e.wrapperClass!==t&&i.removeClass(r.wrapperClass).addClass(e.wrapperClass),e.iconpos!==t&&s?n.removeClass("ui-btn-icon-"+r.iconpos).addClass("ui-btn-icon-"+e.iconpos):s||n.removeClass("ui-btn-icon-"+r.iconpos),this._super(e)}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),e.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(e.mobile.focusClass)},blur:function(){this.widget().removeClass(e.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var t=this.options,n=this._getIconClasses(this.options);return e("<div class='ui-btn ui-input-btn"+(t.wrapperClass?" "+t.wrapperClass:"")+(t.theme?" ui-btn-"+t.theme:"")+(t.corners?" ui-corner-all":"")+(t.shadow?" ui-shadow":"")+(t.inline?" ui-btn-inline":"")+(t.mini?" ui-mini":"")+(t.disabled?" ui-state-disabled":"")+(n?" "+n:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(e){return e.icon?"ui-icon-"+e.icon+(e.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+e.iconpos:""},_setOptions:function(n){var r=this.widget();n.theme!==t&&r.removeClass(this.options.theme).addClass("ui-btn-"+n.theme),n.corners!==t&&r.toggleClass("ui-corner-all",n.corners),n.shadow!==t&&r.toggleClass("ui-shadow",n.shadow),n.inline!==t&&r.toggleClass("ui-btn-inline",n.inline),n.mini!==t&&r.toggleClass("ui-mini",n.mini),n.disabled!==t&&(this.element.prop("disabled",n.disabled),r.toggleClass("ui-state-disabled",n.disabled)),(n.icon!==t||n.iconshadow!==t||n.iconpos!==t)&&r.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(e.extend({},this.options,n))),this._super(n)},refresh:function(t){var n,r=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),t||(n=this.element.detach(),e(this.wrapper).text(this.element.val()).append(n)),this.options.disabled!==r&&this._setOptions({disabled:r})}})}(e),function(e){var t=e("meta[name=viewport]"),n=t.attr("content"),r=n+",maximum-scale=1, user-scalable=no",i=n+",maximum-scale=10, user-scalable=yes",s=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);e.mobile.zoom=e.extend({},{enabled:!s,locked:!1,disable:function(n){s||e.mobile.zoom.locked||(t.attr("content",r),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=n||!1)},enable:function(n){s||e.mobile.zoom.locked&&n!==!0||(t.attr("content",i),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){s||(t.attr("content",n),e.mobile.zoom.enabled=!0)}})}(e),function(e,t){e.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var t=this.options,n=this.element.is("[type='search'], :jqmData(type='search')"),r="TEXTAREA"===this.element[0].tagName,i=this.element.is("[data-"+(e.mobile.ns||"")+"type='range']"),s=(this.element.is("input")||this.element.is("[data-"+(e.mobile.ns||"")+"type='search']"))&&!i;this.element.prop("disabled")&&(t.disabled=!0),e.extend(this,{classes:this._classesFromOptions(),isSearch:n,isTextarea:r,isRange:i,inputNeedsWrap:s}),this._autoCorrect(),t.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var e=[];this.isTextarea&&e.push("ui-input-text"),(this.isTextarea||this.isRange)&&e.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):e=e.concat(this.classes),this.element.addClass(e.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var e=this.options,t=[];return t.push("ui-body-"+(null===e.theme?"inherit":e.theme)),e.corners&&t.push("ui-corner-all"),e.mini&&t.push("ui-mini"),e.disabled&&t.push("ui-state-disabled"),e.wrapperClass&&t.push(e.wrapperClass),t},_wrap:function(){return e("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||e.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(e.mobile.focusClass),this.options.preventFocusZoom&&e.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&e.mobile.zoom.disable(!0),this.widget().addClass(e.mobile.focusClass)},_setOptions:function(e){var n=this.widget();this._super(e),(e.disabled!==t||e.mini!==t||e.corners!==t||e.theme!==t||e.wrapperClass!==t)&&(n.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),n.addClass(this.classes.join(" "))),e.disabled!==t&&this.element.prop("disabled",!!e.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(e),function(e,r){e.widget("mobile.slider",e.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var i,s,o,u,f,l,h,p,v,m,g=this,y=this.element,w=this.options.trackTheme||e.mobile.getAttribute(y[0],"theme"),E=w?" ui-bar-"+w:" ui-bar-inherit",S=this.options.corners||y.jqmData("corners")?" ui-corner-all":"",x=this.options.mini||y.jqmData("mini")?" ui-mini":"",T=y[0].nodeName.toLowerCase(),N="select"===T,C=y.parent().is(":jqmData(role='rangeslider')"),k=N?"ui-slider-switch":"",L=y.attr("id"),A=e("[for='"+L+"']"),O=A.attr("id")||L+"-label",M=N?0:parseFloat(y.attr("min")),_=N?y.find("option").length-1:parseFloat(y.attr("max")),D=t.parseFloat(y.attr("step")||1),P=n.createElement("a"),H=e(P),B=n.createElement("div"),j=e(B),F=this.options.highlight&&!N?function(){var t=n.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(j)}():!1;if(A.attr("id",O),this.isToggleSwitch=N,P.setAttribute("href","#"),B.setAttribute("role","application"),B.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",k,E,S,x].join(""),P.className="ui-slider-handle",B.appendChild(P),H.attr({role:"slider","aria-valuemin":M,"aria-valuemax":_,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":O}),e.extend(this,{slider:j,handle:H,control:y,type:T,step:D,max:_,min:M,valuebg:F,isRangeslider:C,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),N){for(h=y.attr("tabindex"),h&&H.attr("tabindex",h),y.attr("tabindex","-1").focus(function(){e(this).blur(),H.focus()}),s=n.createElement("div"),s.className="ui-slider-inneroffset",o=0,u=B.childNodes.length;u>o;o++)s.appendChild(B.childNodes[o]);for(B.appendChild(s),H.addClass("ui-slider-handle-snapping"),i=y.find("option"),f=0,l=i.length;l>f;f++)p=f?"a":"b",v=f?" "+e.mobile.activeBtnClass:"",m=n.createElement("span"),m.className=["ui-slider-label ui-slider-label-",p,v].join(""),m.setAttribute("role","img"),m.appendChild(n.createTextNode(i[f].innerHTML)),e(m).prependTo(j);g._labels=e(".ui-slider-label",j)}y.addClass(N?"ui-slider-switch":"ui-slider-input"),this._on(y,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),j.bind("vmousedown",e.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(n,{vmousemove:"_preventDocumentDrag"}),this._on(j.add(n),{vmouseup:"_sliderVMouseUp"}),j.insertAfter(y),N||C||(s=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",y.add(j).wrapAll(s)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(r,r,!0)},_setOptions:function(e){e.theme!==r&&this._setTheme(e.theme),e.trackTheme!==r&&this._setTrackTheme(e.trackTheme),e.corners!==r&&this._setCorners(e.corners),e.mini!==r&&this._setMini(e.mini),e.highlight!==r&&this._setHighlight(e.highlight),e.disabled!==r&&this._setDisabled(e.disabled),this._super(e)},_controlChange:function(e){return this._trigger("controlchange",e)===!1?!1:void (this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var n=this._value();if(!this.options.disabled){switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:this.refresh(this.min);break;case e.mobile.keyCode.END:this.refresh(this.max);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:this.refresh(n+this.step);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:this.refresh(n-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(e){return this.options.disabled||1!==e.which&&0!==e.which&&e.which!==r?!1:this._trigger("beforestart",e)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(e),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.refresh(this.mouseMoved?this.userModified?0===this.beforeStart?1:0:this.beforeStart:0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(e){return this._trigger("drag",e)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(e),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(r,!1,!0)},refresh:function(t,r,i){var s,o,u,f,l,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k=this,L=e.mobile.getAttribute(this.element[0],"theme"),A=this.options.theme||L,O=A?" ui-btn-"+A:"",M=this.options.trackTheme||L,_=M?" ui-bar-"+M:" ui-bar-inherit",D=this.options.corners?" ui-corner-all":"",P=this.options.mini?" ui-mini":"";if(k.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",_,D,P].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var t=n.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(k.slider)}()),this.handle.addClass("ui-btn"+O+" ui-shadow"),p=this.element,d=!this.isToggleSwitch,v=d?[]:p.find("option"),m=d?parseFloat(p.attr("min")):0,g=d?parseFloat(p.attr("max")):v.length-1,y=d&&parseFloat(p.attr("step"))>0?parseFloat(p.attr("step")):1,"object"==typeof t){if(u=t,f=8,s=this.slider.offset().left,o=this.slider.width(),l=o/((g-m)/y),!this.dragging||u.pageX<s-f||u.pageX>s+o+f)return;h=l>1?(u.pageX-s)/o*100:Math.round((u.pageX-s)/o*100)}else null==t&&(t=d?parseFloat(p.val()||0):p[0].selectedIndex),h=(parseFloat(t)-m)/(g-m)*100;if(!isNaN(h)&&(b=h/100*(g-m)+m,w=(b-m)%y,E=b-w,2*Math.abs(w)>=y&&(E+=w>0?y:-y),S=100/((g-m)/y),b=parseFloat(E.toFixed(5)),"undefined"==typeof l&&(l=o/((g-m)/y)),l>1&&d&&(h=(b-m)*S*(1/y)),0>h&&(h=0),h>100&&(h=100),m>b&&(b=m),b>g&&(b=g),this.handle.css("left",h+"%"),this.handle[0].setAttribute("aria-valuenow",d?b:v.eq(b).attr("value")),this.handle[0].setAttribute("aria-valuetext",d?b:v.eq(b).getEncodedText()),this.handle[0].setAttribute("title",d?b:v.eq(b).getEncodedText()),this.valuebg&&this.valuebg.css("width",h+"%"),this._labels&&(x=this.handle.width()/this.slider.width()*100,T=h&&x+(100-x)*h/100,N=100===h?0:Math.min(x+100-T,100),this._labels.each(function(){var t=e(this).hasClass("ui-slider-label-a");e(this).width((t?T:N)+"%")})),!i)){if(C=!1,d?(C=parseFloat(p.val())!==b,p.val(b)):(C=p[0].selectedIndex!==b,p[0].selectedIndex=b),this._trigger("beforechange",t)===!1)return!1;!r&&C&&p.trigger("change")}},_setHighlight:function(e){e=!!e,e?(this.options.highlight=!!e,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(e){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+e);var t=this.options.theme?this.options.theme:"inherit",n=e?e:"inherit";this.control.removeClass("ui-body-"+t).addClass("ui-body-"+n)},_setTrackTheme:function(e){var t=this.options.trackTheme?this.options.trackTheme:"inherit",n=e?e:"inherit";this.slider.removeClass("ui-body-"+t).addClass("ui-body-"+n)},_setMini:function(e){e=!!e,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",e),this.element.toggleClass("ui-mini",e)),this.slider.toggleClass("ui-mini",e)},_setCorners:function(e){this.slider.toggleClass("ui-corner-all",e),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",e)},_setDisabled:function(e){e=!!e,this.element.prop("disabled",e),this.slider.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.toggleClass("ui-state-disabled",e)}},e.mobile.behaviors.formReset))}(e),function(e){function t(){return n||(n=e("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),n.clone()}var n;e.widget("mobile.slider",e.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),e.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var e=this.handle.offset();this._popup.offset({left:e.left+(this.handle.width()-this._popup.width())/2,top:e.top-this._popup.outerHeight()-5})},_setOption:function(e,n){this._super(e,n),"showValue"===e?this.handle.html(n&&!this.options.mini?this._value():""):"popupEnabled"===e&&n&&!this._popup&&(this._popup=t().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var e,t=this.options;t.popupEnabled&&this.handle.removeAttr("title"),e=this._value(),e!==this._currentValue&&(this._currentValue=e,t.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(e)),t.showValue&&!this.options.mini&&this.handle.html(e))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var e=this.options;e.popupEnabled&&this._popupVisible&&(e.showValue&&!e.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(e),function(e,t){e.widget("mobile.flipswitch",e.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?e.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var t=e("<div>"),n=this.options,r=this.element,i=n.theme?n.theme:"inherit",s=e("<a></a>",{href:"#"}),o=e("<span></span>"),u=r.get(0).tagName,f="INPUT"===u?n.onText:r.find("option").eq(1).text(),l="INPUT"===u?n.offText:r.find("option").eq(0).text();s.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(f),o.addClass("ui-flipswitch-off").text(l),t.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+i+" "+(n.wrapperClass?n.wrapperClass:"")+" "+(r.is(":checked")||r.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(r.is(":disabled")?" ui-state-disabled":"")+(n.corners?" ui-corner-all":"")+(n.mini?" ui-mini":"")).append(s,o),r.addClass("ui-flipswitch-input").after(t).appendTo(t),e.extend(this,{flipswitch:t,on:s,off:o,type:u})},_reset:function(){this.refresh()},refresh:function(){var e,t=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";e="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",e!==t&&this[e]()},_toggle:function(){var e=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[e]()},_keydown:function(t){t.which===e.mobile.keyCode.LEFT?this._left():t.which===e.mobile.keyCode.RIGHT?this._right():t.which===e.mobile.keyCode.SPACE&&(this._toggle(),t.preventDefault())},_setOptions:function(e){if(e.theme!==t){var n=e.theme?e.theme:"inherit",r=e.theme?e.theme:"inherit";this.widget().removeClass("ui-bar-"+n).addClass("ui-bar-"+r)}e.onText!==t&&this.on.text(e.onText),e.offText!==t&&this.off.text(e.offText),e.disabled!==t&&this.widget().toggleClass("ui-state-disabled",e.disabled),e.mini!==t&&this.widget().toggleClass("ui-mini",e.mini),e.corners!==t&&this.widget().toggleClass("ui-corner-all",e.corners),this._super(e)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.rangeslider",e.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var t=this.element,n=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",r=t.find("input").first(),i=t.find("input").last(),s=t.find("label").first(),o=e.data(r.get(0),"mobile-slider")||e.data(r.slider().get(0),"mobile-slider"),u=e.data(i.get(0),"mobile-slider")||e.data(i.slider().get(0),"mobile-slider"),f=o.slider,l=u.slider,c=o.handle,h=e("<div class='ui-rangeslider-sliders' />").appendTo(t);r.addClass("ui-rangeslider-first"),i.addClass("ui-rangeslider-last"),t.addClass(n),f.appendTo(h),l.appendTo(h),s.insertBefore(t),c.prependTo(l),e.extend(this,{_inputFirst:r,_inputLast:i,_sliderFirst:f,_sliderLast:l,_label:s,_targetVal:null,_sliderTarget:!1,_sliders:h,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(c,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var e=this;setTimeout(function(){e._updateHighlight()},0)},_dragFirstHandle:function(t){return e.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,e.data(this._inputFirst.get(0),"mobile-slider").refresh(t),e.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(t){var n=e(t.target).is(this._inputFirst),r=n?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&n||"last"===this._proxy&&!n?(e.data(r.get(0),"mobile-slider").dragging=!0,e.data(r.get(0),"mobile-slider").refresh(t),!1):void 0},_slidestop:function(t){var n=e(t.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",n?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1,e(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=e(t.target).val())},_setOptions:function(e){e.theme!==t&&this._setTheme(e.theme),e.trackTheme!==t&&this._setTrackTheme(e.trackTheme),e.mini!==t&&this._setMini(e.mini),e.highlight!==t&&this._setHighlight(e.highlight),e.disabled!==t&&this._setDisabled(e.disabled),this._super(e),this.refresh()},refresh:function(){var e=this.element,t=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),e.find("input").slider({theme:t.theme,trackTheme:t.trackTheme,disabled:t.disabled,corners:t.corners,mini:t.mini,highlight:t.highlight}).slider("refresh"),this._updateHighlight()},_change:function(t){if("keyup"===t.type)return this._updateHighlight(),!1;var n=this,r=parseFloat(this._inputFirst.val(),10),i=parseFloat(this._inputLast.val(),10),s=e(t.target).hasClass("ui-rangeslider-first"),o=s?this._inputFirst:this._inputLast,u=s?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===t.type&&!e(t.target).hasClass("ui-slider-handle"))o.blur();else if("mousedown"===t.type)return;return r>i&&!this._sliderTarget?(o.val(s?i:r).slider("refresh"),this._trigger("normalize")):r>i&&(o.val(this._targetVal).slider("refresh"),setTimeout(function(){u.val(s?r:i).slider("refresh"),e.data(u.get(0),"mobile-slider").handle.focus(),n._sliderFirst.css("z-index",s?"":1),n._trigger("normalize")},0),this._proxy=s?"first":"last"),r===i?(e.data(o.get(0),"mobile-slider").handle.css("z-index",1),e.data(u.get(0),"mobile-slider").handle.css("z-index",0)):(e.data(u.get(0),"mobile-slider").handle.css("z-index",""),e.data(o.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),r>=i?!1:void 0},_updateHighlight:function(){var t=parseInt(e.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),n=parseInt(e.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),r=n-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:r+"%"})},_setTheme:function(e){this._inputFirst.slider("option","theme",e),this._inputLast.slider("option","theme",e)},_setTrackTheme:function(e){this._inputFirst.slider("option","trackTheme",e),this._inputLast.slider("option","trackTheme",e)},_setMini:function(e){this._inputFirst.slider("option","mini",e),this._inputLast.slider("option","mini",e),this.element.toggleClass("ui-mini",!!e)},_setHighlight:function(e){this._inputFirst.slider("option","highlight",e),this._inputLast.slider("option","highlight",e)},_setDisabled:function(e){this._inputFirst.prop("disabled",e),this._inputLast.prop("disabled",e)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return e("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(e){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),e.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),e.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(e){this._super(e),e.clearBtn===t||this.element.is("textarea, :jqmData(type='range')")||(e.clearBtn?this._addClearBtn():this._destroyClear()),e.clearBtnText!==t&&this._clearBtn!==t&&this._clearBtn.text(e.clearBtnText).attr("title",e.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(t){e.contains(t.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==t.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(e.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(e){this.keyupTimeout&&clearTimeout(this.keyupTimeout),e===t?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",e)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var e,t,n,r,i,s,o,u,a,f=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),r=this.element[0].scrollHeight,i=this.element[0].clientHeight,s=parseFloat(this.element.css("border-top-width")),o=parseFloat(this.element.css("border-bottom-width")),u=s+o,a=r+u+15,0===i&&(e=parseFloat(this.element.css("padding-top")),t=parseFloat(this.element.css("padding-bottom")),n=e+t,a+=n),this.element.css({height:a,"min-height":"","max-height":""}),this.window.scrollTop(f)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(e){this._super(e),e.autogrow!==t&&this.isTextarea&&(e.autogrow?this._autogrow():this._unbindAutogrow())}})}(e),function(e){e.widget("mobile.selectmenu",e.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t=this.options.inline||this.element.jqmData("inline"),n=this.options.mini||this.element.jqmData("mini"),r="";~this.element[0].className.indexOf("ui-btn-left")&&(r=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(r=" ui-btn-right"),t&&(r+=" ui-btn-inline"),n&&(r+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+r+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=e("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var e=this.element.parents(".ui-select");e.length>0&&(e.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(e.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(e),e.remove())},_create:function(){this._preExtension(),this.button=this._button();var n=this,r=this.options,i=r.icon?r.iconpos||this.select.jqmData("iconpos"):!1,s=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(r.icon?" ui-icon-"+r.icon+" ui-btn-icon-"+i+(r.iconshadow?" ui-shadow-icon":""):"")+(r.theme?" ui-btn-"+r.theme:"")+(r.corners?" ui-corner-all":"")+(r.shadow?" ui-shadow":""));this.setButtonText(),r.nativeMenu&&t.opera&&t.opera.version&&s.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(s.addClass("ui-li-has-count"))),(r.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){n.refresh(),r.nativeMenu&&n._delay(function(){n.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,r=this.selected(),i=this.placeholder,s=e(n.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return i=r.length?r.map(function(){return e(this).text()}).get().join(", "):t.placeholder,i?s.text(i):s.html("&#160;"),s.addClass(t.select.attr("class")).addClass(r.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},e.mobile.behaviors.formReset))}(e),function(e){e.mobile.links=function(t){e(t).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,t=e.getAttribute("href").substring(1);t&&(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",t),e.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(e),function(e,n){function r(e,t,n,r){var i=r;return i=t>e?n+(e-t)/2:Math.min(Math.max(n,r-t/2),n+e-t)}function i(e){return{x:e.scrollLeft(),y:e.scrollTop(),cx:e[0].innerWidth||e.width(),cy:e[0].innerHeight||e.height()}}e.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!e.mobile.browser.oldIE},_handleDocumentVmousedown:function(t){this._isOpen&&e.contains(this._ui.container[0],t.target)&&this._ignoreResizeEvents()},_create:function(){var t=this.element,n=t.attr("id"),r=this.options;r.history=r.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),e.extend(this,{_scrollTop:0,_page:t.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=e("body")),r.enhanced?this._ui={container:t.parent(),screen:t.parent().prev(),placeholder:e(this.document[0].getElementById(n+"-placeholder"))}:(this._ui=this._enhance(t,n),this._applyTransition(r.transition)),this._setTolerance(r.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(t,n){var r=this.options,i=r.wrapperClass,s={screen:e("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",r.overlayTheme)+"'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(i?" "+i:"")+"'></div>")},o=this.document[0].createDocumentFragment();return o.appendChild(s.screen[0]),o.appendChild(s.container[0]),n&&(s.screen.attr("id",n+"-screen"),s.container.attr("id",n+"-popup"),s.placeholder.attr("id",n+"-placeholder").html("<!-- placeholder for "+n+" -->")),this._page[0].appendChild(o),s.placeholder.insertAfter(t),t.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",r.theme)+" "+(r.shadow?"ui-overlay-shadow ":"")+(r.corners?"ui-corner-all ":"")).appendTo(s.container),s},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.screen,t=this._ui.container.outerHeight(!0),n=e.removeAttr("style").height(),r=this.document.height()-1;r>n?e.height(r):t>n&&e.height(t)},_handleWindowKeyUp:function(t){return this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE?this._eatEventAndClose(t):void 0},_expectResizeEvent:function(){var e=i(this.window);if(this._resizeData){if(e.x===this._resizeData.windowCoordinates.x&&e.y===this._resizeData.windowCoordinates.y&&e.cx===this._resizeData.windowCoordinates.cx&&e.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:e},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var n,r=t.target,i=this._ui;if(this._isOpen){if(r!==i.container[0]){if(n=e(r),!e.contains(i.container[0],r))return e(this.document[0].activeElement).one("focus",e.proxy(function(){this._safelyBlur(r)},this)),i.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;i.focusElement[0]===i.container[0]&&(i.focusElement=n)}this._ignoreResizeEvents()}},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:e+"inherit"},_applyTransition:function(t){return t&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(e){var t=this.options,r=this.element,i=this._ui.screen;return e.wrapperClass!==n&&this._ui.container.removeClass(t.wrapperClass).addClass(e.wrapperClass),e.theme!==n&&r.removeClass(this._themeClassFromOption("ui-body-",t.theme)).addClass(this._themeClassFromOption("ui-body-",e.theme)),e.overlayTheme!==n&&(i.removeClass(this._themeClassFromOption("ui-overlay-",t.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",e.overlayTheme)),this._isOpen&&i.addClass("in")),e.shadow!==n&&r.toggleClass("ui-overlay-shadow",e.shadow),e.corners!==n&&r.toggleClass("ui-corner-all",e.corners),e.transition!==n&&(this._currentTransition||this._applyTransition(e.transition)),e.tolerance!==n&&this._setTolerance(e.tolerance),e.disabled!==n&&e.disabled&&this.close(),this._super(e)},_setTolerance:function(t){var r,i={t:30,r:15,b:30,l:15};if(t!==n)switch(r=String(t).split(","),e.each(r,function(e,t){r[e]=parseInt(t,10)}),r.length){case 1:isNaN(r[0])||(i.t=i.r=i.b=i.l=r[0]);break;case 2:isNaN(r[0])||(i.t=i.b=r[0]),isNaN(r[1])||(i.l=i.r=r[1]);break;case 4:isNaN(r[0])||(i.t=r[0]),isNaN(r[1])||(i.r=r[1]),isNaN(r[2])||(i.b=r[2]),isNaN(r[3])||(i.l=r[3])}return this._tolerance=i,this},_clampPopupWidth:function(e){var t,n=i(this.window),r={x:this._tolerance.l,y:n.y+this._tolerance.t,cx:n.cx-this._tolerance.l-this._tolerance.r,cy:n.cy-this._tolerance.t-this._tolerance.b};return e||this._ui.container.css("max-width",r.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:r,menuSize:t}},_calculateFinalLocation:function(e,t){var n,i=t.rc,s=t.menuSize;return n={left:r(i.cx,s.cx,i.x,e.x),top:r(i.cy,s.cy,i.y,e.y)},n.top=Math.max(0,n.top),n.top-=Math.min(n.top,Math.max(0,n.top+s.cy-this.document.height())),n},_placementCoords:function(e){return this._calculateFinalLocation(e,this._clampPopupWidth())},_createPrerequisites:function(t,n,r){var i,s=this;i={screen:e.Deferred(),container:e.Deferred()},i.screen.then(function(){i===s._prerequisites&&t()}),i.container.then(function(){i===s._prerequisites&&n()}),e.when(i.screen,i.container).done(function(){i===s._prerequisites&&(s._prerequisites=null,r())}),s._prerequisites=i},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prerequisites.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?void this._ui.container.addClass(t.containerClassToAdd).removeClass(t.classToRemove).animationComplete(e.proxy(t.prerequisites.container,"resolve")):(this._ui.container.removeClass(t.classToRemove),void t.prerequisites.container.resolve())},_desiredCoords:function(t){var n,r=null,s=i(this.window),o=t.x,u=t.y,f=t.positionTo;if(f&&"origin"!==f)if("window"===f)o=s.cx/2+s.x,u=s.cy/2+s.y;else{try{r=e(f)}catch(l){r=null}r&&(r.filter(":visible"),0===r.length&&(r=null))}return r&&(n=r.offset(),o=n.left+r.outerWidth()/2,u=n.top+r.outerHeight()/2),("number"!==e.type(o)||isNaN(o))&&(o=s.cx/2+s.x),("number"!==e.type(u)||isNaN(u))&&(u=s.cy/2+s.y),{x:o,y:u}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",n,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_safelyBlur:function(t){t!==this.window[0]&&"body"!==t.nodeName.toLowerCase()&&e(t).blur()},_openPrerequisitesComplete:function(){var t=this.element.attr("id"),n=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),e.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),n.length>0&&(this._ui.focusElement=n),this._ignoreResizeEvents(),t&&this.document.find("[aria-haspopup='true'][aria-owns='"+t+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(t){var n=e.extend({},this.options,t),r=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),n=!!t&&t[1],r=e.match(/Android (\d+(?:\.\d+))/),i=!!r&&r[1],s=e.indexOf("Chrome")>-1;return null!==r&&"4.0"===i&&n&&n>534.13&&!s?!0:!1}();this._createPrerequisites(e.noop,e.noop,e.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=n.transition,this._applyTransition(n.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(n),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&r&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:n.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var t=this._ui.container,r=this.element.attr("id");e.mobile.popup.active=n,e(":focus",t[0]).add(t[0]).blur(),r&&this.document.find("[aria-haspopup='true'][aria-owns='"+r+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(e.proxy(this,"_closePrerequisiteScreen"),e.proxy(this,"_closePrerequisiteContainer"),e.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:e.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(n,r){var i,s,o=this.options,u=!1;n&&n.isDefaultPrevented()||e.mobile.popup.active!==this||(t.scrollTo(0,this._scrollTop),n&&"pagebeforechange"===n.type&&r&&(i="string"==typeof r.toPage?r.toPage:r.toPage.jqmData("url"),i=e.mobile.path.parseUrl(i),s=i.pathname+i.search+i.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(s)?u=!0:n.preventDefault()),this.window.off(o.closeEvents),this.element.undelegate(o.closeLinkSelector,o.closeLinkEvents),this._close(u))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,e.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(t){var n,r,i,s,o,u,f=this,l=this.options;return e.mobile.popup.active||l.disabled?this:(e.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),l.history?(u=e.mobile.navigate.history,r=e.mobile.dialogHashKey,i=e.mobile.activePage,s=i?i.hasClass("ui-dialog"):!1,this._myUrl=n=u.getActive().url,(o=n.indexOf(r)>-1&&!s&&u.activeIndex>0)?(f._open(t),f._bindContainerClose(),this):(-1!==n.indexOf(r)||s?n=e.mobile.path.parseLocation().hash+r:n+=n.indexOf("#")>-1?r:"#"+r,this.window.one("beforenavigate",function(e){e.preventDefault(),f._open(t),f._bindContainerClose()}),this.urlAltered=!0,e.mobile.navigate(n,{role:"dialog"}),this)):(f._open(t),f._bindContainerClose(),f.element.delegate(l.closeLinkSelector,l.closeLinkEvents,function(e){f.close(),e.preventDefault()}),this))},close:function(){return e.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),e.mobile.popup.handleLink=function(t){var n,r=e.mobile.path,i=e(r.hashToSelector(r.parseUrl(t.attr("href")).hash)).first();i.length>0&&i.data("mobile-popup")&&(n=t.offset(),i.popup("open",{x:n.left+t.outerWidth()/2,y:n.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.on("pagebeforechange",function(t,n){"popup"===n.options.role&&(e.mobile.popup.handleLink(n.options.link),t.preventDefault())})}(e),function(e,t){var r=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",i=function(e,t,n){var i=e[n+"All"]().not(r).first();i.length&&(t.blur().attr("tabindex","-1"),i.find("a").first().focus())};e.widget("mobile.selectmenu",e.mobile.selectmenu,{_create:function(){var e=this.options;return e.nativeMenu=e.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(e){this._super(e),this._handleButtonVclickKeydown(e)},_handleButtonVclickKeydown:function(t){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===t.type||t.keyCode&&(t.keyCode===e.mobile.keyCode.ENTER||t.keyCode===e.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(e.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(e.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(t){var n="focusin"===t.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};e(t.target).attr("tabindex",n.tabindex).trigger(n.event)},_handleListKeydown:function(t){var n=e(t.target),r=n.closest("li");switch(t.keyCode){case 38:return i(r,n,"prev"),!1;case 40:return i(r,n,"next"),!1;case 13:case 32:return n.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){return"overlay"===this.menuType?(this.close(),!1):void 0},_handleListItemClick:function(t){var n=e(t.target).closest("li"),r=this.select[0].selectedIndex,i=e.mobile.getAttribute(n,"option-index"),s=this._selectOptions().eq(i)[0];s.selected=this.isMultiple?!s.selected:!0,this.isMultiple&&n.find("a").toggleClass("ui-checkbox-on",s.selected).toggleClass("ui-checkbox-off",!s.selected),this.isMultiple||r===i||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(i).find("a").first().focus()):this.close(),t.preventDefault()},build:function(){var n,r,i,s,o,u,f,l,c,h,p,d,v,m,g,y,w,E,S,x=this.options;return x.nativeMenu?this._super():(n=this.selectId,r=n+"-listbox",i=n+"-dialog",s=this.label,o=this.element.closest(".ui-page"),u=this.element[0].multiple,f=n+"-menu",l=x.theme?" data-"+e.mobile.ns+"theme='"+x.theme+"'":"",c=x.overlayTheme||x.theme||null,h=c?" data-"+e.mobile.ns+"overlay-theme='"+c+"'":"",p=x.dividerTheme&&u?" data-"+e.mobile.ns+"divider-theme='"+x.dividerTheme+"'":"",d=e("<div data-"+e.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+i+"'"+l+h+"><div data-"+e.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+e.mobile.ns+"role='content'></div></div>"),v=e("<div"+l+h+" id='"+r+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),m=e("<ul class='ui-selectmenu-list' id='"+f+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+l+p+"></ul>").appendTo(v),g=e("<div class='ui-header ui-bar-"+(x.theme?x.theme:"inherit")+"'></div>").prependTo(v),y=e("<h1 class='ui-title'></h1>").appendTo(g),this.isMultiple&&(S=e("<a>",{role:"button",text:x.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(g)),e.extend(this,{selectId:n,menuId:f,popupId:r,dialogId:i,thisPage:o,menuPage:d,label:s,isMultiple:u,theme:x.theme,listbox:v,list:m,header:g,headerTitle:y,headerClose:S,menuPageContent:w,menuPageClose:E,placeholder:""}),this.refresh(),this._origTabIndex===t&&(this._origTabIndex=null===this.select[0].getAttribute("tabindex")?!1:this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions().not(".ui-screen-hidden");return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var n,r;return this.options.nativeMenu?this._super(t):(n=this,(t||this._isRebuildRequired())&&n._buildList(),r=this.selectedIndices(),n.setButtonText(),n.setButtonCount(),void n.list.find("li:not(.ui-li-divider)").find("a").removeClass(e.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(t){var i=e(this);e.inArray(t,r)>-1?(i.attr("aria-selected",!0),n.isMultiple?i.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):i.hasClass("ui-screen-hidden")?i.next().find("a").addClass(e.mobile.activeBtnClass):i.find("a").addClass(e.mobile.activeBtnClass)):n.isMultiple&&i.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var e=this;"page"===e.menuType?(e.menuPage.dialog("close"),e.list.appendTo(e.listbox)):e.listbox.popup("close"),e._focusButton(),e.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var t=this.list.find("a."+e.mobile.activeBtnClass);0===t.length&&(t=this.list.find("li:not("+r+") a.ui-btn")),t.first().focus()},_decideFormat:function(){var t=this,n=this.window,r=t.list.parent(),i=r.outerHeight(),s=n.scrollTop(),o=t.button.offset().top,u=n.height();i>u-80||!e.support.scrollTop?(t.menuPage.appendTo(e.mobile.pageContainer).page(),t.menuPageContent=t.menuPage.find(".ui-content"),t.menuPageClose=t.menuPage.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),0===s&&o>u&&t.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",o)}),t.menuPage.one({pageshow:e.proxy(this,"_focusMenuItem"),pagehide:e.proxy(this,"close")}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.getEncodedText()||t.placeholder)):(t.menuType="overlay",t.listbox.one({popupafteropen:e.proxy(this,"_focusMenuItem")}))},_buildList:function(){var t,r,i,s,o,u,f,l,h,p,d,v,m,g,y=this,b=this.options,w=this.placeholder,E=!0,S="false",x="data-"+e.mobile.ns,T=x+"option-index",N=x+"icon",C=x+"role",k=x+"placeholder",L=n.createDocumentFragment(),A=!1;for(y.list.empty().filter(".ui-listview").listview("destroy"),t=this._selectOptions(),r=t.length,i=this.select[0],o=0;r>o;o++,A=!1)u=t[o],f=e(u),f.hasClass("ui-screen-hidden")||(l=u.parentNode,d=[],h=f.text(),p=n.createElement("a"),p.setAttribute("href","#"),p.appendChild(n.createTextNode(h)),l!==i&&"optgroup"===l.nodeName.toLowerCase()&&(v=l.getAttribute("label"),v!==s&&(m=n.createElement("li"),m.setAttribute(C,"list-divider"),m.setAttribute("role","option"),m.setAttribute("tabindex","-1"),m.appendChild(n.createTextNode(v)),L.appendChild(m),s=v)),!E||u.getAttribute("value")&&0!==h.length&&!f.jqmData("placeholder")||(E=!1,A=!0,null===u.getAttribute(k)&&(this._removePlaceholderAttr=!0),u.setAttribute(k,!0),b.hidePlaceholderMenuItems&&d.push("ui-screen-hidden"),w!==h&&(w=y.placeholder=h)),g=n.createElement("li"),u.disabled&&(d.push("ui-state-disabled"),g.setAttribute("aria-disabled",!0)),g.setAttribute(T,o),g.setAttribute(N,S),A&&g.setAttribute(k,!0),g.className=d.join(" "),g.setAttribute("role","option"),p.setAttribute("tabindex","-1"),this.isMultiple&&e(p).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),g.appendChild(p),L.appendChild(g));y.list[0].appendChild(L),this.isMultiple||w.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),y.list.listview()},_button:function(){return this.options.nativeMenu?this._super():e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+e.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(e),function(e,t){function n(e,t){var n=t?t:[];return n.push("ui-btn"),e.theme&&n.push("ui-btn-"+e.theme),e.icon&&(n=n.concat(["ui-icon-"+e.icon,"ui-btn-icon-"+e.iconpos]),e.iconshadow&&n.push("ui-shadow-icon")),e.inline&&n.push("ui-btn-inline"),e.shadow&&n.push("ui-shadow"),e.corners&&n.push("ui-corner-all"),e.mini&&n.push("ui-mini"),n}function r(e){var n,r,i,o=!1,u=!0,a={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},l=[];for(e=e.split(" "),n=0;n<e.length;n++)i=!0,r=s[e[n]],r!==t?(i=!1,a[r]=!0):0===e[n].indexOf("ui-btn-icon-")?(i=!1,u=!1,a.iconpos=e[n].substring(12)):0===e[n].indexOf("ui-icon-")?(i=!1,a.icon=e[n].substring(8)):0===e[n].indexOf("ui-btn-")&&8===e[n].length?(i=!1,a.theme=e[n].substring(7)):"ui-btn"===e[n]&&(i=!1,o=!0),i&&l.push(e[n]);return u&&(a.icon=""),{options:a,unknownClasses:l,alreadyEnhanced:o}}function i(e){return"-"+e.toLowerCase()}var s={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},o=function(){var n=e.mobile.getAttribute.apply(this,arguments);return null==n?t:n},u=/[A-Z]/g;e.fn.buttonMarkup=function(s,f){var l,p,v,m,y,w=e.fn.buttonMarkup.defaults;for(l=0;l<this.length;l++){if(v=this[l],p=f?{alreadyEnhanced:!1,unknownClasses:[]}:r(v.className),m=e.extend({},p.alreadyEnhanced?p.options:{},s),!p.alreadyEnhanced)for(y in w)m[y]===t&&(m[y]=o(v,y.replace(u,i)));v.className=n(e.extend({},w,m),p.unknownClasses).join(" "),"button"!==v.tagName.toLowerCase()&&v.setAttribute("role","button")}return this},e.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},e.extend(e.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(e),function(e,t){e.widget("mobile.controlgroup",e.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var t=this.element,n=this.options,r=e.mobile.page.prototype.keepNativeSelector();e.fn.buttonMarkup&&this.element.find(e.fn.buttonMarkup.initSelector).not(r).buttonMarkup(),e.each(this._childWidgets,e.proxy(function(t,n){e.mobile[n]&&this.element.find(e.mobile[n].initSelector).not(r)[n]()},this)),e.extend(this,{_ui:null,_initialRefresh:!0}),this._ui=n.enhanced?{groupLegend:t.children(".ui-controlgroup-label").children(),childWrapper:t.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(e){return e?"none"===e?"":"ui-group-theme-"+e:""},_enhance:function(){var t=this.element,n=this.options,r={groupLegend:t.children("legend"),childWrapper:t.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===n.type?"horizontal":"vertical")+" "+this._themeClassFromOption(n.theme)+" "+(n.corners?"ui-corner-all ":"")+(n.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(n.shadow===!0?"ui-shadow":"")+"'></div>").children()};return r.groupLegend.length>0&&e("<div role='heading' class='ui-controlgroup-label'></div>").append(r.groupLegend).prependTo(t),r},_init:function(){this.refresh()},_setOptions:function(e){var n,r,i=this.element;return e.type!==t&&(i.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===e.type?"horizontal":"vertical")),n=!0),e.theme!==t&&i.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(e.theme)),e.corners!==t&&i.toggleClass("ui-corner-all",e.corners),e.mini!==t&&i.toggleClass("ui-mini",e.mini),e.shadow!==t&&this._ui.childWrapper.toggleClass("ui-shadow",e.shadow),e.excludeInvisible!==t&&(this.options.excludeInvisible=e.excludeInvisible,n=!0),r=this._super(e),n&&this.refresh(),r},container:function(){return this._ui.childWrapper},refresh:function(){var t=this.container(),n=t.find(".ui-btn").not(".ui-slider-handle"),r=this._initialRefresh;e.mobile.checkboxradio&&t.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(n,this.options.excludeInvisible?this._getVisibles(n,r):n,r),this._initialRefresh=!1},_destroy:function(){var e,t,n=this.options;return n.enhanced?this:(e=this._ui,t=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(n.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(t),e.groupLegend.unwrap(),void e.childWrapper.children().unwrap())}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){e.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var t,n,r=this.element.is(":jqmData(role='header')")?"header":"footer",i=this.element.closest(".ui-page");0===i.length&&(i=!1,this._on(this.document,{pageshow:"refresh"})),e.extend(this,{role:r,page:i,leftbtn:t,rightbtn:n}),this.element.attr("role","header"===r?"banner":"contentinfo").addClass("ui-"+r),this.refresh(),this._setOptions(this.options)},_setOptions:function(e){if(e.addBackBtn!==t&&this._updateBackButton(),null!=e.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+e.backBtnTheme),e.backBtnText!==t&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(e.backBtnText),e.theme!==t){var n=this.options.theme?this.options.theme:"inherit",r=e.theme?e.theme:"inherit";this.element.removeClass("ui-bar-"+n).addClass("ui-bar-"+r)}this._super(e)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+e.mobile.ns+"role='none'])").attr("data-"+e.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var e=this.element.children("a, button");this.leftbtn=e.hasClass("ui-btn-left")&&!e.hasClass("ui-toolbar-back-btn"),this.rightbtn=e.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||e.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||e.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var t,n=this.options,r=n.backBtnTheme||n.theme;t=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&e(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+e.mobile.ns+"url")!==e.mobile.path.stripHash(location.hash):e.mobile.navigate&&e.mobile.navigate.history&&e.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?t.attached||(this.backButton=t.element=(t.element||e("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(r?"ui-btn-"+r+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+e.mobile.ns+"rel='back'>"+n.backBtnText+"</a>")).prependTo(this.element),t.attached=!0):t.element&&(t.element.detach(),t.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var e;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),e=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+e),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(e),function(e,t){e.widget("mobile.toolbar",e.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!e.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=e(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(n){if("fixed"===n.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var r=this.page?this.page:e(".ui-page-active").length>0?e(".ui-page-active"):e(".ui-page").eq(0);n.fullscreen!==t&&(n.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),r.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),r.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(n)},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var e=this.page?this.element.closest(".ui-page"):this.document;this._on(e,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&e.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,n){var r,i,s,o,u=this.options;u.disablePageZoom&&e.mobile.zoom.enable(!0),u.updatePagePadding&&this._off(this.window,"throttledresize"),u.trackPersistentToolbars&&(r=e(".ui-footer-fixed:jqmData(id)",this.page),i=e(".ui-header-fixed:jqmData(id)",this.page),s=r.length&&n.nextPage&&e(".ui-footer-fixed:jqmData(id='"+r.jqmData("id")+"')",n.nextPage)||e(),o=i.length&&n.nextPage&&e(".ui-header-fixed:jqmData(id='"+i.jqmData("id")+"')",n.nextPage)||e(),(s.length||o.length)&&(s.add(o).appendTo(e.mobile.pageContainer),n.nextPage.one("pageshow",function(){o.prependTo(this),s.appendTo(this)})))},_visible:!0,updatePagePadding:function(n){var r=this.element,i="header"===this.role,s=parseFloat(r.css(i?"top":"bottom"));this.options.fullscreen||(n=n&&n.type===t&&n||this.page||r.closest(".ui-page"),n=this.page?this.page:".ui-page-active",e(n).css("padding-"+(i?"top":"bottom"),r.outerHeight()+s))},_useTransition:function(t){var n=this.window,r=this.element,i=n.scrollTop(),s=r.height(),o=this.page?r.closest(".ui-page").height():e(".ui-page-active").height(),u=e.mobile.getScreenHeight();return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&i>s||"footer"===this.role&&!this.options.fullscreen&&o-s>i+u)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",n=this.element;this._useTransition(e)?n.removeClass("out "+t).addClass("in").animationComplete(function(){n.removeClass("in")}):n.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",n=this.element,r="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?n.addClass(r).removeClass("in").animationComplete(function(){n.addClass(t).removeClass(r)}):n.addClass(t).removeClass(r),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t,n,r=this,i=r.options,s=!0,o=this.page?this.page:e(".ui-page");o.bind("vclick",function(t){i.tapToggle&&!e(t.target).closest(i.tapToggleBlacklist).length&&r.toggle()}).bind("focusin focusout",function(o){screen.width<1025&&e(o.target).is(i.hideDuringFocus)&&!e(o.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==o.type||s?"focusin"===o.type&&s&&(clearTimeout(t),s=!1,n=setTimeout(function(){r.hide()},0)):(s=!0,clearTimeout(n),t=setTimeout(function(){r.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var t,n,r,i,s,o=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(r=e("body>.ui-"+this.role+"-fixed").add(o.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,s=e("body>.ui-"+this.role+"-fixed").add(o.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,n="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(n),s||(t="ui-page-"+this.role+"-fullscreen"),r||(i="header"===this.role,t+=" ui-page-"+this.role+"-fixed",o.css("padding-"+(i?"top":"bottom"),"")),o.removeClass(t))}})}(e),function(e){e.widget("mobile.toolbar",e.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,n=e.match(/AppleWebKit\/([0-9]+)/),r=!!n&&n[1],i=null,s=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)i="ios";else{if(!(e.indexOf("Android")>-1))return;i="android"}if("ios"===i)s._bindScrollWorkaround();else{if(!("android"===i&&r&&534>r))return;s._bindScrollWorkaround(),s._bindListThumbWorkaround()}},_viewportOffset:function(){var e=this.element,t=e.hasClass("ui-header"),n=Math.abs(e.offset().top-this.window.scrollTop());return t||(n=Math.round(n-this.window.height()+e.outerHeight())-60),n},_bindScrollWorkaround:function(){var e=this;this._on(this.window,{scrollstop:function(){var t=e._viewportOffset();t>2&&e._visible&&e._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(e(".ui-page-active").css("padding-bottom"));e(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){e(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(e),function(e,t){function n(){var e=i.clone(),t=e.eq(0),n=e.eq(1),r=n.children();return{arEls:n.add(t),gd:t,ct:n,ar:r}}var r=e.mobile.browser.oldIE&&e.mobile.browser.oldIE<=8,i=e("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(r?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");e.widget("mobile.popup",e.mobile.popup,{options:{arrow:""},_create:function(){var e,t=this._super();return this.options.arrow&&(this._ui.arrow=e=this._addArrow()),t},_addArrow:function(){var e,t=this.options,r=n();return e=this._themeClassFromOption("ui-body-",t.theme),r.ar.addClass(e+(t.shadow?" ui-overlay-shadow":"")),r.arEls.hide().appendTo(this.element),r},_unenhance:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()},_tryAnArrow:function(e,t,n,r,i){var s,o,u,a={},f={};return r.arFull[e.dimKey]>r.guideDims[e.dimKey]?i:(a[e.fst]=n[e.fst]+(r.arHalf[e.oDimKey]+r.menuHalf[e.oDimKey])*e.offsetFactor-r.contentBox[e.fst]+(r.clampInfo.menuSize[e.oDimKey]-r.contentBox[e.oDimKey])*e.arrowOffsetFactor,a[e.snd]=n[e.snd],s=r.result||this._calculateFinalLocation(a,r.clampInfo),o={x:s.left,y:s.top},f[e.fst]=o[e.fst]+r.contentBox[e.fst]+e.tipOffset,f[e.snd]=Math.max(s[e.prop]+r.guideOffset[e.prop]+r.arHalf[e.dimKey],Math.min(s[e.prop]+r.guideOffset[e.prop]+r.guideDims[e.dimKey]-r.arHalf[e.dimKey],n[e.snd])),u=Math.abs(n.x-f.x)+Math.abs(n.y-f.y),(!i||u<i.diff)&&(f[e.snd]-=r.arHalf[e.dimKey]+s[e.prop]+r.contentBox[e.snd],i={dir:t,diff:u,result:s,posProp:e.prop,posVal:f[e.snd]}),i)},_getPlacementState:function(e){var t,n,r=this._ui.arrow,i={clampInfo:this._clampPopupWidth(!e),arFull:{cx:r.ct.width(),cy:r.ct.height()},guideDims:{cx:r.gd.width(),cy:r.gd.height()},guideOffset:r.gd.offset()};return t=this.element.offset(),r.gd.css({left:0,top:0,right:0,bottom:0}),n=r.gd.offset(),i.contentBox={x:n.left-t.left,y:n.top-t.top,cx:r.gd.width(),cy:r.gd.height()},r.gd.removeAttr("style"),i.guideOffset={left:i.guideOffset.left-t.left,top:i.guideOffset.top-t.top},i.arHalf={cx:i.arFull.cx/2,cy:i.arFull.cy/2},i.menuHalf={cx:i.clampInfo.menuSize.cx/2,cy:i.clampInfo.menuSize.cy/2},i},_placementCoords:function(t){var n,i,s,o,u,f=this.options.arrow,l=this._ui.arrow;return l?(l.arEls.show(),u={},n=this._getPlacementState(!0),s={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-n.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:n.arHalf.cx+n.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:n.arHalf.cy+n.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-n.arHalf.cy,arrowOffsetFactor:0}},e.each((f===!0?"l,t,r,b":f).split(","),e.proxy(function(e,r){i=this._tryAnArrow(s[r],r,t,n,i)},this)),i?(l.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+i.dir).removeAttr("style").css(i.posProp,i.posVal).show(),r||(o=this.element.offset(),u[s[i.dir].fst]=l.ct.offset(),u[s[i.dir].snd]={left:o.left+n.contentBox.x,top:o.top+n.contentBox.y}),i.result):(l.arEls.hide(),this._super(t))):this._super(t)},_setOptions:function(e){var n,r=this.options.theme,i=this._ui.arrow,s=this._super(e);if(e.arrow!==t){if(!i&&e.arrow)return void (this._ui.arrow=this._addArrow());i&&!e.arrow&&(i.arEls.remove(),this._ui.arrow=null)}return i=this._ui.arrow,i&&(e.theme!==t&&(r=this._themeClassFromOption("ui-body-",r),n=this._themeClassFromOption("ui-body-",e.theme),i.ar.removeClass(r).addClass(n)),e.shadow!==t&&i.ar.toggleClass("ui-overlay-shadow",e.shadow)),s},_destroy:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()}})}(e),function(e,n){e.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var t=this.element,n=t.closest(".ui-page, :jqmData(role='page')");e.extend(this,{_closeLink:t.find(":jqmData(rel='close')"),_parentPage:n.length>0?n:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),e.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var e=this.element.find("."+this.options.classes.panelInner);return 0===e.length&&(e=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),e},_createModal:function(){var t=this,n=t._parentPage?t._parentPage.parent():t.element.parent();t._modal=e("<div class='"+t.options.classes.modal+"'></div>").on("mousedown",function(){t.close()}).appendTo(n)},_getPage:function(){var t=this._openedPage||this._parentPage||e("."+e.mobile.activePageClass);return t},_getWrapper:function(){var e=this._page().find("."+this.options.classes.pageWrapper);0===e.length&&(e=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=e},_getFixedToolbars:function(){var t=e("body").children(".ui-header-fixed, .ui-footer-fixed"),n=this._page().find(".ui-header-fixed, .ui-footer-fixed"),r=t.add(n).addClass(this.options.classes.pageFixedToolbar);return r},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(e){e.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(t){var n=this,r=n._panelInner.outerHeight(),i=r>e.mobile.getScreenHeight();i||!n.options.positionFixed?(i&&(n._unfixPanel(),e.mobile.resetActivePageHeight(r)),t&&this.window[0].scrollTo(0,e.mobile.defaultHomeScroll)):n._fixPanel()},_bindFixListener:function(){this._on(e(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(e(t),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var e=this;e.element.on("updatelayout",function(){e._open&&e._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(t){var r,i=this.element.attr("id");t.currentTarget.href.split("#")[1]===i&&i!==n&&(t.preventDefault(),r=e(t.target),r.hasClass("ui-btn")&&(r.addClass(e.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){r.removeClass(e.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var e=this,t=e._modal?e.element.add(e._modal):e.element;e.options.swipeClose&&("left"===e.options.position?t.on("swipeleft.panel",function(){e.close()}):t.on("swiperight.panel",function(){e.close()}))},_bindPageEvents:function(){var e=this;this.document.on("panelbeforeopen",function(t){e._open&&t.target!==e.element[0]&&e.close()}).on("keyup.panel",function(t){27===t.keyCode&&e._open&&e.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),e._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){e._open&&e.close(!0)}):this.document.on("pagebeforehide",function(){e._open&&e.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var n=this,r=n.options,i=function(){n._off(n.document,"panelclose"),n._page().jqmData("panel","open"),e.support.cssTransform3d&&r.animate&&"overlay"!==r.display&&(n._wrapper.addClass(r.classes.animate),n._fixedToolbars().addClass(r.classes.animate)),!t&&e.support.cssTransform3d&&r.animate?(n._wrapper||n.element).animationComplete(s,"transition"):setTimeout(s,0),r.theme&&"overlay"!==r.display&&n._page().parent().addClass(r.classes.pageContainer+"-themed "+r.classes.pageContainer+"-"+r.theme),n.element.removeClass(r.classes.panelClosed).addClass(r.classes.panelOpen),n._positionPanel(!0),n._pageContentOpenClasses=n._getPosDisplayClasses(r.classes.pageContentPrefix),"overlay"!==r.display&&(n._page().parent().addClass(r.classes.pageContainer),n._wrapper.addClass(n._pageContentOpenClasses),n._fixedToolbars().addClass(n._pageContentOpenClasses)),n._modalOpenClasses=n._getPosDisplayClasses(r.classes.modal)+" "+r.classes.modalOpen,n._modal&&n._modal.addClass(n._modalOpenClasses).height(Math.max(n._modal.height(),n.document.height()))},s=function(){n._open&&("overlay"!==r.display&&(n._wrapper.addClass(r.classes.pageContentPrefix+"-open"),n._fixedToolbars().addClass(r.classes.pageContentPrefix+"-open")),n._bindFixListener(),n._trigger("open"),n._openedPage=n._page())};n._trigger("beforeopen"),"open"===n._page().jqmData("panel")?n._on(n.document,{panelclose:i}):i(),n._open=!0}},close:function(t){if(this._open){var n=this,r=this.options,i=function(){n.element.removeClass(r.classes.panelOpen),"overlay"!==r.display&&(n._wrapper.removeClass(n._pageContentOpenClasses),n._fixedToolbars().removeClass(n._pageContentOpenClasses)),!t&&e.support.cssTransform3d&&r.animate?(n._wrapper||n.element).animationComplete(s,"transition"):setTimeout(s,0),n._modal&&n._modal.removeClass(n._modalOpenClasses).height("")},s=function(){r.theme&&"overlay"!==r.display&&n._page().parent().removeClass(r.classes.pageContainer+"-themed "+r.classes.pageContainer+"-"+r.theme),n.element.addClass(r.classes.panelClosed),"overlay"!==r.display&&(n._page().parent().removeClass(r.classes.pageContainer),n._wrapper.removeClass(r.classes.pageContentPrefix+"-open"),n._fixedToolbars().removeClass(r.classes.pageContentPrefix+"-open")),e.support.cssTransform3d&&r.animate&&"overlay"!==r.display&&(n._wrapper.removeClass(r.classes.animate),n._fixedToolbars().removeClass(r.classes.animate)),n._fixPanel(),n._unbindFixListener(),e.mobile.resetActivePageHeight(),n._page().jqmRemoveData("panel"),n._trigger("close"),n._openedPage=null};n._trigger("beforeclose"),i(),n._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var t,n=this.options,r=e("body > :mobile-panel").length+e.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==n.display&&(t=e("body > :mobile-panel").add(e.mobile.activePage.find(":mobile-panel")),0===t.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(n.classes.pageContentPrefix+"-open"),e.support.cssTransform3d&&n.animate&&this._fixedToolbars().removeClass(n.classes.animate),this._page().parent().removeClass(n.classes.pageContainer),n.theme&&this._page().parent().removeClass(n.classes.pageContainer+"-themed "+n.classes.pageContainer+"-"+n.theme))),r||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),n.classes.panelOpen,n.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(e),function(e,t){e.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),e.extend(this,{headers:t,allHeaders:t}),this._refresh(!0)},_setHeaders:function(){var e=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(e.children())},refresh:function(){this._refresh()},rebuild:e.noop,_refresh:function(){var t=this.element,n=t.find("thead tr");this._setHeaders(),n.each(function(){var r=0;e(this).children().each(function(){var i,s=parseInt(this.getAttribute("colspan"),10),o=":nth-child("+(r+1)+")";if(this.setAttribute("data-"+e.mobile.ns+"colstart",r+1),s)for(i=0;s-1>i;i++)r++,o+=", :nth-child("+(r+1)+")";e(this).jqmData("cells",t.find("tr").not(n.eq(0)).not(this).children(o)),r++})})}})}(e),function(e){e.widget("mobile.table",e.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:e.extend(e.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(e.extend(this,{_menu:null}),this.options.enhanced?(this._menu=e(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(t,n){var r,i=0,s=this.options,o=t.controlgroup("container");n?r=t.find("input"):o.empty(),this.headers.not("td").each(function(){var t,u,l=e(this),h=e.mobile.getAttribute(this,"priority");h&&(u=l.add(l.jqmData("cells")),u.addClass(s.classes.priorityPrefix+h),t=(n?r.eq(i++):e("<label><input type='checkbox' checked />"+(l.children("abbr").first().attr("title")||l.text())+"</label>").appendTo(o).children(0).checkboxradio({theme:s.columnPopupTheme})).jqmData("header",l).jqmData("cells",u),l.jqmData("input",t))}),n||t.controlgroup("refresh")},_menuInputChange:function(t){var n=e(t.target),r=n[0].checked;n.jqmData("cells").toggleClass("ui-table-cell-hidden",!r).toggleClass("ui-table-cell-visible",r)},_unlockCells:function(e){e.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var t,n,r,i,s=this.element,o=this.options,u=e.mobile.ns,f=this.document[0].createDocumentFragment();return t=this._id()+"-popup",n=e("<a href='#"+t+"' class='"+o.classes.columnBtn+" ui-btn ui-btn-"+(o.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+u+"rel='popup'>"+o.columnBtnText+"</a>"),r=e("<div class='"+o.classes.popup+"' id='"+t+"'></div>"),i=e("<fieldset></fieldset>").controlgroup(),this._addToggles(i,!1),i.appendTo(r),f.appendChild(r[0]),f.appendChild(n[0]),s.before(f),r.popup(),i},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(t){var n,r,i;if(this._super(t),!t&&"columntoggle"===this.options.mode)for(n=this.headers,r=[],this._menu.find("input").each(function(){var t=e(this),i=t.jqmData("header"),s=n.index(i[0]);s>-1&&!t.prop("checked")&&r.push(s)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,t),i=r.length-1;i>-1;i--)n.eq(r[i]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var t=e(this);this.checked="table-cell"===t.jqmData("cells").eq(0).css("display"),t.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(e),function(e){e.widget("mobile.table",e.mobile.table,{options:{mode:"reflow",classes:e.extend(e.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(e){this._super(e),e||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var t=this,n=this.options;e(t.allHeaders.get().reverse()).each(function(){var r,i,s=e(this).jqmData("cells"),o=e.mobile.getAttribute(this,"colstart"),u=s.not(this).filter("thead th").length&&" ui-table-cell-label-top",f=e(this).clone().contents();f.length>0&&(u?(r=parseInt(this.getAttribute("colspan"),10),i="",r&&(i="td:nth-child("+r+"n + "+o+")"),t._addLabels(s.filter(i),n.classes.cellLabels+u,f)):t._addLabels(s,n.classes.cellLabels,f))})},_addLabels:function(t,n,r){1===r.length&&"abbr"===r[0].nodeName.toLowerCase()&&(r=r.eq(0).attr("title")),t.not(":has(b."+n+")").prepend(e("<b class='"+n+"'></b>").append(r))}})}(e),function(e,n){var r=function(t,n){return-1===(""+(e.mobile.getAttribute(this,"filtertext")||e(this).text())).toLowerCase().indexOf(n)};e.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:r,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var t=this.options;e.extend(this,{_search:null,_timer:0}),this._setInput(t.input),t.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var n,r,i=this._search;if(i){if(n=i.val().toLowerCase(),r=e.mobile.getAttribute(i[0],"lastval")+"",r&&r===n)return;this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return this._trigger("beforefilter",null,{input:i})===!1?!1:(i[0].setAttribute("data-"+e.mobile.ns+"lastval",n),this._filterItems(n),void (this._timer=0))},250)}},_getFilterableItems:function(){var t=this.element,n=this.options.children,r=n?e.isFunction(n)?n():n.nodeName?e(n):n.jquery?n:this.element.find(n):{length:0};return 0===r.length&&(r=t.children()),r},_filterItems:function(t){var n,i,s,o,u=[],f=[],l=this.options,c=this._getFilterableItems();if(null!=t)for(i=l.filterCallback||r,s=c.length,n=0;s>n;n++)o=i.call(c[n],n,t)?f:u,o.push(c[n]);0===f.length?c[l.filterReveal&&0===t.length?"addClass":"removeClass"]("ui-screen-hidden"):(e(f).addClass("ui-screen-hidden"),e(u).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:c})},_refreshChildWidget:function(){var t,n,r=["collapsibleset","selectmenu","controlgroup","listview"];for(n=r.length-1;n>-1;n--)t=r[n],e.mobile[t]&&(t=this.element.data("mobile-"+t),t&&e.isFunction(t.refresh)&&t.refresh())},_setInput:function(n){var r=this._search;this._timer&&(t.clearTimeout(this._timer),this._timer=0),r&&(this._off(r,"keyup change input"),r=null),n&&(r=n.jquery?n:n.nodeName?e(n):this.document.find(n),this._on(r,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=r},_onKeyDown:function(t){t.keyCode===e.ui.keyCode.ENTER&&(t.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(e){this._preventKeyPress&&(e.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(e){var t=e.filterReveal!==n||e.filterCallback!==n||e.children!==n;this._super(e),e.input!==n&&(this._setInput(e.input),t=!0),t&&this.refresh()},_destroy:function(){var e=this.options,t=this._getFilterableItems();e.enhanced?t.toggleClass("ui-screen-hidden",e.filterReveal):t.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(e),function(e,t){var n=function(e,t){return function(n){t.call(this,n),e._syncTextInputOptions(n)}},r=/(^|\s)ui-li-divider(\s|$)/,i=e.mobile.filterable.prototype.options.filterCallback;e.mobile.filterable.prototype.options.filterCallback=function(e,t){return!this.className.match(r)&&i.call(this,e,t)},e.widget("mobile.filterable",e.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var t,n,r=this.element,i=["collapsibleset","selectmenu","controlgroup","listview"],s={};for(this._super(),e.extend(this,{_widget:null}),t=i.length-1;t>-1;t--)if(n=i[t],e.mobile[n]){if(this._setWidget(r.data("mobile-"+n)))break;s[n+"create"]="_handleCreate"}this._widget||this._on(r,s)},_handleCreate:function(e){this._setWidget(this.element.data("mobile-"+e.type.substring(0,e.type.length-6)))},_trigger:function(e,t,n){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===e&&this._widget._trigger("beforefilter",t,n),this._super(e,t,n)},_setWidget:function(e){return!this._widget&&e&&(this._widget=e,this._widget._setOptions=n(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(t){var n=this.options,r=!0,i={};if(!t){if(this._isSearchInternal())return;r=!1,t=e("<input data-"+e.mobile.ns+"type='search' placeholder='"+n.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),e("<form class='ui-filterable'></form>").append(t).submit(function(e){e.preventDefault(),t.blur()}).insertBefore(this.element),e.mobile.textinput&&(null!=this.options.filterTheme&&(i.theme=n.filterTheme),t.textinput(i))}this._super(t),this._isSearchInternal()&&r&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(n){var r=this._super(n);return n.filterPlaceholder!==t&&this._isSearchInternal()&&this._search.attr("placeholder",n.filterPlaceholder),n.filterTheme!==t&&this._search&&e.mobile.textinput&&this._search.textinput("option","theme",n.filterTheme),r},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(n){var r,i={};if(this._isSearchInternal()&&e.mobile.textinput){for(r in e.mobile.textinput.prototype.options)n[r]!==t&&(i[r]="theme"===r&&null!=this.options.filterTheme?this.options.filterTheme:n[r]);this._search.textinput("option",i)}}}),e.widget("mobile.listview",e.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var e;this._superApply(arguments),this.options.filter===!0&&(e=this.element.data("mobile-filterable"),e&&e.refresh())}})}(e),function(e,t){function n(){return++i}function r(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(s,""))===decodeURIComponent(location.href.replace(s,""))}var i=0,s=/#.*$/;e.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(n,i){return e(i).attr("aria-controls")===r?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r===this.options.active?!1:r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function r(){return t>i&&(t=0),0>t&&(t=i),t}for(var i=this.tabs.length-1;-1!==e.inArray(r(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void ("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,i){var s,o,u,f=e(i).uniqueId().attr("id"),l=e(i).closest("li"),c=l.attr("aria-controls");r(i)?(s=i.hash,o=t.element.find(t._sanitizeSelector(s))):(u=t._tabId(l),s="#"+u,o=t.element.find(s),o.length||(o=t._createPanel(u),o.insertAfter(t.panels[n-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s.substring(1),"aria-labelledby":f}),o.attr("aria-labelledby",f)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)t===!0||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,f=u?e():this._getPanelForTab(s),l=r.length?this._getPanelForTab(r):e(),c={oldTab:r,oldPanel:l,newTab:u?e():s,newPanel:f};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=u?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),l.length||f.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),f.length&&this.load(this.tabs.index(s),t),this._toggle(t,c))},_toggle:function(t,n){function r(){s.running=!1,s._trigger("activate",t,n)}function i(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,r):(o.show(),r())}var s=this,o=n.newPanel,u=n.oldPanel;this.running=!0,u.length&&this.options.hide?this._hide(u,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u.hide(),i()),u.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),o.length&&u.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var r=this.options.disabled;r!==!1&&(n===t?r=!1:(n=this._getIndex(n),r=e.isArray(r)?e.map(r,function(e){return e!==n?e:null}):e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(r))},disable:function(n){var r=this.options.disabled;if(r!==!0){if(n===t)r=!0;else{if(n=this._getIndex(n),-1!==e.inArray(n,r))return;r=e.isArray(r)?e.merge([n],r).sort():[n]}this._setupDisabled(r)}},load:function(t,n){t=this._getIndex(t);var i=this,s=this.tabs.eq(t),o=s.find(".ui-tabs-anchor"),u=this._getPanelForTab(s),f={tab:s,panel:u};r(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,f)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),u.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){u.html(e),i._trigger("load",n,f)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&i.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),u.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr},1)})))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})}(e),function(){}(e),function(e,t){function n(e){i=e.originalEvent,a=i.accelerationIncludingGravity,s=Math.abs(a.x),o=Math.abs(a.y),u=Math.abs(a.z),!t.orientation&&(s>7||(u>6&&8>o||8>u&&o>6)&&s>5)?r.enabled&&r.disable():r.enabled||r.enable()}e.mobile.iosorientationfixEnabled=!0;var r,i,s,o,u,a,f=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(f)&&f.indexOf("AppleWebKit")>-1?(r=e.mobile.zoom,void e.mobile.document.on("mobileinit",function(){e.mobile.iosorientationfixEnabled&&e.mobile.window.bind("orientationchange.iosorientationfix",r.enable).bind("devicemotion.iosorientationfix",n)})):void (e.mobile.iosorientationfixEnabled=!1)}(e,this),function(e,t,r){function i(){s.removeClass("ui-mobile-rendering")}var s=e("html"),o=e.mobile.window;e(t.document).trigger("mobileinit"),e.mobile.gradeA()&&(e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),s.addClass("ui-mobile ui-mobile-rendering"),setTimeout(i,5e3),e.extend(e.mobile,{initializePage:function(){var t=e.mobile.path,s=e(":jqmData(role='page'), :jqmData(role='dialog')"),u=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),f=e.mobile.path.parseLocation(),l=u?n.getElementById(u):r;s.length||(s=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),s.each(function(){var n=e(this);n[0].getAttribute("data-"+e.mobile.ns+"url")||n.attr("data-"+e.mobile.ns+"url",n.attr("id")||t.convertUrlToDataUrl(f.pathname+f.search))}),e.mobile.firstPage=s.first(),e.mobile.pageContainer=e.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),e.mobile.navreadyDeferred.resolve(),o.trigger("pagecontainercreate"),e.mobile.loading("show"),i(),e.mobile.hashListeningEnabled&&e.mobile.path.isHashValid(location.hash)&&(e(l).is(":jqmData(role='page')")||e.mobile.path.isPath(u)||u===e.mobile.dialogHashKey)?e.event.special.navigate.isPushStateEnabled()?(e.mobile.navigate.history.stack=[],e.mobile.navigate(e.mobile.path.isPath(location.hash)?location.hash:location.href)):o.trigger("hashchange",[!0]):(e.event.special.navigate.isPushStateEnabled()&&e.mobile.navigate.navigator.squash(t.parseLocation().href),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),e(function(){e.support.inlineSVG(),e.mobile.hideUrlBar&&t.scrollTo(0,1),e.mobile.defaultHomeScroll=e.support.scrollTop&&1!==e.mobile.window.scrollTop()?1:0,e.mobile.autoInitializePage&&e.mobile.initializePage(),e.mobile.hideUrlBar&&o.load(e.mobile.silentScroll),e.support.cssPointerEvents||e.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})}))}(e,this)}),define("app/templates/templates",["ember"],function(){return function(e){if(!JS_BUILD){require(["text!app/templates/backend_add.hbs","text!app/templates/backend_button.hbs","text!app/templates/backend_edit.hbs","text!app/templates/dialog.hbs","text!app/templates/file_upload.hbs","text!app/templates/graph_button.hbs","text!app/templates/graph_list_bar.hbs","text!app/templates/graph_list_control.hbs","text!app/templates/graph_list.hbs","text!app/templates/graph_list_item.hbs","text!app/templates/home.hbs","text!app/templates/image_list.hbs","text!app/templates/image_list_item.hbs","text!app/templates/ip_address_list_item.hbs","text!app/templates/key_add.hbs","text!app/templates/key_edit.hbs","text!app/templates/key.hbs","text!app/templates/key_list.hbs","text!app/templates/key_list_item.hbs","text!app/templates/login.hbs","text!app/templates/log_list.hbs","text!app/templates/log_list_item.hbs","text!app/templates/machine_add.hbs","text!app/templates/machine_edit.hbs","text!app/templates/machine.hbs","text!app/templates/machine_keys.hbs","text!app/templates/machine_keys_list_item.hbs","text!app/templates/machine_list.hbs","text!app/templates/machine_list_item.hbs","text!app/templates/machine_monitoring.hbs","text!app/templates/machine_power.hbs","text!app/templates/machine_shell.hbs","text!app/templates/machine_tags.hbs","text!app/templates/machine_tags_list_item.hbs","text!app/templates/messagebox.hbs","text!app/templates/metric_add_custom.hbs","text!app/templates/metric_add.hbs","text!app/templates/metric_node.hbs","text!app/templates/missing.hbs","text!app/templates/network_create.hbs","text!app/templates/network.hbs","text!app/templates/network_list.hbs","text!app/templates/network_list_item.hbs","text!app/templates/rule_edit.hbs","text!app/templates/rule.hbs","text!app/templates/rule_list.hbs","text!app/templates/script_add.hbs","text!app/templates/script_edit.hbs","text!app/templates/script.hbs","text!app/templates/script_list.hbs","text!app/templates/script_list_item.hbs","text!app/templates/script_log_list.hbs","text!app/templates/script_run.hbs","text!app/templates/subnet_list_item.hbs","text!app/templates/user_menu.hbs"],function(){Ember.TEMPLATES.backend_add=Ember.Handlebars.compile(arguments[0]),Ember.TEMPLATES.backend_button=Ember.Handlebars.compile(arguments[1]),Ember.TEMPLATES.backend_edit=Ember.Handlebars.compile(arguments[2]),Ember.TEMPLATES.dialog=Ember.Handlebars.compile(arguments[3]),Ember.TEMPLATES.file_upload=Ember.Handlebars.compile(arguments[4]),Ember.TEMPLATES.graph_button=Ember.Handlebars.compile(arguments[5]),Ember.TEMPLATES.graph_list_bar=Ember.Handlebars.compile(arguments[6]),Ember.TEMPLATES.graph_list_control=Ember.Handlebars.compile(arguments[7]),Ember.TEMPLATES.graph_list=Ember.Handlebars.compile(arguments[8]),Ember.TEMPLATES.graph_list_item=Ember.Handlebars.compile(arguments[9]),Ember.TEMPLATES.home=Ember.Handlebars.compile(arguments[10]),Ember.TEMPLATES.image_list=Ember.Handlebars.compile(arguments[11]),Ember.TEMPLATES.image_list_item=Ember.Handlebars.compile(arguments[12]),Ember.TEMPLATES.ip_address_list_item=Ember.Handlebars.compile(arguments[13]),Ember.TEMPLATES.key_add=Ember.Handlebars.compile(arguments[14]),Ember.TEMPLATES.key_edit=Ember.Handlebars.compile(arguments[15]),Ember.TEMPLATES.key=Ember.Handlebars.compile(arguments[16]),Ember.TEMPLATES.key_list=Ember.Handlebars.compile(arguments[17]),Ember.TEMPLATES.key_list_item=Ember.Handlebars.compile(arguments[18]),Ember.TEMPLATES.login=Ember.Handlebars.compile(arguments[19]),Ember.TEMPLATES.log_list=Ember.Handlebars.compile(arguments[20]),Ember.TEMPLATES.log_list_item=Ember.Handlebars.compile(arguments[21]),Ember.TEMPLATES.machine_add=Ember.Handlebars.compile(arguments[22]),Ember.TEMPLATES.machine_edit=Ember.Handlebars.compile(arguments[23]),Ember.TEMPLATES.machine=Ember.Handlebars.compile(arguments[24]),Ember.TEMPLATES.machine_keys=Ember.Handlebars.compile(arguments[25]),Ember.TEMPLATES.machine_keys_list_item=Ember.Handlebars.compile(arguments[26]),Ember.TEMPLATES.machine_list=Ember.Handlebars.compile(arguments[27]),Ember.TEMPLATES.machine_list_item=Ember.Handlebars.compile(arguments[28]),Ember.TEMPLATES.machine_monitoring=Ember.Handlebars.compile(arguments[29]),Ember.TEMPLATES.machine_power=Ember.Handlebars.compile(arguments[30]),Ember.TEMPLATES.machine_shell=Ember.Handlebars.compile(arguments[31]),Ember.TEMPLATES.machine_tags=Ember.Handlebars.compile(arguments[32]),Ember.TEMPLATES.machine_tags_list_item=Ember.Handlebars.compile(arguments[33]),Ember.TEMPLATES.messagebox=Ember.Handlebars.compile(arguments[34]),Ember.TEMPLATES.metric_add_custom=Ember.Handlebars.compile(arguments[35]),Ember.TEMPLATES.metric_add=Ember.Handlebars.compile(arguments[36]),Ember.TEMPLATES.metric_node=Ember.Handlebars.compile(arguments[37]),Ember.TEMPLATES.missing=Ember.Handlebars.compile(arguments[38]),Ember.TEMPLATES.network_create=Ember.Handlebars.compile(arguments[39]),Ember.TEMPLATES.network=Ember.Handlebars.compile(arguments[40]),Ember.TEMPLATES.network_list=Ember.Handlebars.compile(arguments[41]),Ember.TEMPLATES.network_list_item=Ember.Handlebars.compile(arguments[42]),Ember.TEMPLATES.rule_edit=Ember.Handlebars.compile(arguments[43]),Ember.TEMPLATES.rule=Ember.Handlebars.compile(arguments[44]),Ember.TEMPLATES.rule_list=Ember.Handlebars.compile(arguments[45]),Ember.TEMPLATES.script_add=Ember.Handlebars.compile(arguments[46]),Ember.TEMPLATES.script_edit=Ember.Handlebars.compile(arguments[47]),Ember.TEMPLATES.script=Ember.Handlebars.compile(arguments[48]),Ember.TEMPLATES.script_list=Ember.Handlebars.compile(arguments[49]),Ember.TEMPLATES.script_list_item=Ember.Handlebars.compile(arguments[50]),Ember.TEMPLATES.script_log_list=Ember.Handlebars.compile(arguments[51]),Ember.TEMPLATES.script_run=Ember.Handlebars.compile(arguments[52]),Ember.TEMPLATES.subnet_list_item=Ember.Handlebars.compile(arguments[53]),Ember.TEMPLATES.user_menu=Ember.Handlebars.compile(arguments[54]),e()});return}Ember.TEMPLATES.backend_add=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push('\n                   <span class="provider-icon-small">\n                        <span '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"Mist.backendAddController.provider.className"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></span>\n                    </span>\n                    "),i=r._triageMustache.call(e,"Mist.backendAddController.provider.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                "),n}function c(e,t){t.buffer.push("\n                    Select provider\n                ")}function h(e,t){var n="",i;return t.buffer.push('\n                    <li data-icon="false">\n                        <a '),t.buffer.push(a(r.action.call(e,"selectProvider","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('>\n                            <span class="provider-icon-small">\n                                <span '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"this.className"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></span>\n                            </span>\n                            "),i=r._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </a>\n                    </li>\n                "),n}function p(e,t){var n="",i;return t.buffer.push("\n            "),i=r["if"].call(e,"field.show",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(8,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        "),n}function d(e,t){var n="",i;return t.buffer.push("\n            <div "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"field.className :field Mist.backendAddController.provider.provider"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n\n                <!-- Field Label -->\n\n                "),i=r["if"].call(e,"field.label",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(9,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n\n                <!-- Field Wrapper -->\n\n                <div class="field-wrapper">\n                    <div '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":":first-child field.helpText::last-child"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                        "),i=r["if"].call(e,"field.isText",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(12,g,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),i=r["if"].call(e,"field.isFile",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(14,y,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),i=r["if"].call(e,"field.isCheckbox",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(16,b,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),i=r["if"].call(e,"field.isKey",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(18,w,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),i=r["if"].call(e,"field.isRegion",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(25,T,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),i=r["if"].call(e,"field.isSlider",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(32,L,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </div>\n                    "),i=r["if"].call(e,"field.helpText",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(34,A,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </div>\n            </div>\n            "),n}function v(e,t){var n="",i;return t.buffer.push("\n                    "),i=r.unless.call(e,"field.isCheckbox",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(10,m,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                "),n}function m(e,t){var n="";return t.buffer.push("\n                        <label "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"for":"field.name"},hashTypes:{"for":"STRING"},hashContexts:{"for":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            "),t.buffer.push(a(r.unbound.call(e,"field.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push(":\n                        </label>\n                    "),n}function g(e,t){var n="";return t.buffer.push("\n                            "),t.buffer.push(a(r.view.call(e,"Mist.TextField",{hash:{"data-theme":"a",type:"field.type",id:"field.name",placeholder:"field.placeholder",valueBinding:"field.value"},hashTypes:{"data-theme":"STRING",type:"ID",id:"ID",placeholder:"ID",valueBinding:"STRING"},hashContexts:{"data-theme":e,type:e,id:e,placeholder:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n                        "),n}function y(e,t){var n="";return t.buffer.push('\n                            <a class="ui-btn ui-btn-a"\n                                '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{id:"field.name"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:t}))),t.buffer.push("\n                                "),t.buffer.push(a(r.action.call(e,"uploadFile","field",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                                    "),t.buffer.push(a(r.unbound.call(e,"field.buttonText",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n                            </a>\n                        "),n}function b(e,t){var n="",i;return t.buffer.push("\n                            <label>\n                                "),t.buffer.push(a(r.view.call(e,"Mist.Checkbox",{hash:{"data-theme":"a",checkedBinding:"field.value"},hashTypes:{"data-theme":"STRING",checkedBinding:"ID"},hashContexts:{"data-theme":e,checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n                                "),i=r._triageMustache.call(e,"field.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                            </label>\n                        "),n}function w(e,t){var n="",i;return t.buffer.push("\n                            <div "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{id:"field.name"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:t}))),t.buffer.push('\n                                class="mist-select"\n                                data-role="collapsible"\n                                data-iconpos="right"\n                                data-collapsed-icon="carat-d"\n                                data-expanded-icon="carat-u"\n                                data-theme="a">\n                                <h4>'),i=r["if"].call(e,"field.value",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(21,S,t),fn:f.program(19,E,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</h4>\n                                <ul data-role="listview">\n                                    <li data-icon="false" data-theme="a">\n                                        <a '),t.buffer.push(a(r.action.call(e,"selectKey","","field",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e,e],types:["STRING","STRING","ID"],data:t}))),t.buffer.push(">-- None --</a>\n                                    </li>\n                                    "),i=r.each.call(e,"Mist.keysController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(23,x,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                                    <li data-icon="false" data-theme="d">\n                                        <a '),t.buffer.push(a(r.action.call(e,"createKeyClicked","field",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">Add Key</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        "),n}function E(e,t){var n;n=r._triageMustache.call(e,"field.value",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),n||n===0?t.buffer.push(n):t.buffer.push("")}function S(e,t){t.buffer.push("Select SSH Key")}function x(e,t){var n="",i;return t.buffer.push('\n                                        <li data-icon="false" data-theme="a">\n                                            <a '),t.buffer.push(a(r.action.call(e,"selectKey","","field",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e,e],types:["STRING","ID","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n                                        </li>\n                                    "),n}function T(e,t){var n="",i;return t.buffer.push("\n                            <div "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{id:"field.name"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:t}))),t.buffer.push('\n                                class="mist-select"\n                                data-role="collapsible"\n                                data-iconpos="right"\n                                data-collapsed-icon="carat-d"\n                                data-expanded-icon="carat-u"\n                                data-theme="a">\n                                <h4>'),i=r["if"].call(e,"field.value",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(28,C,t),fn:f.program(26,N,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</h4>\n                                <ul data-role="listview">\n                                    '),i=r.each.call(e,"view.providerRegions",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(30,k,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                </ul>\n                            </div>\n                        "),n}function N(e,t){var n;n=r._triageMustache.call(e,"view.selectedRegion",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),n||n===0?t.buffer.push(n):t.buffer.push("")}function C(e,t){t.buffer.push("Select Region")}function k(e,t){var n="",i;return t.buffer.push('\n                                        <li data-icon="false" data-theme="a">\n                                            <a '),t.buffer.push(a(r.action.call(e,"selectRegion","","field",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e,e],types:["STRING","ID","ID"],data:t}))),t.buffer.push(">\n                                                "),i=r._triageMustache.call(e,"location",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                            </a>\n                                        </li>\n                                    "),n}function L(e,t){var n="";return t.buffer.push('\n                            <select class="toggle-field" data-theme="a" data-role="slider"\n                            '),t.buffer.push(a(r.action.call(e,"switchToggled","field",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:e,target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('>\n                                <option value="0">'),t.buffer.push(a(r.unbound.call(e,"field.offLabel",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</option>\n                                <option value="1">'),t.buffer.push(a(r.unbound.call(e,"field.onLabel",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</option>\n                            </select>\n                        "),n}function A(e,t){var n="";return t.buffer.push('\n                        <div class="last-child">\n                            <a class="ui-btn ui-btn-a ui-btn-icon-notext ui-icon-question"\n                                '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{id:"field.helpId"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:t}))),t.buffer.push("\n                                "),t.buffer.push(a(r.action.call(e,"helpClicked","field",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                            </a>\n                        </div>\n                    "),n}function O(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}function M(e,t){var n="";return t.buffer.push('\n            <a target="_blank" '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{href:"view.helpHref"},hashTypes:{href:"STRING"},hashContexts:{href:e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                Read more...\n            </a>\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="backend-add"\n    data-swipe-close="false"\n    class="side-panel"\n    data-role="panel"\n    data-position="right"\n    data-display="overlay"\n    data-theme="c">\n\n    <div data-role="header">\n        <h1>Add cloud</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <label>Provider:</label>\n        <div id="new-backend-provider"\n            class="mist-select"\n            data-role="collapsible"\n            data-collapsed-icon="carat-d"\n            data-expanded-icon="carat-u"\n            data-iconpos="right"\n            data-theme="a">\n            <h4>'),u=r["if"].call(n,"Mist.backendAddController.provider.title",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(3,c,s),fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </h4>\n            <ul class="mist-select" data-role="listview" data-theme="a">\n                '),u=r.each.call(n,"Mist.backendsController.providerList",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </ul>\n        </div>\n        <style>\n\n        </style>\n        <div id="backend-add-fields">\n        '),u=r.each.call(n,"field","in","view.providerFields",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(7,p,s),contexts:[n,n,n],types:["ID","ID","ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </div>\n\n        "),u=r["if"].call(n,"Mist.backendsController.addingBackend",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(36,O,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-btn-a ui-shadow ui-corner-all" '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                Back\n            </a>\n            <a id="new-backend-ok"\n                '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"view.isReady::ui-state-disabled :ui-btn :ui-btn-d"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(a(r.action.call(n,"addClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Add</a>\n        </div>\n    </div>\n</div>\n\n<div id="help-tooltip-screen"\n    class="ui-popup-screen\n        ui-overlay-b\n        ui-screen-hidden">\n</div>\n<div id="help-tooltip-popup"\n     class="pop\n        ui-popup-container\n        ui-popup-hidden\n        ui-popup-truncate">\n    <div id="help-tooltip"\n         class="ui-popup\n            ui-body-a\n            ui-overlay-shadow\n            ui-corner-all"\n         data-role="popup"\n         data-arrow="true"\n         data-enhanced="true"\n         data-transition="flip">\n        <p>'),u=r._triageMustache.call(n,"view.helpText",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n            "),u=r["if"].call(n,"view.helpHref",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(38,M,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </p>\n    </div>\n</div>\n\n"),s.buffer.push(a(r.view.call(n,"keyAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n"),s.buffer.push(a(r.view.call(n,"fileUpload",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n"),o}),Ember.TEMPLATES.backend_button=Ember.Handlebars.template(function(t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression;return s.buffer.push("<a "),s.buffer.push(a(r.action.call(n,"buttonClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">"),u=r._triageMustache.call(n,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</a>\n"),o}),Ember.TEMPLATES.backend_edit=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<!-- Popup Overlay -->\n\n<div id="backend-edit-screen"\n    class="ui-popup-screen\n        ui-overlay-b\n        ui-screen-hidden">\n</div>\n\n<!-- Popup Wrapper -->\n<div id="backend-edit-popup"\n     class="pop\n        ui-popup-container\n        ui-popup-hidden\n        ui-popup-truncate">\n\n    <!-- Popup -->\n\n    <div id="backend-edit"\n         class="mid-popup\n            ui-popup\n            ui-body-a\n            ui-overlay-shadow\n            ui-corner-all"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n         <!-- Header -->\n\n        <div class="ui-header ui-bar-b">\n\n            <h1 class="ui-title">Edit cloud</h1>\n\n        </div>\n\n        <!-- Body -->\n\n        <div role="main" class="ui-content" data-theme="a">\n\n            <!-- New backend title text field -->\n\n            '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{valueBinding:"Mist.backendEditController.newTitle"},hashTypes:{valueBinding:"STRING"},hashContexts:{valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n            <!-- Backend state toggle switch -->\n\n            <div data-role="fieldcontain">\n                <select id="backend-toggle" data-role="slider"\n                    '),s.buffer.push(a(r.action.call(n,"stateToggleSwitched",{hash:{target:"view",on:"change"},hashTypes:{target:"STRING",on:"STRING"},hashContexts:{target:n,on:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                        <option value="0">Disabled</option>\n                        <option value="1">Enabled</option>\n                </select>\n                <span class="state">'),u=r._triageMustache.call(n,"Mist.backendEditController.backend.state",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</span>\n            </div>\n\n            <!-- Delete button -->\n\n            <a class="ui-btn ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"deleteClicked",{hash:{target:"view",on:"click"},hashTypes:{target:"STRING",on:"STRING"},hashContexts:{target:n,on:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                Delete\n            </a>\n\n            <!-- Delete confirmation -->\n\n            <div id="backend-delete-confirm">\n                <label>Confirm backend removal?</label>\n                <label id="monitoring-message">There are monitored machines.\n                    <br />Monitoring for these will be disabled\n                </label>\n                <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n                    <a class="ui-btn ui-shadow ui-corner-all" id="button-confirm-disable"\n                        '),s.buffer.push(a(r.action.call(n,"yesClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Yes</a>\n                    <a class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n                        '),s.buffer.push(a(r.action.call(n,"noClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">No</a>\n                </div>\n            </div>\n\n            "),u=r["if"].call(n,"Mist.backendsController.deletingBackend",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n            <!-- Back button -->\n\n            <a class="ui-btn ui-shadow ui-corner-all button-back"\n                '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Back</a>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.dialog=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n\n                "),i=r["if"].call(e,"paragraph",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n                "),i=r["if"].call(e,"link",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n                "),i=r["if"].call(e,"command",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n            "),n}function c(e,t){var n="",i;return t.buffer.push("\n                    <p "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"this.class"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"paragraph",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</p>\n                "),n}function h(e,t){var n="",i;return t.buffer.push("\n                    <a "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{href:"this.href","class":"this.class",target:"this.target"},hashTypes:{href:"STRING","class":"STRING",target:"STRING"},hashContexts:{href:e,"class":e,target:e},contexts:[],types:[],data:t}))),t.buffer.push("\n                        "),t.buffer.push(a(r.action.call(e,"linkClicked","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                            "),i=r._triageMustache.call(e,"link",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </a>\n                "),n}function p(e,t){var n="",i;return t.buffer.push('\n                    <pre class="command-container"\n                        '),t.buffer.push(a(r.action.call(e,"commandClicked","",{hash:{on:"click",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:e,target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"command",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</pre>\n                "),n}function d(e,t){var n="";return t.buffer.push('\n\n                <a class="ui-btn ui-btn-a ui-corner-all"\n                    '),t.buffer.push(a(r.action.call(e,"confirm",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">OK</a>\n\n            "),n}function v(e,t){var n;n=r["if"].call(e,"view.isBack",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(13,g,t),fn:f.program(11,m,t),contexts:[e],types:["ID"],data:t}),n||n===0?t.buffer.push(n):t.buffer.push("")}function m(e,t){var n="";return t.buffer.push('\n\n                <a class="ui-btn ui-btn-a ui-corner-all"\n                    '),t.buffer.push(a(r.action.call(e,"confirm",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Back</a>\n\n            "),n}function g(e,t){var n="",i;return t.buffer.push('\n\n                <div class="ok-cancel\n                        ui-controlgroup\n                        ui-controlgroup-horizontal\n                        ui-group-theme-a\n                        ui-corner-all"\n                    data-role="controlgroup"\n                    data-type="horizontal">\n\n                    '),i=r["if"].call(e,"view.isOKCancel",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(14,y,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n                    "),i=r["if"].call(e,"view.isYesNo",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(16,b,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n                </div>\n\n            "),n}function y(e,t){var n="";return t.buffer.push('\n                        <a class="ui-btn"\n                            '),t.buffer.push(a(r.action.call(e,"reject",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push('>\n                                Cancel\n                        </a>\n                        <a class="ui-btn ui-btn-d"\n                            '),t.buffer.push(a(r.action.call(e,"confirm",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                                OK\n                        </a>\n                    "),n}function b(e,t){var n="";return t.buffer.push('\n                        <a class="ui-btn ui-btn-d"\n                            '),t.buffer.push(a(r.action.call(e,"reject",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push('>\n                                No\n                        </a>\n                        <a class="ui-btn"\n                            '),t.buffer.push(a(r.action.call(e,"confirm",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                                Yes\n                        </a>\n                    "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<!-- Popup Overlay -->\n\n<div id="dialog-screen"\n    class="ui-popup-screen ui-overlay-b ui-screen-hidden">\n</div>\n\n<!-- Popup Wrapper -->\n\n<div id="dialog-popup"\n    class="flip\n        ui-popup-container\n        ui-popup-hidden\n        ui-popup-truncate">\n\n    <!-- Popup -->\n\n    <div id="dialog"\n        class="large-popup\n            ui-popup\n            ui-body-inherit\n            ui-overlay-shadow\n            ui-corner-all"\n        data-role="popup"\n        data-enhanced="true"\n        data-transition="flip"\n        data-dismissible="false">\n\n\n        <!-- Header -->\n\n        <div class="ui-header ui-bar-b" role="banner">\n\n            <h1 class="ui-title">\n                '),u=r._triageMustache.call(n,"Mist.dialogController.options.head",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </h1>\n\n        </div>\n\n        <!-- Body -->\n\n        <div class="ui-content ui-body-a" role="main">\n\n\n            '),u=r.each.call(n,"Mist.dialogController.options.body",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n\n            <!-- Buttons -->\n\n            "),u=r["if"].call(n,"view.isOK",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(10,v,s),fn:f.program(8,d,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.file_upload=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n                <div class="ajax-loader add-key-loader"></div>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<div id="file-upload" class="large-popup" data-role="popup" data-overlay-theme="b" data-transition="flip">\n\n    <div data-role="header" data-theme="b">\n        <h1>'),u=r._triageMustache.call(n,"Mist.fileUploadController.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <label for="textarea-private-key">'),u=r._triageMustache.call(n,"Mist.fileUploadController.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push(":\n            "),u=r["if"].call(n,"Mist.fileUploadController.uploadingFile",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </label>\n        "),s.buffer.push(f(r.view.call(n,"Ember.TextArea",{hash:{id:"upload-area",valueBinding:"Mist.fileUploadController.file"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        <a class="ui-btn ui-corner-all ui-btn-a ui-btn-icon-right ui-icon-arrow-u"\n            '),s.buffer.push(f(r.action.call(n,"uploadClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Upload</a>\n\n        <input id="file-upload-input" type="file" name="file" '),s.buffer.push(f(r.action.call(n,"uploadInputChanged",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('/>\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-corner-all ui-btn-a" '),s.buffer.push(f(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n            <a id="file-upload-ok" class="ui-btn ui-corner-all ui-btn-d ui-state-disabled"\n                '),s.buffer.push(f(r.action.call(n,"doneClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Done</a>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.graph_button=Ember.Handlebars.template(function(t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u=this.escapeExpression;return s.buffer.push('<div class="graph-button" '),s.buffer.push(u(r["bind-attr"].call(n,{hash:{id:"view.buttonId"},hashTypes:{id:"STRING"},hashContexts:{id:n},contexts:[],types:[],data:s}))),s.buffer.push('>\n    <a class="ui-btn ui-btn-icon-left ui-icon-arrow-u ui-corner-all"\n        '),s.buffer.push(u(r.action.call(n,"graphButtonClicked","view.graph",{hash:{target:"view.actionProxy"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","ID"],data:s}))),s.buffer.push(">\n            "),s.buffer.push(u(r.unbound.call(n,"view.graph.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n    </a>\n</div>\n"),o}),Ember.TEMPLATES.graph_list_bar=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push("\n        "),t.buffer.push(a(r.view.call(e,"graphButton",{hash:{graphBinding:"this",actionProxyBinding:"view.actionProxy"},hashTypes:{graphBinding:"STRING",actionProxyBinding:"STRING"},hashContexts:{graphBinding:e,actionProxyBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n    "),n}function c(e,t){var n="";return t.buffer.push('\n        <div class="graph-button" id="add-metric-btn">\n            <a class="ui-btn ui-btn-icon-left ui-icon-plus ui-corner-all ui-btn-d"\n                '),t.buffer.push(a(r.action.call(e,"addGraphClicked",{hash:{target:"view.actionProxy"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                    Add Graph\n            </a>\n        </div>\n    "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="graphBar">\n\n    '),u=r.each.call(n,"Mist.graphsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n    "),u=r["if"].call(n,"Mist.graphsController.config.canModify",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n</div>\n"),o}),Ember.TEMPLATES.graph_list_control=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push('\n            <a id="history-control-forward"\n                class="time\n                    ui-btn\n                    ui-mini\n                    ui-corner-all\n                    ui-btn-inline\n                    ui-btn-icon-notext\n                    ui-icon-arrow-r"\n                '),t.buffer.push(a(r.action.call(e,"forwardClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n            </a>\n        "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="graph-list-control">\n\n    <div id="history-control" class="ui-mini">\n        <!--\n            Back Button\n        -->\n        <a id="history-control-back"\n            class="time\n                ui-btn\n                ui-mini\n                ui-corner-all\n                ui-btn-inline\n                ui-btn-icon-notext\n                ui-icon-arrow-l"\n            '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n        </a>\n        <!--\n            Forward Button\n        -->\n        "),u=r.unless.call(n,"Mist.graphsController.stream.isStreaming",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        <div id="time-window-control" '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":":ui-mini Mist.graphsController.stream.isStreaming"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push('>\n            <a class="ui-btn ui-btn-icon-right ui-icon-carat-d"\n                '),s.buffer.push(a(r.action.call(n,"timeWindowClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                    "),u=r._triageMustache.call(n,"view.timeWindowText",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </a>\n        </div>\n\n    </div>\n\n    <div id="change-time-window" data-role="popup" data-transition="flip" data-position-to="#time-window-control">\n        <ul data-role=\'listview\'>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"timeWindowChanged","minutes","last 10 mins",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n,n],types:["STRING","STRING","STRING"],data:s}))),s.buffer.push('>\n                    last 10 mins</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"timeWindowChanged","hour","last hour",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n,n],types:["STRING","STRING","STRING"],data:s}))),s.buffer.push('>\n                    last hour</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"timeWindowChanged","day","last day",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n,n],types:["STRING","STRING","STRING"],data:s}))),s.buffer.push('>\n                    last day</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"timeWindowChanged","week","last week",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n,n],types:["STRING","STRING","STRING"],data:s}))),s.buffer.push('>\n                    last week</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"timeWindowChanged","month","last month",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n,n],types:["STRING","STRING","STRING"],data:s}))),s.buffer.push('>\n                    last month</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"timeWindowChanged","range","range",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n,n],types:["STRING","STRING","STRING"],data:s}))),s.buffer.push('>\n                    custom range</a>\n            </li>\n        </ul>\n    </div>\n\n\n    <!--\n        Pick Range Popup\n    -->\n\n    <div id="pick-range-screen"\n        class="ui-popup-screen ui-screen-hidden">\n    </div>\n    <div>\n        <div id="pick-range-popup"\n            class="flip\n                ui-popup-container\n                ui-popup-hidden\n                ui-popup-truncate">\n            <div id="pick-range"\n                class="small-popup\n                    ui-popup\n                    ui-body-inherit\n                    ui-overlay-shadow\n                    ui-corner-all"\n                data-role="popup"\n                data-enhanced="true"\n                data-position-to="#time-window-control"\n                data-transition="flip">\n\n                <div class="ui-header ui-bar-b" role="banner">\n                    <h1 class="ui-title">Select Range</h1>\n                </div>\n                <div class="ui-content ui-body-a" role="main">\n                    <label>From:</label>\n                    '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"range-start",placeholder:"range start"},hashTypes:{id:"STRING",placeholder:"STRING"},hashContexts:{id:n,placeholder:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n                    <label>To:</label>\n                    "),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"range-stop",placeholder:"range stop"},hashTypes:{id:"STRING",placeholder:"STRING"},hashContexts:{id:n,placeholder:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n                    <div class="ok-cancel\n                            ui-controlgroup\n                            ui-controlgroup-horizontal\n                            ui-group-theme-a\n                            ui-corner-all"\n                        data-role="controlgroup"\n                        data-type="horizontal">\n\n                        <a class="ui-btn"\n                            '),s.buffer.push(a(r.action.call(n,"rangeBackClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                                Back\n                        </a>\n                        <a id="key-add-ok" class="ui-btn ui-btn-d"\n                            '),s.buffer.push(a(r.action.call(n,"rangeOkClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                                OK\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.graph_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n\n    <!--\n        Control Widget\n    -->\n    "),i=r["if"].call(e,"Mist.graphsController.config.canControl",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n\n    <!--\n        Graphs\n    -->\n\n    <div id="graphs">\n        '),i=r.each.call(e,"Mist.graphsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n    </div>\n\n    <!--\n        Minimized graph buttons\n    -->\n\n    "),i=r["if"].call(e,"Mist.graphsController.config.canMinimize",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n"),n}function c(e,t){var n="";return t.buffer.push('\n        <div id="top-history">\n            '),t.buffer.push(a(r.view.call(e,"graphListControl",{hash:{actionProxyBinding:"view.actionProxy"},hashTypes:{actionProxyBinding:"STRING"},hashContexts:{actionProxyBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n        </div>\n    "),n}function h(e,t){var n="";return t.buffer.push("\n            "),t.buffer.push(a(r.view.call(e,"graphListItem",{hash:{graphBinding:"this",actionProxyBinding:"view.actionProxy"},hashTypes:{graphBinding:"STRING",actionProxyBinding:"STRING"},hashContexts:{graphBinding:e,actionProxyBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n        "),n}function p(e,t){var n="";return t.buffer.push("\n        "),t.buffer.push(a(r.view.call(e,"graphListBar",{hash:{actionProxyBinding:"view.actionProxy"},hashTypes:{actionProxyBinding:"STRING"},hashContexts:{actionProxyBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n    "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return u=r["if"].call(n,"Mist.graphsController.isOpen",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n"),o}),Ember.TEMPLATES.graph_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n\n            <div class="ajax-loader"></div>\n\n        ')}function c(e,t){var n="",i;return t.buffer.push("\n\n            "),i=r["if"].call(e,"view.graph.pendingRemoval",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n            "),i=r["if"].call(e,"Mist.graphsController.fetchingStats",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(6,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        "),n}function h(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n            ')}function p(e,t){t.buffer.push('\n                <div class="ajax-loader fetching-stats-loader"></div>\n            ')}function d(e,t){var n="",i;return t.buffer.push("\n            "),i=r.unless.call(e,"view.graph.isBuiltIn",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(9,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        "),n}function v(e,t){var n="";return t.buffer.push('\n                <a class="ui-btn ui-shadow ui-corner-all ui-icon-delete ui-btn-icon-notext"\n                    '),t.buffer.push(f(r.action.call(e,"removeClicked","view.graph",{hash:{target:"view.actionProxy"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">x\n                </a>\n            "),n}function m(e,t){var n="";return t.buffer.push('\n            <a class="ui-btn ui-btn-c ui-btn-icon-notext ui-corner-all ui-icon-arrow-d"\n                '),t.buffer.push(f(r.action.call(e,"collapseClicked","view.graph",{hash:{target:"view.actionProxy"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">-\n            </a>\n        "),n}function g(e,t){var n="";return t.buffer.push('\n        <div class="graph-body" '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{id:"id"},hashTypes:{id:"STRING"},hashContexts:{id:e},contexts:[],types:[],data:t}))),t.buffer.push(">\n        </div>\n    "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<div class="graph" draggable="true">\n\n    <!--\n        Graph Head\n    -->\n\n    <div class="header">\n\n        <div class="title">\n            '),u=r._triageMustache.call(n,"view.graph.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </div>\n\n\n        "),u=r["if"].call(n,"view.graph.pendingCreation",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(3,c,s),fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        <!--\n            Remove button\n        -->\n\n        "),u=r["if"].call(n,"Mist.graphsController.config.canModify",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(8,d,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n        <!--\n            Minimize button\n        -->\n\n        "),u=r["if"].call(n,"Mist.graphsController.config.canMinimize",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(11,m,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    </div>\n\n    <!--\n        Graph Body\n    -->\n    "),u=r.each.call(n,"view.graph.batches",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(13,g,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n</div>\n"),o}),Ember.TEMPLATES.home=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push("\n                "),t.buffer.push(a(r.view.call(e,"backendButton",{hash:{backendBinding:"this","class":"ui-btn ui-input-btn ui-corner-all ui-shadow"},hashTypes:{backendBinding:"STRING","class":"STRING"},hashContexts:{backendBinding:e,"class":e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            "),n}function c(e,t){var n="",i;return t.buffer.push('\n        <div class="ui-grid-a ui-responsive">\n            <div '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"view.hasIncidents::full-width :ui-block-a"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push('>\n                <div class="ui-body">\n                    <!-- Navigation -->\n                    <ul class="ui-listview ui-listview-inset ui-corner-all ui-shadow">\n                        <!-- Machines link -->\n                        <li class="ui-li-has-count ui-first-child">\n                            <a class="ui-btn" href="#/machines">\n                                <span class="ui-li-count ui-body-inherit">\n                                    '),i=r._triageMustache.call(e,"Mist.backendsController.machineCount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                                </span>\n                                Machines\n                            </a>\n                        </li>\n\n                        <!-- Images link -->\n                        <li class="ui-li-has-count">\n                            <a class="ui-btn" href="#/images">\n                                <span class="ui-li-count ui-body-inherit">\n                                    '),i=r._triageMustache.call(e,"Mist.backendsController.imageCount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                </span>\n                                Images\n                            </a>\n                        </li>\n\n                        <!-- Networks link -->\n                        "),i=r["if"].call(e,"Mist.backendsController.hasNetworks",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n\n                        <!-- Keys link -->\n                        <li class="ui-li-has-count">\n                            <a class="ui-btn" href="#/keys">\n                                <span class="ui-li-count ui-body-inherit">\n                                    '),i=r._triageMustache.call(e,"Mist.keysController.content.length",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                </span>\n                                Keys\n                            </a>\n                        </li>\n\n                        "),i=r["if"].call(e,"Mist.isCore",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </ul>\n                </div>\n            </div>\n\n            <div "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"view.hasIncidents::no-width :ui-block-b"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push('>\n                <div class="ui-body">\n                    <ul class="ui-listview ui-listview-inset ui-corner-all ui-shadow incidents header">\n                        <li class="ui-li-divider ui-bar-c ui-first-child">Incidents</li>\n                        <li class="ui-li-divider ui-bar-c ui--child" style="display:none;"></li>\n                    </ul>\n                    <ul class="ui-listview ui-listview-inset ui-corner-all ui-shadow incidents">\n                        '),i=r.each.call(e,"Mist.openIncidents",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(8,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </ul>\n                </div>\n            </div>\n        </div><!-- /grid-a -->\n\n        "),t.buffer.push(a(r.view.call(e,"graphList",{hash:{actionProxyBinding:"view"},hashTypes:{actionProxyBinding:"STRING"},hashContexts:{actionProxyBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n\n        "),i=r["if"].call(e,"Mist.isCore",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(13,g,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        "),n}function h(e,t){var n="",i;return t.buffer.push('\n                        <li class="ui-li-has-count">\n                            <a class="ui-btn" href="#/networks">\n                                <span class="ui-li-count ui-body-inherit">\n                                    '),i=r._triageMustache.call(e,"Mist.backendsController.networkCount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                </span>\n                                Networks\n                            </a>\n                        </li>\n                        "),n}function p(e,t){var n="",i;return t.buffer.push('\n                        <!-- Scripts link -->\n                        <li class="ui-li-has-count">\n                            <a class="ui-btn" href="#/scripts">\n                                <span class="ui-li-count ui-body-inherit">\n                                    '),i=r._triageMustache.call(e,"Mist.scriptsController.length",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                </span>\n                                Scripts\n                            </a>\n                        </li>\n                        "),n}function d(e,t){var n="",i;return t.buffer.push("\n                            "),i=r["if"].call(e,"isClosed",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(11,m,t),fn:f.program(9,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function v(e,t){var n="",i;return t.buffer.push('\n                                <li class="ui-mini incident">\n                                    <a class="ui-icon-check ui-btn ui-btn-icon-right"\n                                        '),t.buffer.push(a(r.action.call(e,"incidentClicked","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('>\n                                        <span class="machine">\n                                            '),i=r._triageMustache.call(e,"machineName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(':\n                                        </span>\n                                        <span class="rule-condition">\n                                            '),i=r._triageMustache.call(e,"ruleText",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                                        </span>\n                                        <span class="duration">\n                                            for '),i=r._triageMustache.call(e,"duration",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                                        </span>\n                                        <span class="time">'),i=r._triageMustache.call(e,"closed",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" ago </span>\n                                    </a>\n                                </li>\n                            "),n}function m(e,t){var n="",i;return t.buffer.push('\n                                <li class="ui-bar-b incident">\n                                    <a class="ui-icon-alert ui-btn ui-btn-icon-right"\n                                        '),t.buffer.push(a(r.action.call(e,"incidentClicked","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('>\n                                        <span class="machine">\n                                            '),i=r._triageMustache.call(e,"machineName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(':\n                                        </span>\n                                        <span class="rule-condition">\n                                            '),i=r._triageMustache.call(e,"ruleText",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                                        </span>\n                                        <span class="time">\n                                            '),i=r._triageMustache.call(e,"prettyTime",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                        </span>\n                                    </a>\n                                </li>\n                            "),n}function g(e,t){var n="";return t.buffer.push('\n            <div class="logs" data-role="collapsible" data-collapsed="false">\n               <h4>Activity log</h4>\n               '),t.buffer.push(a(r.view.call(e,"logList",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            </div>\n        "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="home-page" data-role="page" class="ui-page-active ui-page">\n    <!-- Page header -->\n    <div class="ui-header ui-bar-b">\n        <h1 class="ui-title">mist.io</h1>\n        '),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n    </div>\n\n    <!-- Page Body -->\n    <div role="main" class="ui-content" data-theme="c">\n\n        <!-- Add backend button -->\n        <a id="add-backend-btn" class="ui-link ui-btn ui-btn-d ui-icon-plus\n            ui-btn-icon-right ui-shadow ui-corner-all ui-mini"\n            '),s.buffer.push(a(r.action.call(n,"addBackend",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(' data-mini="true">\n                Add cloud\n        </a>\n\n        <!-- Backends list -->\n        <div id="backend-buttons" data-role="controlgroup" data-type="horizontal"\n            class="ui-controlgroup ui-controlgroup-horizontal ui-corner-all">\n            '),u=r.each.call(n,"Mist.backendsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </div>\n\n        "),u=r["if"].call(n,"Mist.backendsController.length",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    </div>\n\n    "),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"backendAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"backendEdit",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n</div>\n"),o}),Ember.TEMPLATES.image_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}function c(e,t){var n="";return t.buffer.push("\n                "),t.buffer.push(a(r.view.call(e,"imageListItem",{hash:{imageBinding:"this","class":"checkbox-link"},hashTypes:{imageBinding:"STRING","class":"STRING"},hashContexts:{imageBinding:e,"class":e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            "),n}function h(e,t){t.buffer.push("\n                    Please wait...\n                ")}function p(e,t){t.buffer.push("\n                    Continue search on server...\n                ")}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="image-list-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#" class="responsive-button ui-btn-left ui-btn ui-icon-home\n            ui-btn-icon-left ui-shadow ui-corner-all">Home</a>\n\n        <h1>Images</h1>\n\n        '),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        '),u=r["if"].call(n,"Mist.backendsController.loadingImages",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n        "),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"search-term-input",placeholder:"Search images ...",valueBinding:"Mist.imageSearchController.searchTerm"},hashTypes:{id:"STRING",placeholder:"STRING",valueBinding:"STRING"},hashContexts:{id:n,placeholder:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n\n        "),u=r["if"].call(n,"Mist.imageSearchController.isSearching",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <ul id="image-list"\n            data-role="listview"\n            data-inset="true"\n            class="checkbox-list">\n            '),u=r.each.call(n,"view.renderedImages",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </ul>\n\n        "),u=r["if"].call(n,"view.renderingMoreImages",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <a id="images-advanced-search" class="ui-btn ui-btn-b ui-shadow ui-corner-all"\n            '),s.buffer.push(a(r.action.call(n,"searchClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n            <span>\n                "),u=r["if"].call(n,"view.searchingImages",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(7,p,s),fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </span>\n        </a>\n\n        <div class="small-padding"></div>\n\n    </div>\n\n    '),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"machineAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n</div>\n"),o}),Ember.TEMPLATES.image_list_item=Ember.Handlebars.template(function(t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression;return s.buffer.push("<label "),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"view.starClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n    "),s.buffer.push(a(r.action.call(n,"toggleImageStar",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n    "),s.buffer.push(a(r.view.call(n,"Mist.Checkbox",{hash:{checkedBinding:"view.image.star"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n</label>\n\n<a "),s.buffer.push(a(r.action.call(n,"launchImage",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n    <h3>"),s.buffer.push(a(r.unbound.call(n,"view.image.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}))),s.buffer.push('</h3>\n    <p class="tag">'),s.buffer.push(a(r.unbound.call(n,"view.image.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}))),s.buffer.push('</p>\n    <p class="tag">'),u=r._triageMustache.call(n,"view.image.backend.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</p>\n</a>\n"),o}),Ember.TEMPLATES.ip_address_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n                <span class="ajax-loader"></span>\n            ')}function c(e,t){var n="",i;return t.buffer.push("\n                        "),i=r._triageMustache.call(e,"server.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    "),n}function h(e,t){t.buffer.push("\n                        --\n                    ")}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push("<td>"),u=r._triageMustache.call(n,"ipaddress",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</td>\n<td>\n    <div class="reserved">\n        <span '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"isTogglingReserve:ui-state-disabled"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push(">\n            "),u=r["if"].call(n,"isTogglingReserve",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            <select name="reserved-slider" data-role="slider" data-mini="true"\n                '),s.buffer.push(a(r.action.call(n,"reservedToggled",{hash:{target:"view",on:"change"},hashTypes:{target:"STRING",on:"STRING"},hashContexts:{target:n,on:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                <option value="off"></option>\n                <option value="on" '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{selected:"reserved"},hashTypes:{selected:"STRING"},hashContexts:{selected:n},contexts:[],types:[],data:s}))),s.buffer.push('>Reserved</option>\n            </select>\n        <span>\n    </div>\n    <div class="associate">\n        <span '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"isAssociating:ui-state-disabled"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push(">\n            <a "),s.buffer.push(a(r["bind-attr"].call(n,{hash:{id:"view.domID","class":"isAssociating:associating\n                    isAssociating::ui-icon-carat-d\n                    isAssociating:ui-state-disabled\n                    :assign-network-btn\n                    :ui-btn-icon-right\n                    :ui-mini\n                    :ui-btn\n                    :ui-corner-all\n                    :ui-btn-a"},hashTypes:{id:"STRING","class":"STRING"},hashContexts:{id:n,"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(a(r.action.call(n,"assignClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                    "),u=r["if"].call(n,"server.name",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(5,h,s),fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n            </a>\n        </span>\n    </div>\n</td>\n"),o}),Ember.TEMPLATES.key_add=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n                    <div class="ajax-loader key-add-loader"></div>\n                ')}function c(e,t){var n="",i;return t.buffer.push(" "),i=r["if"].call(e,"Mist.keyAddController.uploadingKey",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(1,l,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" "),n}function h(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<!-- Popup Overlay -->\n\n<div id="key-add-screen"\n    class="ui-popup-screen ui-overlay-b ui-screen-hidden">\n</div>\n\n<!-- Popup Wrapper -->\n\n<div id="key-add-popup"\n    class="flip\n        ui-popup-container\n        ui-popup-hidden\n        ui-popup-truncate">\n\n    <!-- Popup -->\n\n    <div id="key-add"\n        class="large-popup\n            ui-popup\n            ui-body-inherit\n            ui-overlay-shadow\n            ui-corner-all"\n        data-role="popup"\n        data-enhanced="true"\n        data-position-to="origin"\n        data-transition="flip">\n\n\n        <!-- Header -->\n\n        <div class="ui-header ui-bar-b" role="banner">\n\n            <h1 class="ui-title">Add key</h1>\n\n        </div>\n\n        <!-- Body -->\n\n        <div class="ui-content ui-body-a" role="main">\n\n            <!-- Key Name Field -->\n\n            <label for="key-add-id">Name:</label>\n\n            '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{id:"key-add-id",valueBinding:"Mist.keyAddController.keyId"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n            <!-- Key Private Field -->\n\n            <label for="key-add-private">Private Key:\n                '),u=r["if"].call(n,"Mist.keyAddController.generatingKey",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(3,c,s),fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n            </label>\n\n            "),s.buffer.push(f(r.view.call(n,"Ember.TextArea",{hash:{id:"key-add-private",valueBinding:"Mist.keyAddController.keyPrivate"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n            <!-- Generate and Upload buttons -->\n\n            <div class="generate-upload\n                    ui-controlgroup\n                    ui-controlgroup-horizontal\n                    ui-group-theme-a\n                    ui-corner-all"\n                data-role="controlgroup"\n                data-type="horizontal">\n\n                <a class="ui-btn ui-btn-icon-left ui-icon-gear"\n                    '),s.buffer.push(f(r.action.call(n,"generateClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                        Generate\n                </a>\n\n                <a class="ui-btn ui-btn-icon-right ui-icon-arrow-u"\n                    '),s.buffer.push(f(r.action.call(n,"uploadClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                        Upload\n                </a>\n            </div>\n\n            <!-- Hidden Input field for uploading ssh keys -->\n\n            <input id="key-add-upload" type="file" name="file"\n                '),s.buffer.push(f(r.action.call(n,"uploadInputChanged",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("/>\n\n            "),u=r["if"].call(n,"Mist.keyAddController.addingKey",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n            <!-- Back and Add buttons -->\n\n            <div class="ok-cancel\n                    ui-controlgroup\n                    ui-controlgroup-horizontal\n                    ui-group-theme-a\n                    ui-corner-all"\n                data-role="controlgroup"\n                data-type="horizontal">\n\n                <a class="ui-btn"\n                    '),s.buffer.push(f(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                        Back\n                </a>\n                <a id="key-add-ok" class="ui-btn ui-btn-d ui-state-disabled"\n                    '),s.buffer.push(f(r.action.call(n,"addClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                        Add\n                </a>\n            </div>\n\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.key_edit=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n        <div class="ajax-loader"></div>\n        ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="rename-key-popup"\n     class="small-popup"\n     data-role="popup"\n     data-overlay-theme="b"\n     data-transition="slideup">\n\n    <div data-role="header" data-theme="b">\n        <h1>Rename key</h1>\n    </div>\n\n    <div data-role="content">\n\n        <label for="new-key-name">New name:</label>\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"new-key-name",valueBinding:"Mist.keyEditController.newKeyId"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n\n        "),u=r["if"].call(n,"Mist.keysController.renamingKey",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-btn-a ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n            <a id="rename-key-ok" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"saveClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Save</a>\n        </div>\n\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.key=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n        <div class="ajax-loader"></div>\n        ')}function c(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n                ')}function h(e,t){var n="",i;return t.buffer.push('\n        <div id="single-key-machines" data-role="collapsible">\n\n            <h4>Machines\n                '),i=r["if"].call(e,"Mist.backendsController.loadingMachines",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n            </h4>\n            <ul data-role="listview" class="checkbox-list" data-inset="true">\n                '),i=r.each.call(e,"view.machines",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            </ul>\n        </div>\n        "),n}function p(e,t){var n="";return t.buffer.push("\n                    "),t.buffer.push(a(r.view.call(e,"machineListItem",{hash:{machineBinding:"this","class":"checkbox-link"},hashTypes:{machineBinding:"STRING","class":"STRING"},hashContexts:{machineBinding:e,"class":e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n                "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="single-key-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#/keys" class="responsive-button ui-btn-left ui-btn ui-icon-arrow-l\n            ui-btn-icon-left ui-shadow ui-corner-all">\n            Keys\n        </a>\n\n        <h1>'),u=r._triageMustache.call(n,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</h1>\n\n        "),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        '),u=r["if"].call(n,"Mist.keysController.loading",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n         <div data-role="collapsible" data-collapsed="false">\n            <h4>Public Key\n                '),u=r["if"].call(n,"Mist.keysController.gettingPublicKey",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </h4>\n            <input id="public-key" type="text" readonly="readonly" onclick="this.focus();this.select()"/>\n        </div>\n\n        <div data-role="collapsible">\n            <h4>Private key\n                '),u=r["if"].call(n,"Mist.keysController.gettingPrivateKey",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </h4>\n            <a class="ui-btn ui-shadow ui-corner-all" '),s.buffer.push(a(r.action.call(n,"displayClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                Display\n            </a>\n        </div>\n\n        "),u=r["if"].call(n,"machines",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="large-padding"></div>\n\n    </div>\n\n    '),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"keyEdit",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    <div class="dual-action-footer" data-role="footer" data-theme="b">\n        <table><tbody><tr><td>\n            <a class="ui-btn ui-icon-edit ui-btn-icon-left ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"renameClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Rename</a>\n        </td><td>\n            <a class="ui-btn ui-icon-delete ui-btn-icon-left ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"deleteClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Delete</a>\n        </td></tr></tbody></table>\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.key_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push("\n                "),t.buffer.push(a(r.view.call(e,"keyListItem",{hash:{keyBinding:"this","class":"checkbox-link"},hashTypes:{keyBinding:"STRING","class":"STRING"},hashContexts:{keyBinding:e,"class":e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="key-list-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#" class="responsive-button ui-btn-left ui-btn ui-icon-home\n            ui-btn-icon-left ui-shadow ui-corner-all">Home</a>\n\n        <h1>Keys</h1>\n\n        '),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <a id="select-keys-btn"\n           class="responsive-button"\n           data-role="button"\n           data-icon="arrow-d"\n           '),s.buffer.push(a(r.action.call(n,"selectClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Select</a>\n\n        <a id="add-key-btn"\n           class="responsive-button  ui-btn ui-btn-d ui-icon-plus\n                ui-btn-icon-right ui-shadow ui-corner-all"\n           '),s.buffer.push(a(r.action.call(n,"addClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Add</a>\n\n        <ul data-role="listview"\n            data-filter="true"\n            data-inset="true"\n            data-filter-placeholder="Filter..."\n            class="checkbox-list">\n            '),u=r.each.call(n,"Mist.keysController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </ul>\n\n        <div class="mid-padding"></div>\n\n    </div>\n\n    '),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"keyAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"keyEdit",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    <div id="select-keys-popup" data-role="popup" data-transition="flip" data-position-to="#select-keys-btn">\n        <ul data-role=\'listview\'>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"selectionModeClicked",!0,{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","BOOLEAN"],data:s}))),s.buffer.push('>All</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"selectionModeClicked",!1,{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","BOOLEAN"],data:s}))),s.buffer.push('>None</a>\n            </li>\n        </ul>\n    </div>\n\n    <div class="tri-action-footer" data-role="footer" data-theme="b">\n        <table><tbody><tr><td>\n            <a class="ui-btn ui-icon-edit ui-btn-icon-left ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"renameClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Rename</a>\n        </td><td>\n            <a class="ui-btn ui-icon-delete ui-btn-icon-left ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"deleteClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Delete</a>\n        </td><td>\n            <a class="ui-btn ui-icon-gear ui-btn-icon-left ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"setDefaultClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Set default</a>\n        </td></tr></tbody></table>\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.key_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function p(e,t){var n="",i;return t.buffer.push('\n\n    <div class="ui-grid-b">\n        <div class="ui-block-a key-name">'),i=r._triageMustache.call(e,"view.key.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</div>\n        <div class="ui-block-b"></div>\n        <div class="ui-block-c key-tags">\n            '),i=r["if"].call(e,"view.key.isDefault",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(2,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        </div>\n    </div>\n\n"),n}function d(e,t){t.buffer.push('\n             <span class="tag">default</span>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a,f,l=this,c=this.escapeExpression,h=r.helperMissing;return s.buffer.push("<label>"),s.buffer.push(c(r.view.call(n,"Mist.Checkbox",{hash:{checkedBinding:"view.key.selected"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("</label>\n\n"),u=(a=r["link-to"]||n&&n["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(1,p,s),contexts:[n,n],types:["STRING","ID"],data:s},a?a.call(n,"key","view.key",f):h.call(n,"link-to","key","view.key",f)),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n"),o}),Ember.TEMPLATES.login=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n        <div class="ajax-loader"></div>\n        ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="login-popup" class="mid-popup" data-role="popup" data-overlay-theme="b" data-transition="flip">\n\n    <div data-role="header" data-theme="b">\n        <h1>Login to mist.io</h1>\n    </div>\n\n    <div data-role="content">\n        <label for="login-email">Email:</label>\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"login-email",valueBinding:"Mist.loginController.email"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        <label for="login-password">Password:</label>\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"login-password",type:"password",valueBinding:"Mist.loginController.password"},hashTypes:{id:"STRING",type:"STRING",valueBinding:"STRING"},hashContexts:{id:n,type:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n\n        "),u=r["if"].call(n,"Mist.loginController.loggingIn",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        <a "),s.buffer.push(a(r.action.call(n,"forgot",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(' target="_new">Forgot your password?</a>\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-btn-a ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n            <a id="login-ok" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"loginClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Log in</a>\n        </div>\n\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.log_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n        <div class="ajax-loader"></div>\n    ')}function c(e,t){var n="";return t.buffer.push("\n            "),t.buffer.push(a(r.view.call(e,"logListItem",{hash:{logBinding:"this"},hashTypes:{logBinding:"STRING"},hashContexts:{logBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n        "),n}function h(e,t){t.buffer.push('\n        <div class="no-logs"></div>\n    ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div class="log-list">\n    <div class="filter-wrapper">\n        <fieldset data-role="controlgroup" data-type="horizontal">\n\n            <input name="event"\n                id="event-all"\n                data-mini="true"\n                value="on"\n                checked="checked"\n                type="radio"\n                '),s.buffer.push(a(r.action.call(n,"updateFilterFlags","all",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n            <label for="event-all">All</label>\n\n            <input name="event"\n                id="event-jobs"\n                data-mini="true"\n                value="off"\n                type="radio"\n                '),s.buffer.push(a(r.action.call(n,"updateFilterFlags","job",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n            <label for="event-jobs">Jobs</label>\n\n            <input name="event"\n                id="event-requests"\n                data-mini="true"\n                value="off"\n                type="radio"\n                '),s.buffer.push(a(r.action.call(n,"updateFilterFlags","request",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n            <label for="event-requests">Requests</label>\n\n            <input name="event"\n                id="event-incidents"\n                data-mini="true"\n                value="off"\n                type="radio"\n                '),s.buffer.push(a(r.action.call(n,"updateFilterFlags","incident",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n            <label for="event-incidents">Incidents</label>\n\n            <input name="event"\n                id="event-sessions"\n                data-mini="true"\n                value="off"\n                type="radio"\n                '),s.buffer.push(a(r.action.call(n,"updateFilterFlags","session",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n            <label for="event-sessions">Sessions</label>\n\n            <input name="event"\n                id="event-shell"\n                data-mini="true"\n                value="off"\n                type="radio"\n                '),s.buffer.push(a(r.action.call(n,"updateFilterFlags","shell",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n            <label for="event-shell">Shell</label>\n\n            <input name="event"\n                id="event-error"\n                data-mini="true"\n                value="off"\n                type="radio"\n                '),s.buffer.push(a(r.action.call(n,"updateFilterFlags","error",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n            <label for="event-error">Errors</label>\n        </fieldset>\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"log-filter",valueBinding:"view.filterString",placeholder:"Filter logs..."},hashTypes:{id:"STRING",valueBinding:"STRING",placeholder:"STRING"},hashContexts:{id:n,valueBinding:n,placeholder:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n    </div>\n\n    "),u=r["if"].call(n,"view.searching",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n    <ul class="ui-listview ui-listview-inset ui-corner-all ui-shadow ui-mini"\n        data-role="listview"\n        data-enhanced="true"\n        data-inset="true">\n        '),u=r.each.call(n,"Mist.logsController",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    </ul>\n\n    "),u=r["if"].call(n,"view.fetchingHistory",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n    "),u=r["if"].call(n,"view.noMoreLogs",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n    <div class="mid-padding"></div>\n</div>'),o}),Ember.TEMPLATES.log_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function c(e,t){var n="";return t.buffer.push(": "),t.buffer.push(a(r.unbound.call(e,"view.log.condition",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n                    "),n}function h(e,t){t.buffer.push('\n                    <div class="ui-btn-icon-notext ui-icon-alert error"></div>\n                ')}function p(e,t){var n="",i;return t.buffer.push('\n    <div class="details info-table">\n        <table>\n            <tbody>\n            <tr>\n                <td>Date</td>\n                <td>'),t.buffer.push(a(r.unbound.call(e,"view.fullPrettyTime",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>\n            </tr>\n            "),i=r["if"].call(e,"view.backendTitle",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),i=r["if"].call(e,"view.machineLink",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(8,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),i=r.each.call(e,"view.details",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(11,g,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            </tbody>\n        </table>\n    </div>\n"),n}function d(e,t){var n="",i;return t.buffer.push("\n            <tr>\n                <td>Backend Title</td>\n                <td>"),i=r._triageMustache.call(e,"view.backendTitle",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n            </tr>\n            "),n}function v(e,t){var n="",i,s,o;return t.buffer.push("\n            <tr>\n                <td>Machine</td>\n                <td>\n                    "),i=(s=r["link-to"]||e&&e["link-to"],o={hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(9,m,t),contexts:[e,e],types:["STRING","ID"],data:t},s?s.call(e,"machine","view.machineLink",o):l.call(e,"link-to","machine","view.machineLink",o)),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </td>\n            </td>\n            "),n}function m(e,t){var n="";return t.buffer.push("\n                        "),t.buffer.push(a(r.unbound.call(e,"view.machineLink.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n                    "),n}function g(e,t){var n="";return t.buffer.push("\n                <tr>\n                    <td>"),t.buffer.push(a(r.unbound.call(e,"key",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</td>\n                    <td><div>"),t.buffer.push(a(r.unbound.call(e,"value",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</div></td>\n                </tr>\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this,l=r.helperMissing;return s.buffer.push("<span "),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"view.collapsedClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push('>\n    <a class="ui-btn" '),s.buffer.push(a(r.action.call(n,"toggleCollapse",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n\n        <div class="ui-grid-b">\n            <div class="ui-block-a">\n                <div>\n                    '),s.buffer.push(a(r.unbound.call(n,"view.formatedAction",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}))),u=r["if"].call(n,"view.isIncident",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                </div>\n                "),u=r["if"].call(n,"view.log.error",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </div>\n            <div class="ui-block-b">\n                <div class="tag">'),s.buffer.push(a(r.unbound.call(n,"view.log.type",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}))),s.buffer.push('</div>\n            </div>\n            <div class="ui-block-c">\n                <div class="time">'),u=r._triageMustache.call(n,"view.prettyTime",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</div>\n            </div>\n        </div>\n    </a>\n"),u=r.unless.call(n,"view.isCollapsed",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n</span>\n"),o}),Ember.TEMPLATES.machine_add=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push('\n                   <span class="provider-icon-small">\n                        <span '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"Mist.machineAddController.newMachineProvider.className"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                        </span>\n                    </span>\n                "),n}function c(e,t){var n="",i;return t.buffer.push("\n                        "),i=r["if"].call(e,"canCreateMachine",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                "),n}function h(e,t){var n="",i;return t.buffer.push('\n                            <li data-icon="false">\n                                <a '),t.buffer.push(a(r.action.call(e,"selectProvider","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('>\n                                    <span class="provider-icon-small">\n                                        <span '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"className"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></span>\n                                    </span>\n                                    "),i=r._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                </a>\n                            </li>\n                        "),n}function p(e,t){var n="";return t.buffer.push('\n                    <span class="image-icon-small">\n                        <span '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"Mist.machineAddController.newMachineImage.className"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                        </span>\n                    </span>\n                "),n}function d(e,t){var n="",i;return t.buffer.push("\n                    "),i=r.unless.call(e,"Mist.machineAddController.newMachineProvider.images.hasStarred",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(11,m,t),fn:f.program(9,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                "),n}function v(e,t){var n="",i;return t.buffer.push('\n                        <li data-icon="false">\n                            <span class="image-icon-small">\n                                <span '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"this.className"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></span>\n                            </span>\n                            <a "),t.buffer.push(a(r.action.call(e,"selectImage","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n                        </li>\n                    "),n}function m(e,t){var n="",i;return t.buffer.push(" "),i=r["if"].call(e,"star",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(12,g,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" "),n}function g(e,t){var n="",i;return t.buffer.push('\n                        <li data-icon="false">\n                            <a '),t.buffer.push(a(r.action.call(e,"selectImage","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('>\n                                <span class="image-icon-small">\n                                    <span '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"this.className"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("></span>\n                                </span>\n                                "),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                            </a>\n                        </li>\n                    "),n}function y(e,t){var n="",i;return t.buffer.push('\n                <li data-icon="false">\n                    <a '),t.buffer.push(a(r.action.call(e,"selectSize","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                        <span class="size-decription">\n                         - disk:'),i=r._triageMustache.call(e,"disk",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(", ram:"),i=r._triageMustache.call(e,"ram",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </span>\n                    </a>\n                </li>\n                "),n}function b(e,t){var n="",i;return t.buffer.push('\n                    <li data-icon="false">\n                        <a '),t.buffer.push(a(r.action.call(e,"selectLocation","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n                    </li>\n                    "),n}function w(e,t){var n="",i;return t.buffer.push('\n                    <li data-icon="false">\n                        <a '),t.buffer.push(a(r.action.call(e,"selectKey","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n                    </li>\n                "),n}function E(e,t){var n="",i;return t.buffer.push("\n                        <input "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{id:"this.id",name:"this.id",checked:"this.selected"},hashTypes:{id:"STRING",name:"STRING",checked:"STRING"},hashContexts:{id:e,name:e,checked:e},contexts:[],types:[],data:t}))),t.buffer.push('\n                            type="checkbox" '),t.buffer.push(a(r.action.call(e,"toggleNetworkSelection","",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:e,target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                        <label "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"for":"this.id"},hashTypes:{"for":"STRING"},hashContexts:{"for":e},contexts:[],types:[],data:t}))),t.buffer.push(' data-corners="false">\n                            '),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </label>\n                    "),n}function S(e,t){var n="",i;return t.buffer.push("\n            "),i=r["if"].call(e,"Mist.scriptsController.length",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(23,x,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),n}function x(e,t){var n="";return t.buffer.push('\n                <select class="toggle-field ui-mini" data-theme="a" data-role="slider"\n                '),t.buffer.push(a(r.action.call(e,"switchToggled",{hash:{on:"change",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:e,target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push('>\n                    <option value="basic">basic</option>\n                    <option value="advanced">advanced</option>\n                </select>\n            '),n}function T(e,t){var n="",i;return t.buffer.push("\n                        "),i=r._triageMustache.call(e,"Mist.machineAddController.newMachineScript.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function N(e,t){t.buffer.push(" Select ")}function C(e,t){var n="",i;return t.buffer.push('\n                            <li data-icon="false">\n                                <a '),t.buffer.push(a(r.action.call(e,"selectScript","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n                            </li>\n                        "),n}function k(e,t){var n="",i;return t.buffer.push("\n            Estimated price:\n            <span>"),i=r._triageMustache.call(e,"view.price",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</span>\n        "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="create-machine-panel"\n     data-swipe-close="false"\n     class="side-panel"\n     data-role="panel"\n     data-position="right"\n     data-display="overlay"\n     data-theme="c">\n\n    <div data-role="header">\n        <h1 class="ui-title">Create Machine</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <!-- Select Name -->\n\n        <label for="create-machine-name">Name:</label>\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"create-machine-name","data-theme":"a",valueBinding:"Mist.machineAddController.newMachineName"},hashTypes:{id:"STRING","data-theme":"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        <!-- Select Provider -->\n\n        <label>Provider:</label>\n        <div id="create-machine-provider"\n            data-role="collapsible"\n            data-iconpos="right"\n            data-collapsed-icon="arrow-d"\n            data-expanded-icon="arrow-u"\n            data-theme="a"\n            class="mist-select">\n            <h4>'),u=r["if"].call(n,"Mist.machineAddController.newMachineProvider.provider",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r._triageMustache.call(n,"Mist.machineAddController.newMachineProvider.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </h4>\n            <ul data-role="listview" data-theme="a">\n                '),u=r.each.call(n,"Mist.backendsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </ul>\n        </div>\n\n        <!-- Select Image -->\n\n        <label>Image:</label>\n        <div id="create-machine-image"\n             data-role="collapsible"\n             data-iconpos="right"\n             data-collapsed-icon="arrow-d"\n             data-expanded-icon="arrow-u"\n             data-theme="a"\n             class="mist-select">\n            <h4>\n                '),u=r["if"].call(n,"Mist.machineAddController.newMachineImage.id",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r._triageMustache.call(n,"Mist.machineAddController.newMachineImage.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </h4>\n            <ul data-role="listview" data-theme="a">\n                '),u=r.each.call(n,"Mist.machineAddController.newMachineProvider.images.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(8,d,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </ul>\n        </div>\n\n        <!-- Select Size -->\n        <div id="size">\n        <label>Size:</label>\n        <div id="create-machine-size"\n             data-role="collapsible"\n             data-iconpos="right"\n             data-collapsed-icon="arrow-d"\n             data-expanded-icon="arrow-u"\n             data-theme="a"\n             class="mist-select">\n            <h4>'),u=r._triageMustache.call(n,"Mist.machineAddController.newMachineSize.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</h4>\n            <ul data-role="listview" data-theme="a">\n                '),u=r.each.call(n,"Mist.machineAddController.newMachineProvider.sizes.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(14,y,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </ul>\n        </div>\n        </div>\n\n        <!-- Select Location -->\n\n        <div id="location">\n            <label>Location:</label>\n            <div id="create-machine-location"\n                 data-role="collapsible"\n                 data-iconpos="right"\n                 data-collapsed-icon="arrow-d"\n                 data-expanded-icon="arrow-u"\n                 data-theme="a"\n                 class="mist-select">\n                <h4>'),u=r._triageMustache.call(n,"Mist.machineAddController.newMachineLocation.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</h4>\n                <ul data-role="listview" data-theme="a">\n                    '),u=r.each.call(n,"Mist.machineAddController.newMachineProvider.locations.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(16,b,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                </ul>\n            </div>\n        </div>\n\n        <!-- Docker Specific -->\n\n        <div class="docker">\n\n            <!-- Environment Vars -->\n            <label for="create-machine-env">Environment Variables:</label>\n            '),s.buffer.push(a(r.view.call(n,"Mist.TextArea",{hash:{id:"create-machine-env","data-theme":"a",valueBinding:"Mist.machineAddController.newMachineDockerEnvironment"},hashTypes:{id:"STRING","data-theme":"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n            <!-- Command -->\n            <label for="create-machine-command">Command:</label>\n            '),s.buffer.push(a(r.view.call(n,"Mist.TextArea",{hash:{id:"create-machine-command","data-theme":"a",valueBinding:"Mist.machineAddController.newMachineDockerCommand"},hashTypes:{id:"STRING","data-theme":"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        </div>\n\n        <!-- Select Key -->\n\n        <div id="key">\n        <label>Key:</label>\n        <div id="create-machine-key"\n             data-role="collapsible"\n             data-iconpos="right"\n             data-collapsed-icon="arrow-d"\n             data-expanded-icon="arrow-u"\n             data-theme="a"\n             class="mist-select">\n            <h4>'),u=r._triageMustache.call(n,"Mist.machineAddController.newMachineKey.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</h4>\n            <ul data-role="listview" data-theme="a">\n                '),u=r.each.call(n,"Mist.keysController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(18,w,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                <li data-icon="false" data-theme="d">\n                    <a '),s.buffer.push(a(r.action.call(n,"createKeyClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Add Key</a>\n                </li>\n            </ul>\n        </div>\n        </div>\n\n        <!-- Select Networks -->\n\n        <div id="create-machine-network">\n            <label>Networks:</label>\n            <div data-role="collapsible"\n                    data-iconpos="right"\n                    data-collapsed-icon="arrow-d"\n                    data-expanded-icon="arrow-u"\n                    data-theme="a"\n                    class="mist-select">\n                <h4>Networks</h4>\n                <fieldset data-role="controlgroup" data-theme="a">\n                    '),u=r.each.call(n,"Mist.machineAddController.newMachineProvider.networks.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(20,E,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                </fieldset>\n            </div>\n        </div>\n\n        <!-- Select Script -->\n        <div id="script">\n            '),u=r["if"].call(n,"Mist.isCore",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(22,S,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            <label for="create-machine-script">Script:</label>\n\n            <div class="script-option basic">\n                '),s.buffer.push(a(r.view.call(n,"Mist.TextArea",{hash:{id:"create-machine-script","data-theme":"a",valueBinding:"Mist.machineAddController.newMachineScript"},hashTypes:{id:"STRING","data-theme":"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            </div>\n            <div class="script-option advanced">\n                <div id="create-machine-script-select"\n                     data-role="collapsible"\n                     data-iconpos="right"\n                     data-collapsed-icon="arrow-d"\n                     data-expanded-icon="arrow-u"\n                     data-theme="a"\n                     class="mist-select">\n                    <h4>'),u=r["if"].call(n,"Mist.machineAddController.newMachineScript.name",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(27,N,s),fn:f.program(25,T,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                    </h4>\n                    <ul data-role="listview" data-theme="a">\n                        '),u=r.each.call(n,"Mist.scriptsController",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(29,C,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                    </ul>\n                </div>\n                "),s.buffer.push(a(r.view.call(n,"Mist.TextArea",{hash:{id:"create-machine-script-params","data-theme":"a",placeholder:"optional parameters",valueBinding:"Mist.machineAddController.newMachineScriptParams"},hashTypes:{id:"STRING","data-theme":"STRING",placeholder:"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,placeholder:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            </div>\n        </div>\n\n        <div id="ports">\n            <!-- Expose Ports -->\n            <label>Ports:</label>\n            '),s.buffer.push(a(r.view.call(n,"Mist.TextArea",{hash:{id:"create-machine-ports","data-theme":"a",placeholder:"e.g. 80:80",valueBinding:"Mist.machineAddController.newMachineDockerPorts"},hashTypes:{id:"STRING","data-theme":"STRING",placeholder:"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,placeholder:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n        </div>\n\n        <!-- Enable monitoring -->\n        <div id="create-machine-monitoring" class="ui-state-disabled">\n            <label>\n            '),s.buffer.push(a(r.view.call(n,"Mist.Checkbox",{hash:{"data-theme":"a",checkedBinding:"Mist.machineAddController.newMachineMonitoring"},hashTypes:{"data-theme":"STRING",checkedBinding:"STRING"},hashContexts:{"data-theme":n,checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            Enable monitoring\n            </label>\n        </div>\n\n        <div id="create-machine-cost">\n        '),u=r["if"].call(n,"view.price",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(31,k,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </div>\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal" >\n                <a class="ui-btn ui-btn-a ui-shadow ui-corner-all"\n                   '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n                <a id="create-machine-ok"\n                    class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n                        '),s.buffer.push(a(r.action.call(n,"launchClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Launch!</a>\n        </div>\n    </div>\n</div>\n\n"),s.buffer.push(a(r.view.call(n,"keyAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n"),o}),Ember.TEMPLATES.machine_edit=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<!-- Popup Overlay -->\n\n<div id="machine-edit-screen"\n    class="ui-popup-screen\n        ui-overlay-b\n        ui-screen-hidden">\n</div>\n\n<!-- Popup Wrapper -->\n<div id="machine-edit-popup"\n     class="pop\n        ui-popup-container\n        ui-popup-hidden\n        ui-popup-truncate">\n\n    <!-- Popup -->\n\n    <div id="machine-edit"\n         class="mid-popup\n            ui-popup\n            ui-body-a\n            ui-overlay-shadow\n            ui-corner-all"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n         <!-- Header -->\n\n        <div class="ui-header ui-bar-b">\n\n            <h1 class="ui-title">Rename machine</h1>\n\n        </div>\n\n        <!-- Body -->\n\n        <div role="main" class="ui-content" data-theme="a">\n\n            <!-- New backend name text field -->\n\n            '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"machine-edit-new-name",valueBinding:"Mist.machineEditController.newName"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n\n            "),u=r["if"].call(n,"Mist.machineEditController.renamingMachine",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n            <div class="ok-cancel" data-role="controlgroup" data-type="horizontal" >\n                    <a class="ui-btn ui-btn-a ui-corner-all ui-shadow"\n                       '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n                    <a id="machine-edit-ok"\n                        class="ui-btn ui-btn-d ui-corner-all ui-shadow"\n                        '),s.buffer.push(a(r.action.call(n,"saveClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Save</a>\n            </div>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.machine=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                "),i=r._triageMustache.call(e,"state",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),n}function c(e,t){var n="",i;return t.buffer.push("\n            "),i=r["if"].call(e,"Mist.backendsController.loadingMachines",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        "),n}function h(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n            ')}function p(e,t){var n="",i;return t.buffer.push('\n        <span id="mist-manage-keys"\n            '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"view.isRunning::ui-state-disabled\n                :ui-btn-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n\n            <!-- If machine is beging created, hide keys UI -->\n            "),i=r.unless.call(e,"pendingCreation",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(7,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        </span>\n        "),n}function d(e,t){var n="",i;return t.buffer.push("\n                "),i=r["if"].call(e,"keysCount",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(10,m,t),fn:a.program(8,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),n}function v(e,t){var n="",i;return t.buffer.push('\n                    <a class="ui-btn\n                            ui-shadow\n                            ui-corner-all"\n                        '),t.buffer.push(f(r.action.call(e,"manageKeysClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                        "),i=r._triageMustache.call(e,"keysCount",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" keys\n                    </a>\n                "),n}function m(e,t){var n="";return t.buffer.push('\n                    <a class="ui-btn\n                            ui-btn-d\n                            ui-btn-icon-right\n                            ui-icon-plus\n                            ui-corner-all"\n                        '),t.buffer.push(f(r.action.call(e,"addKeyClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                        Add key\n                    </a>\n                "),n}function g(e,t){t.buffer.push('\n                             probing... <div class="ajax-loader"></div>\n                         ')}function y(e,t){var n="",i;return t.buffer.push("\n                             "),i=r._triageMustache.call(e,"view.lastProbe",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                             <a id="machine-probe-btn"\n                                class="ui-btn ui-shadow ui-corner-all"\n                                '),t.buffer.push(f(r.action.call(e,"probeClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                                    Probe\n                            </a>\n                         "),n}function b(e,t){var n="",i;return t.buffer.push("\n                    <tr>\n                        <td>Up and running for</td>\n                        <td>"),i=r._triageMustache.call(e,"view.upFor",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                    </tr>\n                "),n}function w(e,t){var n="",i;return t.buffer.push('\n                    <tr>\n                        <td>Load</td>\n                        <td>\n                            <div class="loadleds">\n                                <div '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"loadavg15 :led"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                </div>\n                                <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"loadavg5 :led"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                </div>\n                                <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"loadavg1 :led"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                </div>\n                            </div>\n                            "),i=r._triageMustache.call(e,"loadavg",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" "),i=r["if"].call(e,"cores",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(19,E,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("- "),i=r._triageMustache.call(e,"loadavg5",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </td>\n                    </tr>\n                "),n}function E(e,t){var n="",i;return t.buffer.push("- "),i=r._triageMustache.call(e,"cores",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" cores "),n}function S(e,t){var n="",i;return t.buffer.push("\n                    <tr>\n                        <td>Latency</td>\n                        <td>\n                            <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":":netleds"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled4 :netled1"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                </div>\n                                <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled3 :netled2"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                </div>\n                                <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled2 :netled3"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                </div>\n                                <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled1 :netled4"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                                </div>\n                            </div>\n                            "),i=r._triageMustache.call(e,"latency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("ms</td>\n                    </tr>\n                "),n}function x(e,t){var n="",i;return t.buffer.push("\n                    <tr>\n                        <td>Packet loss</td>\n                        <td>"),i=r._triageMustache.call(e,"loss",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                    </tr>\n                "),n}function T(e,t){var n="",i;return t.buffer.push("\n                    <tr>\n                        <td>Tags</td>\n                        <td>\n                            "),i=r.each.call(e,"tags",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(26,N,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </td>\n                    </tr>\n                "),n}function N(e,t){var n="",i;return t.buffer.push('\n                            <span class="tag">'),i=r._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</span>\n                            "),n}function C(e,t){var n="",i;return t.buffer.push("\n                    <tr>\n                        <td>Public IPs</td>\n                        <td>\n                            "),i=r.each.call(e,"view.public_ips",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(29,k,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </td>\n                    </tr>\n                "),n}function k(e,t){var n="",i;return t.buffer.push('\n                                <div class="ip">'),i=r._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</div>\n                            "),n}function L(e,t){var n="",i;return t.buffer.push("\n                    <tr>\n                        <td>Private IPs</td>\n                        <td>\n                            "),i=r.each.call(e,"view.private_ips",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(29,k,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </td>\n                    </tr>\n                "),n}function A(e,t){var n="",i;return t.buffer.push('\n                    <tr>\n                        <td colspan="2"><div class="df">'),i=r._triageMustache.call(e,"view.machine.df",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</div></td>\n                    </tr>\n                "),n}function O(e,t){var n="",i;return t.buffer.push("\n                    <tr>\n                        <td>"),i=r._triageMustache.call(e,"key",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                        <td>"),i=r._triageMustache.call(e,"value",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                    </tr>\n                "),n}function M(e,t){var n="",i;return t.buffer.push('\n            <div id="single-machine-metadata" data-role="collapsible">\n\n                <h4>Full metadata list</h4>\n\n                <table class="info-table">\n                    <tbody>\n                    '),i=r.each.call(e,"view.metadata",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(38,_,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </tbody>\n                </table>\n\n            </div>\n        "),n}function _(e,t){var n="",i;return t.buffer.push("\n                        <tr>\n                            <td>"),i=r._triageMustache.call(e,"key",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                            <td>"),i=r._triageMustache.call(e,"value",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                        </tr>\n                    "),n}function D(e,t){var n="";return t.buffer.push('\n                <a id="single-machine-shell-btn"\n                    target="_blank"\n                    '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{href:"rdpURL","class":"canConnect::ui-state-disabled\n                        :ui-btn\n                        :ui-btn-icon-left\n                        :ui-icon-gear"},hashTypes:{href:"STRING","class":"STRING"},hashContexts:{href:e,"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">Connect</a>\n            "),n}function P(e,t){var n="";return t.buffer.push('\n                <a id="single-machine-shell-btn"\n                    '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"canConnect::ui-state-disabled\n                        :ui-btn\n                        :ui-btn-icon-left\n                        :ui-icon-gear"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("\n                    "),t.buffer.push(f(r.action.call(e,"shellClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Shell</a>\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<div id="single-machine-page" data-role="page" class="ui-page-active" data-theme="a">\n\n    <div data-role="header" data-theme="b">\n\n        <a class="ui-btn\n                ui-btn-icon-left\n                ui-icon-arrow-l\n                responsive-button"\n            href="#/machines">Machines</a>\n\n        <h1>'),u=r._triageMustache.call(n,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</h1>\n\n        "),s.buffer.push(f(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="header" data-theme="a" class="single-machine-header">\n\n        <!-- Provider Icon -->\n        <span class="single-view-icon-wrapper">\n            <span id="single-view-provider-icon"\n                '),s.buffer.push(f(r["bind-attr"].call(n,{hash:{"class":"view.providerIconClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push('>\n            </span>\n        </span>\n\n        <!-- OS Icon -->\n        <span class="single-view-icon-wrapper">\n            <span id="single-view-image-icon"\n                '),s.buffer.push(f(r["bind-attr"].call(n,{hash:{"class":"view.imageIconClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push(">\n            </span>\n        </span>\n\n        <!-- State label -->\n        <h1 "),s.buffer.push(f(r["bind-attr"].call(n,{hash:{"class":"state"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push(">\n            "),u=r.unless.call(n,"isUnknown",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </h1>\n\n        <!-- Show spinner if machines are being loaded -->\n        "),u=r.unless.call(n,"id",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n\n        <!-- If machine is not running created, disable keys UI -->\n        "),u=r.unless.call(n,"isWindows",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(6,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n\n        <!--\n\n             Monitoring collapsible\n\n        -->\n\n\n        <div id="monitoring-collapsible" data-role="collapsible" data-collapsed="false">\n\n            <h4>Monitoring</h4>\n\n            '),s.buffer.push(f(r.view.call(n,"machineMonitoring",{hash:{machineBinding:"view.machine"},hashTypes:{machineBinding:"STRING"},hashContexts:{machineBinding:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n        </div>\n\n\n        <!--\n\n             Information collapsibles\n\n        -->\n\n\n        <div data-role="collapsible" data-collapsed="false">\n\n            <h4>Basic Info</h4>\n\n            <table class="info-table">\n                <tbody>\n                <tr>\n                    <td>Last probed</td>\n                    <td> '),u=r["if"].call(n,"probing",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(14,y,s),fn:a.program(12,g,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                    </td>\n                </tr>\n                "),u=r["if"].call(n,"probed",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(16,b,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r["if"].call(n,"loadavg",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(18,w,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r["if"].call(n,"latency",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(21,S,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r["if"].call(n,"loss",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(23,x,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r["if"].call(n,"tags",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(25,T,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r["if"].call(n,"view.public_ips",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(28,C,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r["if"].call(n,"view.private_ips",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(31,L,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r["if"].call(n,"view.machine.df",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(33,A,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                "),u=r.each.call(n,"view.basicInfo",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(35,O,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n            </tbody>\n            </table>\n        </div>\n\n        "),u=r["if"].call(n,"view.metadata",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(37,M,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="mid-padding"></div>\n\n    </div>\n\n    '),s.buffer.push(f(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(f(r.view.call(n,"metricAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(f(r.view.call(n,"machineKeys",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(f(r.view.call(n,"machineTags",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(f(r.view.call(n,"machineShell",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(f(r.view.call(n,"machinePower",{hash:{position:"#single-machine-power-btn"},hashTypes:{position:"STRING"},hashContexts:{position:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    <div class="tri-action-footer" data-role="footer" data-theme="b">\n        <table><tbody><tr><td>\n            <a id="single-machine-tags-btn"\n                '),s.buffer.push(f(r["bind-attr"].call(n,{hash:{"class":"id::ui-state-disabled\n                    can_tag::ui-state-disabled\n                    :ui-btn\n                    :ui-btn-icon-left\n                    :ui-icon-grid"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(f(r.action.call(n,"tagsClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Tags</a>\n        </td><td>\n            "),u=r["if"].call(n,"isWindows",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(42,P,s),fn:a.program(40,D,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </td><td>\n            <a id="single-machine-power-btn"\n                '),s.buffer.push(f(r["bind-attr"].call(n,{hash:{"class":"id::ui-state-disabled\n                    :ui-btn\n                    :ui-btn-icon-left\n                    :ui-icon-bars"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(f(r.action.call(n,"powerClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Actions</a>\n        </td></tr></tbody></table>\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.machine_keys=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push('\n        <ul id="machine-keys">\n            '),i=r.each.call(e,"Mist.machineKeysController.associatedKeys",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        </ul>\n        "),n}function c(e,t){var n="";return t.buffer.push("\n                "),t.buffer.push(a(r.view.call(e,"machineKeysListItem",{hash:{keyBinding:"this"},hashTypes:{keyBinding:"STRING"},hashContexts:{keyBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            "),n}function h(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}function p(e,t){var n="",i;return t.buffer.push(" "),i=r["if"].call(e,"Mist.keysController.disassociatingKey",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" "),n}function d(e,t){var n="",i;return t.buffer.push('\n        <li data-icon="false">\n            <a '),t.buffer.push(a(r.action.call(e,"nonAssociatedKeyClicked","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n        </li>\n        "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="machine-keys-panel"\n    data-swipe-close="false"\n    class="side-panel"\n    data-role="panel"\n    data-position="right"\n    data-display="overlay"\n    data-theme="c">\n\n    <div data-role="header">\n        <h1>Manage Keys</h1>\n    </div>\n\n    <div data-role="content" data-theme="c">\n\n        <a id="associate-btn"\n            class="ui-btn ui-btn-d ui-btn-icon-right ui-icon-plus ui-corner-all"\n           '),s.buffer.push(a(r.action.call(n,"associateClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Add Key</a>\n\n        "),u=r["if"].call(n,"Mist.machineKeysController.associatedKeys",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n        "),u=r["if"].call(n,"Mist.keysController.associatingKey",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(6,p,s),fn:f.program(4,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <a class="ui-btn ui-btn-a ui-corner-all" '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Back</a>\n\n    </div>\n\n</div>\n\n"),s.buffer.push(a(r.view.call(n,"keyAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n<div id="key-actions-popup"\n    class="tiny-popup"\n    data-role="popup"\n    data-overlay-theme="b"\n    data-transition="flip"\n    data-position-to="#machine-keys"\n    data-theme="a">\n    <ul data-role="listview">\n        <li data-icon="false"><a '),s.buffer.push(a(r.action.call(n,"removeClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Remove</a></li>\n        <li data-icon="false"><a '),s.buffer.push(a(r.action.call(n,"probeClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Probe</a></li>\n        <li data-icon="false"><a '),s.buffer.push(a(r.action.call(n,"viewClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>View</a></li>\n    </ul>\n</div>\n\n<div id="non-associated-keys-popup"\n    class="tiny-popup"\n    data-role="popup"\n    data-overlay-theme="b"\n    data-transition="flip"\n    data-position-to="#associate-btn">\n\n    <ul data-role="listview">\n        '),u=r.each.call(n,"Mist.machineKeysController.nonAssociatedKeys",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(8,d,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        <li data-icon="false" data-theme="d">\n            <a '),s.buffer.push(a(r.action.call(n,"newKeyClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>New key</a>\n        </li>\n    </ul>\n</div>\n\n<div id="machine-userPort-popup"\n    class="large-popup"\n    data-role="popup"\n    data-theme="c"\n    data-overlay-theme="b"\n    data-position-to="#machine-keys-panel"\n    data-transition="flip">\n\n    <div data-role="header">\n        <h2>SSH user &amp; port</h2>\n    </div>\n\n    <div data-role="content">\n        <div class="message">\n            Cannot connect as root on port 22\n        </div>\n        <label for="user">User:</label>\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"user","data-theme":"a",placeholder:"root",valueBinding:"Mist.machineKeysController.user"},hashTypes:{id:"STRING","data-theme":"STRING",placeholder:"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,placeholder:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        <label for="port">Port:</label>\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"port","data-theme":"a",placeholder:"22",valueBinding:"Mist.machineKeysController.port"},hashTypes:{id:"STRING","data-theme":"STRING",placeholder:"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,placeholder:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-btn-a"\n                '),s.buffer.push(a(r.action.call(n,"closeSSH_Details",{hash:{target:"Mist.machineKeysController"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                Cancel\n            </a>\n            <a id="tryAssociate" class="ui-btn ui-btn-d"\n                '),s.buffer.push(a(r.action.call(n,"customAssociateClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Retry</a>\n        </div>\n\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.machine_keys_list_item=Ember.Handlebars.template(function(t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression;return s.buffer.push('<span class="small-list-item" '),s.buffer.push(a(r.action.call(n,"associatedKeyClicked","",{hash:{on:"click",target:"view"},hashTypes:{on:"STRING",target:"STRING"},hashContexts:{on:n,target:n},contexts:[n,n],types:["STRING","ID"],data:s}))),s.buffer.push(">\n\n    <p "),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"view.keyIcon"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push(">"),u=r._triageMustache.call(n,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</p>\n\n</span>\n"),o}),Ember.TEMPLATES.machine_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                "),i=r["if"].call(e,"enabled",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),n}function c(e,t){var n="",i;return t.buffer.push("\n                    "),i=r.each.call(e,"machines.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                "),n}function h(e,t){var n="";return t.buffer.push("\n                        "),t.buffer.push(a(r.view.call(e,"machineListItem",{hash:{machineBinding:"this","class":"checkbox-link"},hashTypes:{machineBinding:"STRING","class":"STRING"},hashContexts:{machineBinding:e,"class":e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n                    "),n}function p(e,t){var n="",i;return t.buffer.push("\n                "),i=r["if"].call(e,"enabled",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),n}function d(e,t){var n="",i;return t.buffer.push('\n                    <li data-icon="false">\n                        <a '),t.buffer.push(a(r.action.call(e,"selectionModeClicked","title",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                            "),i=r._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        </a>\n                    </li>\n                "),n}function v(e,t){var n="";return t.buffer.push('\n                <a id="single-machine-shell-btn"\n                    target="_blank"\n                    '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{href:"view.selectedMachine.rdpURL","class":"view.selectedMachine.canConnect::ui-state-disabled\n                        :ui-btn\n                        :ui-btn-icon-left\n                        :ui-icon-gear"},hashTypes:{href:"STRING","class":"STRING"},hashContexts:{href:e,"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">Connect</a>\n            "),n}function m(e,t){var n="";return t.buffer.push('\n                <a id="machines-shell-btn" '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{"class":"view.selectedMachine.canConnect::ui-state-disabled\n                    :ui-btn\n                    :ui-btn-icon-left\n                    :ui-icon-gear"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("\n                    "),t.buffer.push(a(r.action.call(e,"shellClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Shell</a>\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="machine-list-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#" class="responsive-button ui-btn-left ui-btn ui-icon-home\n            ui-btn-icon-left ui-shadow ui-corner-all">Home</a>\n\n        <h1>Machines</h1>\n\n        '),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <a id="create-machine-btn"\n           class="responsive-button ui-btn ui-btn-d ui-icon-plus\n                ui-btn-icon-right ui-shadow ui-corner-all"\n           '),s.buffer.push(a(r.action.call(n,"createClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Create</a>\n\n        <a id="select-machines-btn"\n           class="responsive-button"\n           data-role="button"\n           data-icon="arrow-d"\n           '),s.buffer.push(a(r.action.call(n,"selectClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Select</a>\n\n        <ul id="machines"\n            data-role="listview"\n            data-inset="true"\n            data-filter="true"\n            data-filter-placeholder="Filter..."\n            data-theme="c"\n            class="checkbox-list">\n            '),u=r.each.call(n,"Mist.backendsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </ul>\n\n        <div class="mid-padding"></div>\n\n    </div>\n\n    '),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"machineAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"machineTags",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"machineShell",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"machinePower",{hash:{position:"#machines-power-btn"},hashTypes:{position:"STRING"},hashContexts:{position:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    <div id="select-machines-popup" data-role="popup" data-overlay-theme="b" data-transition="flip" data-position-to="#select-machines-btn">\n        <ul data-role="listview">\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"selectionModeClicked","all",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>All</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"selectionModeClicked","none",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push(">None</a>\n            </li>\n            "),u=r.each.call(n,"Mist.backendsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </ul>\n    </div>\n\n    <div class="tri-action-footer" data-role="footer" data-theme="b">\n        <table><tbody><tr><td>\n            <a id="machines-tags-btn" class="ui-btn ui-icon-grid ui-btn-icon-left ui-shadow ui-corner-all"\n                '),s.buffer.push(a(r.action.call(n,"tagsClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Tags</a>\n        </td><td>\n            "),u=r["if"].call(n,"view.selectedMachine.isWindows",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(10,m,s),fn:f.program(8,v,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        </td><td>\n            <a id="machines-power-btn" data-role="button" data-icon="bars" '),s.buffer.push(a(r.action.call(n,"powerClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Actions</a>\n        </td></tr></tbody></table>\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.machine_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function c(e,t){var n="",i,s,o;return t.buffer.push("\n    <label>"),t.buffer.push(f(r.view.call(e,"Mist.Checkbox",{hash:{checkedBinding:"view.machine.selected"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</label>\n    "),i=(s=r["link-to"]||e&&e["link-to"],o={hash:{classBinding:"view.monitoringIcon"},hashTypes:{classBinding:"STRING"},hashContexts:{classBinding:e},inverse:a.noop,fn:a.program(2,h,t),contexts:[e,e],types:["STRING","ID"],data:t},s?s.call(e,"machine","view.machine",o):l.call(e,"link-to","machine","view.machine",o)),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n"),n}function h(e,t){var n="",i;return t.buffer.push('\n\n        <div class="ui-grid-b">\n            <div class="ui-block-a machine-name">'),i=r._triageMustache.call(e,"view.machine.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</div>\n\n            <span class="ui-block-b machine-state">\n                '),i=r.unless.call(e,"view.machine.isUnknown",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(3,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n            </span>\n\n            <div class="ui-block-c machine-leds">\n                <span>\n                    '),i=r["if"].call(e,"view.machine.hasMonitoring",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(8,m,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </span>\n                "),i=r.unless.call(e,"pendingCreation",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(10,g,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n\n            </div>\n\n            <div class="ui-block-c machine-tags">\n                <span class="tag">'),i=r._triageMustache.call(e,"view.machine.backend.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</span>\n                "),i=r.each.call(e,"view.machine.tags",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(12,y,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            </div>\n\n        </div>\n    "),n}function p(e,t){var n="",i;return t.buffer.push("\n                <span "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"view.machine.state"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                "),i=r._triageMustache.call(e,"view.machine.state",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n                "),i=r["if"].call(e,"pendingCreation",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(6,v,t),fn:a.program(4,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </span>\n                "),n}function d(e,t){t.buffer.push("\n                    <div class='ajax-loader'></div>\n                ")}function v(e,t){var n="",i;return t.buffer.push(" "),i=r["if"].call(e,"waitState",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(4,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" "),n}function m(e,t){t.buffer.push("\n                        <span></span>\n                    ")}function g(e,t){var n="";return t.buffer.push("\n                    <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"probing probed"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push('>\n                        <div class="loadleds">\n                            <div '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"loadavg15 :led"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            </div>\n                            <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"loadavg5 :led"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            </div>\n                            <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"loadavg1 :led"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            </div>\n                        </div>\n                        <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":":netleds"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled4 :netled1"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            </div>\n                            <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled3 :netled2"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            </div>\n                            <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled2 :netled3"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            </div>\n                            <div "),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"netled1 :netled4"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                            </div>\n                        </div>\n\n                    </div>\n                "),n}function y(e,t){var n="",i;return t.buffer.push('\n                <span class="tag">'),i=r._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</span>\n                "),n}function b(e,t){var n="",i;return t.buffer.push('\n\n    <a class="ui-icon-delete" '),t.buffer.push(f(r.action.call(e,"disassociateGhostMachine",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('>\n\n        <div class="ui-grid-b">\n            <div class="ui-block-a machine-name">'),i=r._triageMustache.call(e,"view.machine.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</div>\n\n            <span class="ui-block-b machine-state">\n                <span '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"view.machine.state"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                    "),i=r._triageMustache.call(e,"view.machine.state",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </span>\n            </span>\n\n        </div>\n\n    </a>\n\n"),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression,l=r.helperMissing;return u=r.unless.call(n,"view.machine.isGhost",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(14,b,s),fn:a.program(1,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n"),o}),Ember.TEMPLATES.machine_monitoring=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n\n        "),i=r["if"].call(e,"view.pendingFirstStats",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n\n        <div id="graphs-wrapper"\n            '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"view.pendingFirstStats:hidden"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push(">\n                "),t.buffer.push(f(r.view.call(e,"graphList",{hash:{actionProxyBinding:"view"},hashTypes:{actionProxyBinding:"STRING"},hashContexts:{actionProxyBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n        </div>\n\n        "),t.buffer.push(f(r.view.call(e,"ruleList",{hash:{rulesBinding:"view.rules"},hashTypes:{rulesBinding:"STRING"},hashContexts:{rulesBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push('\n\n        <div id="monitoring-bottom-btns">\n            <div data-rule="ui-grid-a">\n                <div class="ui-block-a">\n                    <a id="add-rule-button"\n                      '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"\n                            Mist.rulesController.creatingPending:ui-state-disabled\n                            :ui-btn\n                            :ui-corner-all\n                            :ui-btn-d\n                            :ui-btn-icon-left\n                            :ui-icon-plus"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("\n                        "),t.buffer.push(f(r.action.call(e,"addRuleClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push('>\n                            Add Rule\n                    </a>\n                </div>\n            </div>\n            <div class="ui-block-b">\n                <a id="disable-monitor-btn"\n                    '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"\n                        view.machine.disablingMonitoring:ui-state-disabled\n                        :ui-btn\n                        :ui-corner-all\n                        :ui-btn-b\n                        :ui-btn-icon-left\n                        :ui-icon-delete"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("\n                    "),t.buffer.push(f(r.action.call(e,"disableMonitoringClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                        Disable\n                </a>\n            </div>\n        </div>\n\n    "),n}function c(e,t){var n="",i;return t.buffer.push('\n            <div id="machine-monitoring-disabled">\n\n                <label id="enable-monitoring-label">\n                    '),i=r._triageMustache.call(e,"view.monitoringMessage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n                </label>\n\n                <div class="ajax-loader l"></div>\n            </div>\n        '),n}function h(e,t){var n="",i;return t.buffer.push('\n\n        <div id="machine-monitoring-disabled">\n\n            '),i=r["if"].call(e,"view.machine.enablingMonitoring",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(7,d,t),fn:a.program(5,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n       </div>\n    "),n}function p(e,t){t.buffer.push('\n\n                <label id="enable-monitoring-label">\n                    Enabling monitoring, please wait...\n                </label>\n\n                <div class="ajax-loader l"></div>\n\n            ')}function d(e,t){var n="",i;return t.buffer.push(" "),i=r["if"].call(e,"view.machine.disablingMonitoring",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(10,m,t),fn:a.program(8,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" "),n}function v(e,t){t.buffer.push('\n\n                <label id="enable-monitoring-label">\n                    Disabling monitoring...\n                </label>\n\n                <div class="ajax-loader l"></div>\n\n            ')}function m(e,t){var n="",i;return t.buffer.push('\n\n                <label id="enable-monitoring-label">\n                    View real time server analytics, get alerts\n                    and set up automated actions.\n                </label>\n\n                <a id="enable-monitoring-btn"\n                    '),t.buffer.push(f(r["bind-attr"].call(e,{hash:{"class":"\n                        view.machine.enablingMonitoring:ui-state-disabled\n                        view.gettingCommand:ui-state-disabled\n                        :ui-btn\n                        :ui-corner-all\n                        :ui-btn-d\n                        :ui-btn-icon-left\n                        :ui-icon-star"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:t}))),t.buffer.push("\n                    "),t.buffer.push(f(r.action.call(e,"enableMonitoringClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                        Enable Monitoring\n                </a>\n\n               "),i=r["if"].call(e,"view.gettingCommand",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(11,g,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n\n           "),n}function g(e,t){t.buffer.push('\n                    <div class="ajax-loader"></div>\n               ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<div id="machine-monitoring">\n\n    '),u=r["if"].call(n,"view.machine.hasMonitoring",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(4,h,s),fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n</div>\n\n"),s.buffer.push(f(r.view.call(n,"ruleEdit",{hash:{metricsBinding:"this.metrics"},hashTypes:{metricsBinding:"STRING"},hashContexts:{metricsBinding:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n"),o}),Ember.TEMPLATES.machine_power=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push('\n        <a id="rename-machine-option" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n            '),t.buffer.push(a(r.action.call(e,"actionClicked","rename",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","STRING"],data:t}))),t.buffer.push(">Rename</a>\n        "),n}function c(e,t){var n="";return t.buffer.push('\n        <a id="start-machine-option" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n            '),t.buffer.push(a(r.action.call(e,"actionClicked","start",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","STRING"],data:t}))),t.buffer.push(">Start</a>\n        "),n}function h(e,t){var n="";return t.buffer.push('\n        <a id="shutdown-machine-option" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n            '),t.buffer.push(a(r.action.call(e,"actionClicked","shutdown",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","STRING"],data:t}))),t.buffer.push(">Shutdown</a>\n        "),n}function p(e,t){var n="";return t.buffer.push('\n        <a id="reboot-machine-option" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n            '),t.buffer.push(a(r.action.call(e,"actionClicked","reboot",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","STRING"],data:t}))),t.buffer.push(">Reboot</a>\n        "),n}function d(e,t){var n="";return t.buffer.push('\n        <a id="destroy-machine-option" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n            '),t.buffer.push(a(r.action.call(e,"actionClicked","destroy",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","STRING"],data:t}))),t.buffer.push(">Destroy</a>\n        "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="machine-power-popup"\n     class="tiny-popup"\n     data-role="popup"\n     data-overlay-theme="c"\n     data-transition="slideup"\n     '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"data-position-to":"view.position"},hashTypes:{"data-position-to":"STRING"},hashContexts:{"data-position-to":n},contexts:[],types:[],data:s}))),s.buffer.push('>\n\n    <div data-role="header" data-theme="b">\n        <h1>Actions</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n        '),u=r["if"].call(n,"Mist.machinePowerController.canRename",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        "),u=r["if"].call(n,"Mist.machinePowerController.canStart",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        "),u=r["if"].call(n,"Mist.machinePowerController.canShutdown",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        "),u=r["if"].call(n,"Mist.machinePowerController.canReboot",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(7,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        "),u=r["if"].call(n,"Mist.machinePowerController.canDestroy",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(9,d,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        <a class="ui-btn ui-shadow ui-corner-all" '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Back</a>\n    </div>\n</div>\n\n\n"),s.buffer.push(a(r.view.call(n,"machineEdit",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n"),o}),Ember.TEMPLATES.machine_shell=Ember.Handlebars.template(function(t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u=this.escapeExpression;return s.buffer.push('<div id="machine-shell"\n     data-role="popup"\n     data-theme="b"\n     data-dismissible="false"\n     data-overlay-theme="b"\n     data-transition="slideup">\n\n    <div data-role="content" data-theme="b">\n        <div id="shell-return"></div>\n        <a id="shell-back" class="ui-btn ui-btn-a ui-shadow ui-corner-all"\n            '),s.buffer.push(u(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Back</a>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.machine_tags=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push("\n                "),t.buffer.push(a(r.view.call(e,"machineTagsListItem",{hash:{tagBinding:"this"},hashTypes:{tagBinding:"STRING"},hashContexts:{tagBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            "),n}function c(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}function h(e,t){var n="",i;return t.buffer.push(" "),i=r["if"].call(e,"Mist.machineTagsController.deletingTag",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(" "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="machine-tags-popup"\n     class="large-popup"\n     data-role="popup"\n     data-overlay-theme="b"\n     data-transition="flip">\n\n    <div data-role="header" data-theme="b">\n        <h1>Manage Tags</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{valueBinding:"Mist.machineTagsController.newTag"},hashTypes:{valueBinding:"STRING"},hashContexts:{valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        <a id="add-tag-ok" class="ui-btn ui-btn-d ui-shadow ui-corner-all"\n            '),s.buffer.push(a(r.action.call(n,"addClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Add</a>\n\n        <ul data-role="listview">\n            '),u=r.each.call(n,"Mist.machineTagsController.machine.tags",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </ul>\n\n        "),u=r["if"].call(n,"Mist.machineTagsController.addingTag",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(5,h,s),fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <a id="add-tag-back" class="ui-btn ui-shadow ui-corner-all"\n            '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Back</a>\n\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.machine_tags_list_item=Ember.Handlebars.template(function(t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression;return s.buffer.push('<span class="small-list-item">\n\n    <p>'),u=r._triageMustache.call(n,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</p>\n\n    <button class="ui-btn ui-btn-a ui-icon-delete ui-btn-icon-notext ui-shadow ui-corner-all" '),s.buffer.push(a(r.action.call(n,"deleteClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("></button>\n\n</span>\n"),o}),Ember.TEMPLATES.messagebox=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                <p>"),i=r._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</p>\n            "),n}function c(e,t){var n="",i;return t.buffer.push('\n                <p id="message-cmd">\n                    '),i=r._triageMustache.call(e,"Mist.notificationController.messageBox.options.command",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </p>\n            "),n}function h(e,t){var n="",i;return t.buffer.push('\n                <p id="message-ps">\n                    '),i=r._triageMustache.call(e,"Mist.notificationController.messageBox.options.ps",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </p>\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<!-- Popup Overlay -->\n\n<div id="message-box-screen"\n    class="ui-popup-screen ui-overlay-b ui-screen-hidden">\n</div>\n\n<!-- Popup Wrapper -->\n\n<div id="message-box-popup"\n    class="flip\n        ui-popup-container\n        ui-popup-hidden\n        ui-popup-truncate">\n\n    <!-- Popup -->\n\n    <div id="message-box"\n        class="large-popup\n            ui-popup\n            ui-body-inherit\n            ui-overlay-shadow\n            ui-corner-all"\n        data-role="popup"\n        data-transition="flip"\n        data-dismissible="false">\n\n\n        <!-- Header -->\n\n        <div class="ui-header ui-bar-b" role="banner">\n            <h1 class="ui-title">\n                '),u=r._triageMustache.call(n,"Mist.notificationController.messageBox.options.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </h1>\n        </div>\n\n        <!-- Body -->\n\n        <div class="ui-content ui-body-a" role="main">\n\n\n            <!--\n                Paragraphs\n            -->\n\n\n            '),u=r.each.call(n,"Mist.notificationController.messageBox.options.paragraphs",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n\n            <!--\n                Command\n            -->\n\n            "),u=r["if"].call(n,"Mist.notificationController.messageBox.options.command",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n\n            <!--\n                Postscript\n            -->\n\n            "),u=r["if"].call(n,"Mist.notificationController.messageBox.options.ps",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n\n            <!--\n                OK Button\n            -->\n\n\n            <a class="ui-btn ui-btn-a ui-corner-all"\n                '),s.buffer.push(f(r.action.call(n,"okClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">OK</a>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.metric_add_custom=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('\n<div id="metric-add-custom-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-a"></div>\n<div id="metric-add-custom-popup"\n     class="ui-popup-container ui-popup-hidden ui-body-inherit ui-corner-all">\n\n    <div id="metric-add-custom"\n         class="ui-popup ui-corner-all ui-overlay-shadow"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip"\n         data-position-to="#add-metric-btn">\n\n        <div class="ui-header ui-bar-b">\n            <h1 class="ui-title">Add custom metric</h1>\n        </div>\n        <div class="ui-content">\n\n            <div class="ui-grid-a">\n                <div class="ui-block-a">\n                    <label for="custom-plugin-name">Name:</label>\n                    '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"custom-plugin-name",placeholder:"e.g. my metric",valueBinding:"Mist.metricAddCustomController.metric.name"},hashTypes:{id:"STRING",placeholder:"STRING",valueBinding:"STRING"},hashContexts:{id:n,placeholder:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n                </div>\n                <div class="ui-block-b">\n                    <label for="custom-plugin-unit">Unit:</label>\n                    '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"custom-plugin-unit",placeholder:"e.g. bytes (optional)",valueBinding:"Mist.metricAddCustomController.metric.unit"},hashTypes:{id:"STRING",placeholder:"STRING",valueBinding:"STRING"},hashContexts:{id:n,placeholder:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n                </div>\n            </div>\n            <label for="custom-plugin-script">Python script:</label>\n            <pre id="custom-plugin-error"></pre>\n            '),s.buffer.push(a(r.view.call(n,"Ember.TextArea",{hash:{id:"custom-plugin-script",valueBinding:"Mist.metricAddCustomController.metric.script"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n            <select id="advanced-toggle" data-role="slider" data-theme="a"\n            '),s.buffer.push(a(r.action.call(n,"advancedToggled",{hash:{target:"view",on:"change"},hashTypes:{target:"STRING",on:"STRING"},hashContexts:{target:n,on:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n                <option value="0">Basic settings</option>\n                <option value="1">Advanced settings</option>\n            </select>\n\n            <div id="custom-plugin-advanced">\n                <label>\n                '),s.buffer.push(a(r.view.call(n,"Mist.Checkbox",{hash:{"data-mini":"true",checkedBinding:"Mist.metricAddCustomController.metric.type"},hashTypes:{"data-mini":"STRING",checkedBinding:"STRING"},hashContexts:{"data-mini":n,checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n                Calculate derivative\n                </label>\n            </div>\n\n            "),u=r["if"].call(n,"Mist.metricAddCustomController.addingMetric",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n            <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n                <a class="ui-btn ui-corner-all"\n                    '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n                <a class="ui-btn ui-corner-all ui-btn-d ui-state-disabled"\n                    id="deploy" '),s.buffer.push(a(r.action.call(n,"deployClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Deploy</a>\n            </div>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.metric_add=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push("\n                "),t.buffer.push(a(r.view.call(e,"metricNode",{hash:{nodeBinding:"Mist.metricAddController.metricsTree"},hashTypes:{nodeBinding:"STRING"},hashContexts:{nodeBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            "),n}function c(e,t){t.buffer.push('\n                <div class="ui-body-a">\n                    <p>Checking available metrics on your server</p>\n                    <div class="ajax-loader"></div>\n                </div>\n            ')}function h(e,t){t.buffer.push('\n                <div id="overlay"></div>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="metric-add-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-a"></div>\n<div id="metric-add-popup"\n     class="ui-popup-container mid-popup ui-popup-hidden ui-body-inherit ui-corner-all">\n\n    <div id="metric-add"\n         class="ui-popup ui-corner-all ui-overlay-shadow"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip"\n         data-position-to="#add-metric-btn">\n\n        <div class="ui-header ui-bar-b">\n            <h1 class="ui-title">Select Metric</h1>\n        </div>\n\n        <div '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"\n                Mist.metricAddController.metrics.length::no-metrics\n                :ui-content\n                :ui-body-a"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push('\n            role="main">\n\n            <a class="ui-btn ui-btn-d ui-corner-all ui-btn-icon-left ui-icon-plus"\n                '),s.buffer.push(a(r.action.call(n,"customClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">custom</a>\n\n            "),u=r["if"].call(n,"Mist.metricAddController.metrics.length",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(3,c,s),fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n            "),u=r["if"].call(n,"Mist.metricsController.addingMetric",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n        </div>\n    </div>\n</div>\n\n"),s.buffer.push(a(r.view.call(n,"metricAddCustom",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n"),o}),Ember.TEMPLATES.metric_node=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push('\n\n    <a class="end-node\n        ui-btn\n        ui-corner-all"\n        '),t.buffer.push(a(r.action.call(e,"selectMetric",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"view.node.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n\n"),n}function c(e,t){var n="",i;return t.buffer.push("\n\n    "),i=r.unless.call(e,"view.node.isRootNode",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('\n\n    <div class="nest">\n        '),i=r.each.call(e,"view.node.subTargets",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n    </div>\n\n"),n}function h(e,t){var n="",i;return t.buffer.push('\n        <a class="parent-node\n            ui-btn\n            ui-corner-all\n            ui-btn-icon-left\n            ui-icon-carat-d"\n            '),t.buffer.push(a(r.action.call(e,"toggleUnfold",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"view.node.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n    "),n}function p(e,t){var n="";return t.buffer.push("\n            "),t.buffer.push(a(r.view.call(e,"metricNode",{hash:{nodeBinding:"this"},hashTypes:{nodeBinding:"STRING"},hashContexts:{nodeBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n        "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return u=r["if"].call(n,"view.node.isEndNode",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(3,c,s),fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n"),o}),Ember.TEMPLATES.missing=Ember.Handlebars.template(function(t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{},s.buffer.push('<div id="missing-page" data-role="page" class="ui-page-active ui-page ui-page-theme-a">\n    <div id="splash">\n        <div id="container">\n            <a id="logo" href="/#"></a>\n            <div id="message">\n                404. Got lost in the clouds\n            </div>\n        </div>\n    </div>\n</div>\n')}),Ember.TEMPLATES.network_create=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                        "),i=r["if"].call(e,"backend",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(4,h,t),fn:a.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    "),n}function c(e,t){var n="",i;return t.buffer.push("\n                            "),i=r._triageMustache.call(e,"backend.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function h(e,t){t.buffer.push("\n                            Select backend\n                        ")}function p(e,t){var n="",i;return t.buffer.push("\n                        "),i=r["if"].call(e,"enabled",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(7,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    "),n}function d(e,t){var n="",i;return t.buffer.push("\n                            "),i=r["if"].call(e,"isOpenStack",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(8,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function v(e,t){var n="",i;return t.buffer.push('\n                                <li data-icon="false">\n                                    <a '),t.buffer.push(f(r.action.call(e,"backendSelected","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                                        "),i=r._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                    </a>\n                                </li>\n                            "),n}function m(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<div id="network-create"\n    data-swipe-close="false"\n    class="side-panel"\n    data-role="panel"\n    data-position="right"\n    data-display="overlay">\n\n    <div data-role="header" data-theme="b">\n        <h1>Create Network</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <!--\n            Select Backend\n\n            Allow only openstack backends for now\n        -->\n        <div id="network-create-backend-wrapper">\n\n            <label for="network-create-backend">Backend:</label>\n\n            <div id="network-create-backend"\n                data-role="collapsible"\n                data-iconpos="right"\n                data-collapsed-icon="arrow-d"\n                data-expanded-icon="arrow-u"\n                data-theme="a"\n                class="mist-select">\n\n                <h4>\n                    '),u=r["with"].call(n,"Mist.networkCreateController.network",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                </h4>\n\n                <ul data-role="listview" data-theme="a">\n\n                    '),u=r.each.call(n,"Mist.backendsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(6,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n                </ul> <!-- list -->\n            </div> <!-- collapsible -->\n        </div><!-- wrapper -->\n\n\n        <!--\n            Select Network Name\n        -->\n        <div id="network-create-name-wrapper">\n\n            <label for="network-create-name">Network Name:</label>\n\n            '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"network-create-name",valueBinding:"Mist.networkCreateController.network.name"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"STRING"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n        </div>\n\n\n        <!--\n            Select Admin State\n        -->\n\n\n        <div id="network-create-admin-state-wrapper">\n            <label>Admin State:</label>\n            <div id="network-create-admin-state"\n                data-role="collapsible"\n                data-iconpos="right"\n                data-collapsed-icon="arrow-d"\n                data-expanded-icon="arrow-u"\n                data-theme="a"\n                class="mist-select">\n\n                <h4>\n                    '),u=r._triageMustache.call(n,"Mist.networkCreateController.adminStateUpToText",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                </h4>\n\n                <ul data-role="listview" data-theme="a">\n                    <li data-icon="false">\n                        <a '),s.buffer.push(f(r.action.call(n,"adminStateSelected",!0,{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","BOOLEAN"],data:s}))),s.buffer.push('>\n                            UP\n                        </a>\n                    </li>\n                    <li data-icon="false">\n                        <a '),s.buffer.push(f(r.action.call(n,"adminStateSelected",!1,{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","BOOLEAN"],data:s}))),s.buffer.push('>\n                            DOWN\n                        </a>\n                    </li>\n                </ul> <!-- list -->\n            </div><!-- collapsible -->\n        </div><!-- wrapper -->\n\n\n        <!--\n            Create Subnet\n        -->\n\n\n        <div id="network-create-subnet-wrapper">\n\n            '),s.buffer.push(f(r.view.call(n,"Mist.Checkbox",{hash:{"data-theme":"a",id:"network-create-subnet-create",checkedBinding:"Mist.networkCreateController.network.createSubnet"},hashTypes:{"data-theme":"STRING",id:"STRING",checkedBinding:"STRING"},hashContexts:{"data-theme":n,id:n,checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            <label for="network-create-subnet-create">\n                Create Subnet\n            </label>\n\n\n            <div id="network-create-subnet-form">\n\n\n                <!--\n                    Select Subnet Name\n                -->\n                <div id="network-create-subnet-name-wrapper">\n                    <label for="network-create-subnet-name">Subnet Name:</label>\n                    '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"network-create-subnet-name",valueBinding:"Mist.networkCreateController.network.subnet.name"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"STRING"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n                </div>\n\n\n                <!--\n                    Select Network Address\n                -->\n                <div id="network-create-subnet-address-wrapper">\n                    <label for="network-create-subnet-address">Network Address (CIDR):</label>\n                    '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"network-create-subnet-address",valueBinding:"Mist.networkCreateController.network.subnet.address"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"STRING"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n                </div>\n\n\n                <div id="network-create-subnet-other-wrapper">\n                    <!--\n                        Select IP Version\n                    -->\n                    <div id="network-create-subnet-ipv-wrapper">\n                        <label>IP Version:</label>\n                        <div id="network-create-subnet-ipv"\n                            data-role="collapsible"\n                            data-iconpos="right"\n                            data-collapsed-icon="arrow-d"\n                            data-expanded-icon="arrow-u"\n                            data-theme="a"\n                            class="mist-select">\n\n                            <h4>\n                                '),u=r._triageMustache.call(n,"Mist.networkCreateController.network.subnet.ipv",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                            </h4>\n\n                            <ul data-role="listview" data-theme="a">\n                                <li data-icon="false">\n                                    <a '),s.buffer.push(f(r.action.call(n,"ipvSelected","IPv4",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n                                        IPv4\n                                    </a>\n                                </li>\n                                <li data-icon="false">\n                                    <a '),s.buffer.push(f(r.action.call(n,"ipvSelected","IPv6",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","STRING"],data:s}))),s.buffer.push('>\n                                        IPv6\n                                    </a>\n                                </li>\n                            </ul> <!-- list -->\n                        </div><!-- collapsible -->\n                    </div><!-- wrapper -->\n\n\n                    <!--\n                        Enable Gateway\n                    -->\n                    <div>\n                        <div id="network-create-subnet-gateway-ip-wrapper">\n                            <label for="network-create-subnet-gateway-ip">Gateway IP:</label>\n                            '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"network-create-subnet-gateway-ip",valueBinding:"Mist.networkCreateController.network.subnet.gatewayIP"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"STRING"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n                        </div>\n                        "),s.buffer.push(f(r.view.call(n,"Mist.Checkbox",{hash:{"data-theme":"a",id:"network-create-subnet-gateway",checkedBinding:"Mist.networkCreateController.network.subnet.disableGateway"},hashTypes:{"data-theme":"STRING",id:"STRING",checkedBinding:"STRING"},hashContexts:{"data-theme":n,id:n,checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n                        <label for="network-create-subnet-gateway">\n                            Disable Gateway\n                        </label>\n                    </div>\n\n\n                    <!--\n                        Enable DHCP\n                    -->\n                    '),s.buffer.push(f(r.view.call(n,"Mist.Checkbox",{hash:{"data-theme":"a",id:"network-create-subnet-dhcp",checkedBinding:"Mist.networkCreateController.network.subnet.enableDHCP"},hashTypes:{"data-theme":"STRING",id:"STRING",checkedBinding:"STRING"},hashContexts:{"data-theme":n,id:n,checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n                    <label for="network-create-subnet-dhcp">\n                        Enable DHCP\n                    </label>\n\n\n                    <!--\n                        Allocation Pools\n                    -->\n                    <label for="network-create-subnet-allocation-pools">\n                        Allocation Pools:\n                    </label>\n                    '),s.buffer.push(f(r.view.call(n,"Mist.TextArea",{hash:{id:"network-create-subnet-allocation-pools","data-theme":"a",valueBinding:"Mist.networkCreateController.network.subnet.allocationPools"},hashTypes:{id:"STRING","data-theme":"STRING",valueBinding:"STRING"},hashContexts:{id:n,"data-theme":n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n                </div>\n            </div>\n        </div>\n\n        "),u=r["if"].call(n,"Mist.networkCreateController.creatingNetwork",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(10,m,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-btn-a"\n               '),s.buffer.push(f(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n            <a class="ui-btn ui-btn-d" id="network-create-ok"\n                '),s.buffer.push(f(r.action.call(n,"createClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Create</a>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.network=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                <tr>\n                    <td>Status</td>\n                    <td>"),i=r._triageMustache.call(e,"status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                </tr>\n                "),n}function c(e,t){var n="",i;return t.buffer.push('\n        <div id="single-network-subnets" data-role="collapsible" data-collapsed="false">\n            <h4>Subnets ('),i=r._triageMustache.call(e,"subnets.length",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(")</h4>\n\n            "),i=r.each.call(e,"subnets",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        </div>\n        "),n}function h(e,t){var n="";return t.buffer.push("\n                "),t.buffer.push(a(r.view.call(e,"subnetListItem",{hash:{model:""},hashTypes:{model:"ID"},hashContexts:{model:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n            "),n}function p(e,t){var n="",i;return t.buffer.push('\n            <li data-icon="false">\n                <a '),t.buffer.push(a(r.action.call(e,"assignMachine","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                    "),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </a>\n            </li>\n            "),n}function d(e,t){var n="";return t.buffer.push('\n    <div class="single-action-footer" data-role="footer" data-theme="b">\n        <a class="ui-btn ui-corner-all ui-btn-icon-right ui-icon-delete"\n            '),t.buffer.push(a(r.action.call(e,"deleteClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">\n                Delete\n        </a>\n    </div>\n    "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="single-network-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#/networks" class="responsive-button ui-btn-left ui-btn ui-icon-arrow-l\n            ui-btn-icon-left ui-shadow ui-corner-all">Networks</a>\n\n        <h1>'),u=r._triageMustache.call(n,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</h1>\n\n        "),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <div id="single-network-info" data-role="collapsible" data-collapsed="false">\n\n            <h4>Network Information</h4>\n\n            <table class="info-table">\n                <tbody>\n                <tr>\n                    <td>Name</td>\n                    <td>'),u=r._triageMustache.call(n,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</td>\n                </tr>\n                <tr>\n                    <td>Id</td>\n                    <td>"),u=r._triageMustache.call(n,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</td>\n                </tr>\n                "),u=r["if"].call(n,"status",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n                </tbody>\n            </table>\n\n        </div>\n\n        "),u=r["if"].call(n,"subnets",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="mid-padding"></div>\n\n    </div>\n\n    <div id="assign-machine"\n        class="tiny-popup"\n        data-role="popup"\n        data-overlay-theme="b"\n        data-transition="flip">\n\n        <ul data-role="listview">\n            '),u=r.each.call(n,"view.network.backend.machines.content",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </ul>\n    </div>\n\n    "),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),u=r["if"].call(n,"backend.isOpenStack",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(8,d,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n</div>\n"),o}),Ember.TEMPLATES.network_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                "),i=r["if"].call(e,"enabled",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            "),n}function c(e,t){var n="",i;return t.buffer.push("\n                  "),i=r.each.call(e,"networks",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,h,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                "),n}function h(e,t){var n="";return t.buffer.push("\n                        "),t.buffer.push(a(r.view.call(e,"networkListItem",{hash:{networkBinding:"this","class":"checkbox-link"},hashTypes:{networkBinding:"STRING","class":"STRING"},hashContexts:{networkBinding:e,"class":e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n                  "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="network-list-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#"\n        class="responsive-button ui-btn-left ui-btn ui-icon-home\n            ui-btn-icon-left ui-shadow ui-corner-all">Home</a>\n\n        <h1>Networks</h1>\n\n        '),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n        <a id="network-create-btn"\n            '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"Mist.backendsController.hasOpenStack::ui-disabled\n                :responsive-button\n                :ui-btn :ui-btn-d\n                :ui-icon-plus\n                :ui-btn-icon-right\n                :ui-corner-all\n                :ui-shadow"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n            "),s.buffer.push(a(r.action.call(n,"createClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Create</a>\n        <ul id="networks"\n            data-role="listview"\n            data-inset="true"\n            data-filter="true"\n            data-filter-placeholder="Filter..."\n            data-theme="c"\n            class="checkbox-list">\n            '),u=r.each.call(n,"Mist.backendsController",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </ul>\n\n        <div class="mid-padding"></div>\n\n    </div>\n\n    '),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"networkCreate",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    <div class="single-action-footer" data-role="footer" data-theme="b">\n        <a class="ui-btn ui-corner-all ui-btn-icon-right ui-icon-delete"\n            '),s.buffer.push(a(r.action.call(n,"deleteClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                Delete\n        </a>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.network_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function p(e,t){var n="";return t.buffer.push("\n        "),t.buffer.push(l(r.view.call(e,"Mist.Checkbox",{hash:{checkedBinding:"view.network.selected"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n    "),n}function d(e,t){var n="";return t.buffer.push("\n        "),t.buffer.push(l(r.view.call(e,"Mist.Checkbox",{hash:{checkedBinding:"view.network.selected","data-disabled":"true"},hashTypes:{checkedBinding:"STRING","data-disabled":"STRING"},hashContexts:{checkedBinding:e,"data-disabled":e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n    "),n}function v(e,t){var n="",i;return t.buffer.push('\n\n    <div class="ui-grid-b">\n        <div class="ui-block-a network-name">'),i=r._triageMustache.call(e,"view.network.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</div>\n        <div class="ui-block-b">'),i=r._triageMustache.call(e,"view.network.status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</div>\n        <div class="ui-block-c key-tags">\n            <span class="tag">'),i=r._triageMustache.call(e,"view.network.backend.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</span>\n        </div>\n    </div>\n\n"),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a,f,l=this.escapeExpression,c=this,h=r.helperMissing;return s.buffer.push("<label>\n    "),u=r["if"].call(n,"view.network.backend.isOpenStack",{hash:{},hashTypes:{},hashContexts:{},inverse:c.program(3,d,s),fn:c.program(1,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n</label>\n"),u=(a=r["link-to"]||n&&n["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(5,v,s),contexts:[n,n],types:["STRING","ID"],data:s},a?a.call(n,"network","view.network",f):h.call(n,"link-to","network","view.network",f)),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n"),o}),Ember.TEMPLATES.rule_edit=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push('\n            <li data-icon="false">\n                <a class="ui-btn" '),t.buffer.push(a(r.action.call(e,"metricClicked","id",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                    "),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                </a>\n            </li>\n            "),n}function c(e,t){var n="",i;return t.buffer.push('\n                <li data-icon="false">\n                    <a '),t.buffer.push(a(r.action.call(e,"operatorClicked","title",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                        "),i=r._triageMustache.call(e,"symbol",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </a>\n                </li>\n            "),n}function h(e,t){var n="",i;return t.buffer.push('\n                <li data-icon="false">\n                    <a '),t.buffer.push(a(r.action.call(e,"actionClicked","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                        "),i=r._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </a>\n                </li>\n            "),n}function p(e,t){var n="",i;return t.buffer.push('\n                <li data-icon="false">\n                    <a '),t.buffer.push(a(r.action.call(e,"aggregateClicked","value",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                        "),i=r._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </a>\n                </li>\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="rule-metric-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-b"></div>\n<div id="rule-metric-popup"\n     class="ui-popup-container ui-popup-hidden ui-body-inherit ui-overlay-shadow">\n\n    <div id="rule-metric"\n         class="ui-popup"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n        <ul data-role="listview">\n            '),u=r.each.call(n,"view.sortedMetrics",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </ul>\n    </div>\n</div>\n\n\n<div id="rule-operator-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-b"></div>\n<div id="rule-operator-popup"\n     class="ui-popup-container ui-popup-hidden ui-body-inherit ui-overlay-shadow">\n\n    <div id="rule-operator"\n         class="ui-popup"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n        <ul data-role="listview">\n            '),u=r.each.call(n,"Mist.rulesController.operatorList",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </ul>\n    </div>\n</div>\n\n\n<div id="rule-action-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-b"></div>\n<div id="rule-action-popup"\n     class="ui-popup-container ui-popup-hidden ui-body-inherit ui-overlay-shadow">\n\n    <div id="rule-action"\n         class="ui-popup"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n        <ul data-role="listview">\n            '),u=r.each.call(n,"Mist.rulesController.actionList",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            <li class="ui-state-disabled" data-icon="false">\n                <a>launch</a>\n            </li>\n        </ul>\n    </div>\n</div>\n\n\n<div id="rule-command-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-b"></div>\n<div id="rule-command-popup"\n     class="ui-popup-container ui-popup-hidden ui-body-inherit ui-overlay-shadow ui-corner-all large-popup">\n\n    <div id="rule-command"\n         class="ui-popup ui-corner-all"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n        <div class="ui-header ui-bar-b">\n            <h1 class="ui-title">Command</h1>\n        </div>\n\n        <div data-role="content">\n\n            '),s.buffer.push(a(r.view.call(n,"Ember.TextArea",{hash:{valueBinding:"view.newCommand",name:"rule-command-content"},hashTypes:{valueBinding:"STRING",name:"STRING"},hashContexts:{valueBinding:n,name:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n            <div data-role="controlgroup" class="btn-full ok-cancel" data-type="horizontal">\n                <a class="ui-btn ui-btn-a" '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n                <a class="ui-btn ui-btn-d" '),s.buffer.push(a(r.action.call(n,"saveClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Save</a>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div id="rule-aggregate-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-b"></div>\n<div id="rule-aggregate-popup"\n     class="ui-popup-container ui-popup-hidden ui-body-inherit ui-overlay-shadow">\n\n    <div id="rule-aggregate"\n         class="ui-popup"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n        <ul data-role="listview">\n            '),u=r.each.call(n,"Mist.rulesController.aggregateList",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(7,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </ul>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.rule=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push('\n\n            <div class="rule-within rule-text">within</div>\n\n            '),t.buffer.push(a(r.view.call(e,"Mist.TextField",{hash:{"class":"rule-time-window",type:"number",valueBinding:"view.newRuleTimeWindow"},hashTypes:{"class":"STRING",type:"STRING",valueBinding:"STRING"},hashContexts:{"class":e,type:e,valueBinding:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push('\n\n            <div class="rule-mins rule-text">min(s)</div>\n\n        '),n}function c(e,t){t.buffer.push('\n        <div class="ajax-loader"></div>\n    ')}function h(e,t){var n="";return t.buffer.push('\n        <div class="delete-rule-container">\n            <a class="delete-rule-button ui-btn ui-btn-icon-notext ui-icon-delete ui-corner-all"\n                    '),t.buffer.push(a(r.action.call(e,"deleteRuleClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push(">&nbsp;</a>\n        </div>\n    "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="'),s.buffer.push(a(r.unbound.call(n,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}))),s.buffer.push('" class="rule-box">\n\n    <div id="basic-condition">\n        <div class="rule-if rule-text">if</div>\n\n        <a class="rule-button rule-metric ui-btn ui-btn-inline ui-shadow ui-corner-all"\n            '),s.buffer.push(a(r.action.call(n,"openMetricPopup",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                "),u=r._triageMustache.call(n,"metric.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </a>\n\n        <a class="rule-button rule-operator ui-btn ui-btn-inline ui-shadow ui-corner-all"\n            '),s.buffer.push(a(r.action.call(n,"openOperatorPopup",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                "),u=r._triageMustache.call(n,"operator.symbol",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        </a>\n\n        "),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{"class":"rule-value",type:"number",valueBinding:"view.newRuleValue"},hashTypes:{"class":"STRING",type:"STRING",valueBinding:"STRING"},hashContexts:{"class":n,type:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n\n        <div class="rule-unit rule-text">'),u=r._triageMustache.call(n,"metric.unit",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</div>\n    </div>\n\n    <a class="rule-button rule-more ui-btn ui-btn-inline ui-shadow ui-corner-all"\n        '),s.buffer.push(a(r.action.call(n,"openAdvancedCondition",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>\n        ...\n    </a>\n\n    <div class="advanced-condition">\n\n        <div class="rule-for rule-text">for</div>\n\n        <a class="rule-button rule-aggregate ui-btn ui-btn-inline ui-shadow ui-corner-all"\n            '),s.buffer.push(a(r.action.call(n,"openAggregatePopup",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n                "),u=r._triageMustache.call(n,"aggregate.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n        </a>\n\n        <div class="rule-for rule-text">value</div>\n\n        '),u=r.unless.call(n,"view.aggregateIsAny",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n    </div>\n\n    <div class="rule-then rule-text">then</div>\n\n    <a class="rule-button rule-action ui-btn ui-btn-inline ui-shadow ui-corner-all"\n        '),s.buffer.push(a(r.action.call(n,"openActionPopup",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n            "),u=r._triageMustache.call(n,"actionToTake",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    </a>\n\n    "),u=r["if"].call(n,"pendingAction",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(5,h,s),fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n</div>\n"),o}),Ember.TEMPLATES.rule_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push("\n        "),t.buffer.push(a(r.view.call(e,"rule",{hash:{model:""},hashTypes:{model:"ID"},hashContexts:{model:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n    "),n}function c(e,t){t.buffer.push('\n        <div class="rule-box" id="creation-rule">\n            <div class="ajax-loader"></div>\n        </div>\n    ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div class="rules-container" data-role="listview">\n\n    '),u=r.each.call(n,"view.rules",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n    "),u=r["if"].call(n,"Mist.rulesController.creationPending",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n</div>\n"),o}),Ember.TEMPLATES.script_add=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                                "),i=r["if"].call(e,"type",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(4,h,t),fn:a.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function c(e,t){var n="",i;return t.buffer.push("\n                                    "),i=r._triageMustache.call(e,"type.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                "),n}function h(e,t){t.buffer.push("\n                                    Select\n                                ")}function p(e,t){var n="",i;return t.buffer.push('\n                            <li data-icon="false" data-theme="a">\n                                <a '),t.buffer.push(f(r.action.call(e,"selectType","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n                            </li>\n                        "),n}function d(e,t){var n="",i;return t.buffer.push("\n                                "),i=r["if"].call(e,"source",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(4,h,t),fn:a.program(9,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function v(e,t){var n="",i;return t.buffer.push("\n                                    "),i=r._triageMustache.call(e,"source.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                "),n}function m(e,t){var n="",i;return t.buffer.push('\n                            <li data-icon="false" data-theme="a">\n                                <a '),t.buffer.push(f(r.action.call(e,"selectSource","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),i=r._triageMustache.call(e,"label",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</a>\n                            </li>\n                        "),n}function g(e,t){t.buffer.push("\n                ")}function y(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<div id="script-add"\n    data-swipe-close="false"\n    class="side-panel"\n    data-role="panel"\n    data-position="right"\n    data-display="overlay"\n    data-theme="c">\n\n    <div data-role="header">\n        <h1>Add script</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <div class="form-field">\n            <label for="script-name">Name:</label>\n            '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"script-name",valueBinding:"Mist.scriptAddController.newScript.name"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n        </div>\n\n        <!--\n            Select script type\n        -->\n\n        <div id="script-add-type" class="form-field">\n            <label >Type:</label>\n            <div class="mist-select"\n                data-role="collapsible"\n                data-iconpos="right"\n                data-collapsed-icon="carat-d"\n                data-expanded-icon="carat-u"\n                data-theme="a">\n                    <h4>\n                        '),u=r["with"].call(n,"Mist.scriptAddController.newScript.type","as","type",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(1,l,s),contexts:[n,n,n],types:["ID","ID","ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                    </h4>\n                    <ul data-role="listview">\n                        '),u=r.each.call(n,"view.scriptTypes",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(6,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                    </ul>\n            </div>\n        </div>\n\n        <!--\n            Select script source\n        -->\n\n        <div id="script-add-source" class="form-field">\n            <label>Source:</label>\n            <div  class="mist-select"\n                data-role="collapsible"\n                data-iconpos="right"\n                data-collapsed-icon="carat-d"\n                data-expanded-icon="carat-u"\n                data-theme="a">\n                    <h4>\n                        '),u=r["with"].call(n,"Mist.scriptAddController.newScript.source","as","source",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(8,d,s),contexts:[n,n,n],types:["ID","ID","ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                    </h4>\n                    <ul data-role="listview">\n                        '),u=r.each.call(n,"view.scriptSources",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(11,m,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                    </ul>\n            </div>\n        </div>\n\n        <div class="github source">\n            <div class="form-field">\n                <label for="github-script-url">Github Repo:</label>\n                '),u=r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"github-script-url",valueBinding:"Mist.scriptAddController.newScript.url"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,id:n,valueBinding:n},inverse:a.noop,fn:a.program(13,g,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </div>\n\n            <div class="form-field">\n                <label for="github-script-entry-point">Entry point (optional):</label>\n                '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"github-script-entry-point",valueBinding:"Mist.scriptAddController.newScript.entryPoint"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            </div>\n        </div>\n\n        <div class="url source">\n            <div class="form-field">\n                <label for="url-script-url">Url:</label>\n                '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"url-script-url",valueBinding:"Mist.scriptAddController.newScript.url"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            </div>\n\n            <div class="form-field">\n                <label for="url-script-entry-point">Entry point (optional):</label>\n                '),s.buffer.push(f(r.view.call(n,"Mist.TextField",{hash:{"data-theme":"a",id:"url-script-entry-point",valueBinding:"Mist.scriptAddController.newScript.entryPoint"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            </div>\n        </div>\n\n        <div class="inline source">\n            <div class="form-field">\n                <label for="url-script-script">Script:</label>\n                '),s.buffer.push(f(r.view.call(n,"Mist.TextArea",{hash:{"data-theme":"a",id:"url-script-script",valueBinding:"Mist.scriptAddController.newScript.script"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push('\n            </div>\n        </div>\n\n        <!--\n            Description\n        -->\n\n        <div id="script-add-description" class="form-field">\n          <label>Description (optional):</label>\n          '),s.buffer.push(f(r.view.call(n,"Mist.TextArea",{hash:{"data-theme":"a",valueBinding:"Mist.scriptAddController.newScript.description"},hashTypes:{"data-theme":"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n        </div>\n\n        "),u=r["if"].call(n,"Mist.scriptsController.addingScript",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(15,y,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-btn-a ui-shadow ui-corner-all" \n                '),s.buffer.push(f(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n            <a id="new-script-ok" data-theme="d"\n                '),s.buffer.push(f(r["bind-attr"].call(n,{hash:{"class":"view.isReady::ui-state-disabled :ui-btn :ui-btn-d"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(f(r.action.call(n,"addClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Add</a>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.script_edit=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n                <div class="ajax-loader"></div>\n            ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<!-- Popup Overlay -->\n\n<div id="script-edit-screen"\n    class="ui-popup-screen\n        ui-overlay-b\n        ui-screen-hidden">\n</div>\n\n<!-- Popup Wrapper -->\n<div id="script-edit-popup"\n     class="pop\n        ui-popup-container\n        ui-popup-hidden\n        ui-popup-truncate">\n\n    <!-- Popup -->\n\n    <div id="script-edit"\n         class="mid-popup\n            ui-popup\n            ui-body-a\n            ui-overlay-shadow\n            ui-corner-all"\n         data-role="popup"\n         data-enhanced="true"\n         data-transition="flip">\n\n         <!-- Header -->\n\n        <div class="ui-header ui-bar-b">\n\n            <h1 class="ui-title">Rename script</h1>\n\n        </div>\n\n        <!-- Body -->\n\n        <div role="main" class="ui-content" data-theme="a">\n\n            <!-- New backend name text field -->\n\n            '),s.buffer.push(a(r.view.call(n,"Mist.TextField",{hash:{id:"script-edit-new-name",valueBinding:"Mist.scriptEditController.newName"},hashTypes:{id:"STRING",valueBinding:"STRING"},hashContexts:{id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n\n            "),u=r["if"].call(n,"Mist.scriptsController.renamingScript",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n            <div class="ok-cancel" data-role="controlgroup" data-type="horizontal" >\n                    <a class="ui-btn ui-btn-a ui-corner-all ui-shadow"\n                       '),s.buffer.push(a(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n                    <a id="script-edit-ok"\n                        class="ui-btn ui-btn-d ui-corner-all ui-shadow"\n                        '),s.buffer.push(a(r.action.call(n,"saveClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Save</a>\n            </div>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.script=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}function c(e,t){var n="",i;return t.buffer.push("\n                 <tr>\n                     <td>Description</td>\n                     <td>"),i=r._triageMustache.call(e,"description",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                 </tr>\n             "),n}function h(e,t){var n="",i;return t.buffer.push("\n                   <tr>\n                       <td>Entry Point</td>\n                       <td>"),i=r._triageMustache.call(e,"entrypoint",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n                   </tr>\n               "),n}function p(e,t){var n="",i;return t.buffer.push('\n               <tr>\n                   <td>Script</td>\n                   <td><div class="command-container">'),i=r._triageMustache.call(e,"script",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</div></td>\n               </tr>\n               "),n}function d(e,t){var n="",i;return t.buffer.push("\n               <tr>\n                   <td>Url</td>\n                   <td>"),i=r._triageMustache.call(e,"script",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n               </tr>\n               "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="single-script-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#/scripts" class="responsive-button ui-btn-left ui-btn ui-icon-arrow-l\n            ui-btn-icon-left ui-shadow ui-corner-all">Scripts</a>\n\n        <h1>'),u=r._triageMustache.call(n,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</h1>\n\n        "),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        '),u=r["if"].call(n,"Mist.scriptsController.loading",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <a id="run-script-btn"\n           class="responsive-btn ui-btn ui-btn-d ui-btn-icon-right ui-icon-plus ui-corner-all ui-shadow"\n           '),s.buffer.push(a(r.action.call(n,"runClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Run</a>\n\n       <div data-role="collapsible" data-collapsed="false">\n\n           <h4>Basic Info</h4>\n\n           <table class="info-table">\n           <tbody>\n             '),u=r["if"].call(n,"description",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n               <tr>\n                   <td>Type</td>\n                   <td>"),u=r._triageMustache.call(n,"type",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("</td>\n               </tr>\n               "),u=r["if"].call(n,"entrypoint",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n               "),u=r["if"].call(n,"view.isInline",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(9,d,s),fn:f.program(7,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n           </tbody>\n           </table>\n       </div>\n\n       <div data-role="collapsible" data-collapsed="false">\n\n           <h4>Logs</h4>\n\n           '),s.buffer.push(a(r.view.call(n,"scriptLogList",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n       </div>\n\n        <div class="large-padding"></div>\n\n    </div>\n\n    '),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"scriptRun",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"scriptEdit",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    <div class="dual-action-footer" data-role="footer" data-theme="b">\n        <div class="ui-grid-a">\n            <div class="ui-block-a">\n                <a class="ui-btn ui-btn-icon-left ui-icon-edit"\n                    '),s.buffer.push(a(r.action.call(n,"renameClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Rename</a>\n            </div>\n            <div class="ui-block-b">\n                <a class="ui-btn ui-btn-icon-left ui-icon-delete"\n                    '),s.buffer.push(a(r.action.call(n,"deleteClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Delete</a>\n            </div>\n    </div>\n\n</div>\n"),o}),Ember.TEMPLATES.script_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push("\n                    "),t.buffer.push(a(r.view.call(e,"scriptListItem",{hash:{model:"this",scriptBinding:"this","class":"checkbox-link"},hashTypes:{model:"STRING",scriptBinding:"STRING","class":"STRING"},hashContexts:{model:e,scriptBinding:e,"class":e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n                "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div id="script-list-page" data-role="page" class="ui-page-active">\n\n    <div data-role="header" data-theme="b">\n\n        <a href="#" class="responsive-button ui-btn-left ui-btn ui-icon-home\n            ui-btn-icon-left ui-shadow ui-corner-all">Home</a>\n\n        <h1>Scripts</h1>\n\n        '),s.buffer.push(a(r.view.call(n,"userMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <div class="list-wrapper">\n\n            <a id="select-scripts-btn"\n               class="responsive-btn ui-btn ui-btn-icon-left ui-icon-arrow-d ui-corner-all ui-shadow"\n               '),s.buffer.push(a(r.action.call(n,"selectClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Select</a>\n\n            <a id="run-script-btn"\n               class="responsive-btn ui-btn ui-btn-d ui-btn-icon-right ui-icon-plus ui-corner-all ui-shadow"\n               '),s.buffer.push(a(r.action.call(n,"addClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Add</a>\n\n            <ul data-role="listview"\n                data-filter="true"\n                data-inset="true"\n                data-filter-placeholder="Filter Scripts..."\n                class="checkbox-list">\n                '),u=r.each.call(n,"Mist.scriptsController",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n            </ul>\n        </div>\n        <div class="mid-padding"></div>\n    </div>\n\n    '),s.buffer.push(a(r.view.call(n,"dialog",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"scriptAdd",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n    "),s.buffer.push(a(r.view.call(n,"scriptEdit",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('\n\n    <div id="select-scripts-popup" data-role="popup" data-transition="flip" data-position-to="#select-scripts-btn">\n        <ul data-role=\'listview\'>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"selectionModeClicked",!0,{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","BOOLEAN"],data:s}))),s.buffer.push('>All</a>\n            </li>\n            <li data-icon="false">\n                <a '),s.buffer.push(a(r.action.call(n,"selectionModeClicked",!1,{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n,n],types:["STRING","BOOLEAN"],data:s}))),s.buffer.push('>None</a>\n            </li>\n        </ul>\n    </div>\n\n    <div class="dual-action-footer" data-role="footer" data-theme="b">\n        <div class="ui-grid-a">\n            <div '),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"view.canRename::ui-state-disabled :ui-block-a"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push('>\n                <a class="ui-btn ui-btn-icon-left ui-icon-edit"\n                    '),s.buffer.push(a(r.action.call(n,"renameClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Rename</a>\n            </div>\n            <div "),s.buffer.push(a(r["bind-attr"].call(n,{hash:{"class":"view.canDelete::ui-state-disabled :ui-block-b"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push('>\n                <a class="ui-btn ui-btn-icon-left ui-icon-delete"\n                    '),s.buffer.push(a(r.action.call(n,"deleteClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Delete</a>\n            </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.script_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function p(e,t){var n="",i;return t.buffer.push('\n    <div class="ui-grid-b">\n        <div class="ui-block-a">'),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</div>\n        <div class="ui-block-b">\n          <span class="tag">'),i=r._triageMustache.call(e,"type",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push('</span>\n        </div>\n        <div class="ui-block-c"></div>\n    </div>\n'),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a,f,l=this.escapeExpression,c=this,h=r.helperMissing;return s.buffer.push("<label>"),s.buffer.push(l(r.view.call(n,"Mist.Checkbox",{hash:{checkedBinding:"selected"},hashTypes:{checkedBinding:"STRING"},hashContexts:{checkedBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("</label>\n\n"),u=(a=r["link-to"]||n&&n["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,p,s),contexts:[n,n],types:["STRING","ID"],data:s},a?a.call(n,"script","",f):h.call(n,"link-to","script","",f)),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n"),o}),Ember.TEMPLATES.script_log_list=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){t.buffer.push('\n        <div class="ajax-loader"></div>\n    ')}function c(e,t){var n="";return t.buffer.push("\n            "),t.buffer.push(a(r.view.call(e,"logListItem",{hash:{logBinding:"this"},hashTypes:{logBinding:"STRING"},hashContexts:{logBinding:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n        "),n}function h(e,t){t.buffer.push('\n        <div class="no-logs"></div>\n    ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<div class="log-list">\n    '),u=r["if"].call(n,"view.searching",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n    <ul class="ui-listview ui-listview-inset ui-corner-all ui-shadow"\n        data-role="listview"\n        data-enhanced="true"\n        data-inset="true">\n        '),u=r.each.call(n,"Mist.logsController",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    </ul>\n\n    "),u=r["if"].call(n,"view.fetchingHistory",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n    "),u=r["if"].call(n,"view.noMoreLogs",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n</div>\n"),o}),Ember.TEMPLATES.script_run=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push("\n                        "),i=r["if"].call(e,"machine",{hash:{},hashTypes:{},hashContexts:{},inverse:a.program(4,h,t),fn:a.program(2,c,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    "),n}function c(e,t){var n="",i;return t.buffer.push("\n                            "),i=r._triageMustache.call(e,"machine.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function h(e,t){t.buffer.push("\n                            Select\n                        ")}function p(e,t){var n="",i;return t.buffer.push("\n                    "),i=r["if"].call(e,"enabled",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(7,d,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    "),n}function d(e,t){var n="",i;return t.buffer.push("\n                        "),i=r.each.call(e,"machines.content",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(8,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    "),n}function v(e,t){var n="",i;return t.buffer.push("\n                        "),i=r["if"].call(e,"hasKeys",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(9,m,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                        "),n}function m(e,t){var n="",i;return t.buffer.push('\n                            <li data-icon="false">\n                                <a '),t.buffer.push(f(r.action.call(e,"machineClicked","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">\n                                    "),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                                </a>\n                            </li>\n                        "),n}function g(e,t){t.buffer.push('\n            <div class="ajax-loader"></div>\n        ')}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this,f=this.escapeExpression;return s.buffer.push('<div id="script-run"\n    data-swipe-close="false"\n    class="side-panel"\n    data-role="panel"\n    data-position="right"\n    data-display="overlay"\n    data-theme="c">\n\n    <div data-role="header">\n        <h1>Run script</h1>\n    </div>\n\n    <div data-role="content" data-theme="a">\n\n        <div class="form-field">\n            <label>Machine:</label>\n            <div id="script-run-machine"\n                data-role="collapsible"\n                data-iconpos="right"\n                data-collapsed-icon="arrow-d"\n                data-expanded-icon="arrow-u"\n                data-theme="a"\n                class="mist-select">\n                <h4>\n                    '),u=r["with"].call(n,"Mist.scriptRunController.scriptToRun",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                </h4>\n                <ul data-role="listview" data-theme="a">\n                    '),u=r.each.call(n,"Mist.backendsController.content",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(6,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n                </ul>\n            </div>\n        </div>\n\n        <div class="form-field">\n            <label for="script-params">Parameters (optional):</label>\n            '),s.buffer.push(f(r.view.call(n,"Mist.TextArea",{hash:{"data-theme":"a",id:"script-params",valueBinding:"Mist.scriptRunController.scriptToRun.parameters"},hashTypes:{"data-theme":"STRING",id:"STRING",valueBinding:"ID"},hashContexts:{"data-theme":n,id:n,valueBinding:n},contexts:[n],types:["ID"],data:s}))),s.buffer.push("\n        </div>\n\n        "),u=r["if"].call(n,"Mist.scriptsController.runningScript",{hash:{},hashTypes:{},hashContexts:{},inverse:a.noop,fn:a.program(11,g,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n\n        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">\n            <a class="ui-btn ui-btn-a ui-shadow ui-corner-all"\n                '),s.buffer.push(f(r.action.call(n,"backClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push('>Back</a>\n            <a id="new-script-ok" data-theme="d"\n                '),s.buffer.push(f(r["bind-attr"].call(n,{hash:{"class":"view.isReady::ui-state-disabled :ui-btn :ui-btn-d"},hashTypes:{"class":"STRING"},hashContexts:{"class":n},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(f(r.action.call(n,"runClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">Run</a>\n        </div>\n    </div>\n</div>\n"),o}),Ember.TEMPLATES.subnet_list_item=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="",i;return t.buffer.push('\n    <tr>\n        <td class="subnet-name">Name</td>\n        <td class="subnet-name">'),i=r._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n    </tr>\n    "),n}function c(e,t){var n="",i;return t.buffer.push("\n    <tr>\n        <td>Id</td>\n        <td>"),i=r._triageMustache.call(e,"id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n    </tr>\n    "),n}function h(e,t){var n="",i;return t.buffer.push("\n    <tr>\n        <td>Zone</td>\n        <td>"),i=r._triageMustache.call(e,"zone.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n    </tr>\n    "),n}function p(e,t){var n="",i;return t.buffer.push("\n    <tr>\n        <td>Cidr</td>\n        <td>"),i=r._triageMustache.call(e,"cidr",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n    </tr>\n    "),n}function d(e,t){var n="",i;return t.buffer.push("\n    <tr>\n        <td>DHCP Enabled</td>\n        <td>"),i=r._triageMustache.call(e,"enable_dhcp",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("</td>\n    </tr>\n    "),n}function v(e,t){var n="";return t.buffer.push("\n    <tr>\n        <td>Gateway IP</td>\n        <td>"),t.buffer.push(a(r.unbound.call(e,"gateway_ip",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n        </tr>\n        "),n}function m(e,t){var n="",i;return t.buffer.push("\n        <tr>\n            <td>DNS Nameservers</td>\n            <td>\n                "),i=r.each.call(e,"dns_nameservers",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(14,g,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            </td>\n        </tr>\n        "),n}function g(e,t){var n="";return t.buffer.push('\n                <div class="ip">'),t.buffer.push(a(r.unbound.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</div>\n                "),n}function y(e,t){var n="",i;return t.buffer.push("\n        <tr>\n            <td>Allocation pools</td>\n            <td>\n                "),i=r.each.call(e,"allocation_pools",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(17,b,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n            </td>\n        </tr>\n        "),n}function b(e,t){var n="";return t.buffer.push('\n                <div class="ip">'),t.buffer.push(a(r.unbound.call(e,"start",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push('</div> -\n                <div class="ip">'),t.buffer.push(a(r.unbound.call(e,"end",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}))),t.buffer.push("</div>\n                "),n}function w(e,t){var n="",i;return t.buffer.push('\n        <tr>\n            <td class="usable-ips" colspan="2">\n                <h4>Usable ip addresses ('),i=r._triageMustache.call(e,"ipAddresses.length",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push(")</h4>\n                <table>\n                    <tbody>\n                    "),i=r.each.call(e,"ipAddresses",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(20,E,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n                    </tbody>\n            </table>\n        </td>\n    </tr>\n    "),n}function E(e,t){var n="";return t.buffer.push("\n                        "),t.buffer.push(a(r.view.call(e,"ipAddressListItem",{hash:{model:""},hashTypes:{model:"ID"},hashContexts:{model:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("\n                    "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<table class="info-table">\n    <tbody>\n    '),u=r["if"].call(n,"name",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    "),u=r["if"].call(n,"id",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(3,c,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    "),u=r["if"].call(n,"zone",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    "),u=r["if"].call(n,"cidr",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(7,p,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    "),u=r["if"].call(n,"enable_dhcp",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(9,d,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    "),u=r["if"].call(n,"gateway_ip",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(11,v,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        "),u=r["if"].call(n,"dns_nameservers.length",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(13,m,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n        "),u=r["if"].call(n,"allocation_pools.length",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(16,y,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n        "),u=r["if"].call(n,"ipAddresses",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(19,w,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n    </tbody>\n</table>\n"),o}),Ember.TEMPLATES.user_menu=Ember.Handlebars.template(function(t,n,r,i,s){function l(e,t){var n="";return t.buffer.push('\n        <img class="gravatar-image" '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{src:"view.gravatarURL"},hashTypes:{src:"STRING"},hashContexts:{src:e},contexts:[],types:[],data:t}))),t.buffer.push("/>\n    "),n}function c(e,t){t.buffer.push('\n        <div class="gravatar-image user"></div>\n    ')}function h(e,t){var n="",i;return t.buffer.push('\n\n            <a class="ui-btn ui-btn-b ui-shadow ui-corner-all ui-mini"\n               '),t.buffer.push(a(r["bind-attr"].call(e,{hash:{href:"view.accountUrl"},hashTypes:{href:"STRING"},hashContexts:{href:e},contexts:[],types:[],data:t}))),t.buffer.push("\n               "),t.buffer.push(a(r["bind-attr"].call(e,{hash:{target:"view.isNotCore"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[],types:[],data:t}))),t.buffer.push(">Account</a>\n\n\n            "),i=r["if"].call(e,"Mist.isCore",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(6,p,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        "),n}function p(e,t){var n="";return t.buffer.push('\n                <a class="ui-btn ui-btn-b ui-shadow ui-corner-all ui-mini"\n                    '),t.buffer.push(a(r.action.call(e,"logoutClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Logout</a>\n            "),n}function d(e,t){var n="",i;return t.buffer.push("\n            "),i=r.unless.call(e,"Mist.isCore",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(9,v,t),contexts:[e],types:["ID"],data:t}),(i||i===0)&&t.buffer.push(i),t.buffer.push("\n        "),n}function v(e,t){var n="";return t.buffer.push('\n                <a class="ui-btn ui-btn-b ui-shadow ui-corner-all ui-mini"\n                    '),t.buffer.push(a(r.action.call(e,"loginClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:e},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Login</a>\n            "),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),s=s||{};var o="",u,a=this.escapeExpression,f=this;return s.buffer.push('<a id="me-btn"\n   class="ui-btn-right ui-btn ui-shadow ui-corner-all"\n   '),s.buffer.push(a(r.action.call(n,"meClicked",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:n},contexts:[n],types:["STRING"],data:s}))),s.buffer.push(">\n    "),u=r["if"].call(n,"view.gravatarURL",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(3,c,s),fn:f.program(1,l,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('\n    &nbsp;</a>\n\n<div id="user-menu-popup" class="ui-mini" data-role="popup" data-position-to="#me-btn" data-theme="c" data-overlay-theme="b" data-transition="flip">\n\n    <div data-role="content">\n\n        <div id="user-email">'),u=r._triageMustache.call(n,"EMAIL",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push('</div>\n\n        <a href="https://mistio.zendesk.com/access/login"\n           target="_blank"\n           class="ui-btn ui-btn-b ui-shadow ui-corner-all ui-mini">\n           Support</a>\n\n        <a href="docs/index.html"\n           target="_blank"\n           class="ui-btn ui-btn-b ui-shadow ui-corner-all ui-mini">\n           Docs</a>\n\n        '),u=r["if"].call(n,"Mist.authenticated",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(8,d,s),fn:f.program(5,h,s),contexts:[n],types:["ID"],data:s}),(u||u===0)&&s.buffer.push(u),s.buffer.push("\n\n    </div>\n\n</div>\n\n"),s.buffer.push(a(r.view.call(n,"login",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n\n"),s.buffer.push(a(r.view.call(n,"messageBox",{hash:{},hashTypes:{},hashContexts:{},contexts:[n],types:["STRING"],data:s}))),s.buffer.push("\n"),o}),e()}}),define("app/models/machine",["ember"],function(){return Ember.Object.extend({id:null,name:null,probed:null,keysCount:0,probing:null,backend:null,selected:null,hasMonitoring:null,probeInterval:3e4,pendingCreation:null,isDestroying:!1,state:"stopped",prevState:null,waitState:null,lockState:null,stats:{cpu:[],load:[],disk:[]},graphdata:{},commandHistory:null,loss:null,latency:null,loadavg:null,loadavg1:null,loadavg5:null,loadavg15:null,df:null,installationStatus:Ember.Object.create({activated_at:null,error_msg:null,finished_at:null,manual:null,started_at:null,state:null,stdout:null}),isUnknown:function(){return this.get("state")=="unknown"}.property("state"),netled1:function(){if(this.latency>0&&this.latency<1e3)return"on"}.property("latency"),netled2:function(){if(this.latency>0&&this.latency<500)return"on"}.property("latency"),netled3:function(){if(this.latency>0&&this.latency<250)return"on"}.property("latency"),netled4:function(){if(this.latency>0&&this.latency<100)return"on"}.property("latency"),netled4:function(){if(this.latency>0&&this.latency<40)return"on"}.property("latency"),lossled:function(){if(this.loss>.5)return"high-loss";if(this.loss>15)return"low-loss"},image:function(){return this.get("backend").get("images").getObject(this.imageId)}.property("imageId"),hasShell:function(){return this.get("hasKeys")||this.get("backend").get("isDocker")}.property("hasKeys","backend.isDocker"),hasKeys:function(){return!!Mist.keysController.getMachineKeysCount(this)}.property("Mist.keysController.content.@each.machines"),hasOpenIncident:function(){if(!Mist.openIncidents)return!1;var e=Mist.openIncidents.findBy("machineId",this.get("id"));return e?!e.get("isClosed"):!1}.property("Mist.openIncidents.@each.machine"),isWindows:function(){return this.get("extra")&&this.get("extra").os_type=="windows"}.property("extra"),isCoreos:function(){return this.get("extra")&&this.get("extra").os_type=="coreos"}.property("extra"),canConnect:function(){return this.get("isWindows")||this.get("hasShell")}.property("isWindows","hasShell"),connectText:function(){return this.get("isWindows")?"Connect":"Shell"}.property("isWindows"),host:function(){var e=[];return this.public_ips.forEach(function(t){t.search(":")==-1&&e.push(t)}),this.private_ips.forEach(function(t){t.search(":")==-1&&e.push(t)}),e.length?e[0]:""}.property("public_ips","private_ips"),rdpURL:function(){if(!this.get("isWindows"))return"";var e=this.get("extra").remote_desktop_port||3389,t="/backends/"+this.get("backend.id")+"/machines/"+this.get("id")+"/rdp?"+"host="+this.get("host")+"&"+"rdp_port="+e;return t}.property("isWindows","host","extra"),shutdown:function(e){this.backend.shutdownMachine(this.id,e)},destroy:function(e){this.backend.destroyMachine(this.id,e)},reboot:function(e){this.backend.rebootMachine(this.id,e)},start:function(e){this.backend.startMachine(this.id,e)},rename:function(e){this.backend.renameMachine(this.id,e)},waitFor:function(e){this.set("waitState",e)},lockOn:function(e){this.set("prevState",this.state),this.set("lockState",e),this.set("state",e)},restoreState:function(){this.set("waitState",null),this.set("state",this.prevState)},equals:function(e){return typeof e=="string"?e==this.id:e instanceof Array&&e[1]==this.id&&e[0]==this.backend.id?!0:e instanceof Object&&e.id==this.id&&e.backend.id==this.backend.id?!0:!1},getHost:function(){if(this.extra&&this.extra.dns_name)return this.extra.dns_name;try{var e=[];return this.public_ips.forEach(function(t){t.search(":")==-1&&e.push(t)}),e[0]}catch(t){return null}},probe:function(e,t){if(!this.backend.enabled)return;if(this.state!="running")return;var n=this;Mist.backendsController.probeMachine(n,e,function(e){t&&t(e)})},probeSuccess:function(e){function t(e,t){var n=e/t;return n>1.2?"hot":n>.8?"warm":n>.4?"eco":n>.1?"cool":"cold"}if(!this.backend||!this.backend.enabled)return;e.uptime&&(uptime=parseFloat(e.uptime.split(" ")[0])*1e3,this.set("uptimeChecked",new Date(e.timestamp*1e3)),this.set("uptimeFromServer",uptime),this.set("probed",!0)),this.set("cores",e.cores||this.cores),this.set("users",e.users||this.users),e.pub_ips&&(e.pub_ips.forEach(function(e){this.public_ips instanceof Array&&this.public_ips.addObject(e)}),this.notifyPropertyChange("public_ips")),e.priv_ips&&(e.priv_ips.forEach(function(e){this.private_ips instanceof Array&&this.private_ips.addObject(e)}),this.notifyPropertyChange("private_ips")),e.loadavg&&(this.set("loadavg",e.loadavg),this.set("loadavg1",t(e.loadavg[0],e.cores)),this.set("loadavg5",t(e.loadavg[1],e.cores)),this.set("loadavg15",t(e.loadavg[2],e.cores))),this.set("loss",e.packets_loss||this.loss),this.set("latency",e.rtt_avg?Math.floor(e.rtt_avg):this.latency),this.set("df",e.df||this.df),Mist.backendsController.trigger("onMachineProbe",this)},stateObserver:function(){this.waitState&&(this.waitState!=this.state?this.set("state",this.lockState):this.set("waitState",null))}.observes("state")})}),define("app/controllers/machines",["app/models/machine"],function(e){return Ember.ArrayController.extend(Ember.Evented,{content:[],loading:null,backend:null,failCounter:null,addingMachine:null,startingMachine:null,rebootingMachine:null,destroyingMachine:null,shutingdownMachine:null,init:function(){this._super(),this.set("content",[]),this.set("loadint",!0)},load:function(e){this._updateContent(e),this.set("loading",!1)},newMachine:function(t,n,r,i,s,o,u,a,f,l,c){var h=e.create({state:"pending",backend:this.backend,name:t,image:n,id:-1,pendingCreation:!0});this.addObject(h),s=Mist.keysController.keyExists(s.id)?s:null;var p=this,d=[];this.backend.networks.content.forEach(function(e){e.selected&&d.push(e.id)});var v=null;a.length&&(v={},a.split("\n").forEach(function(e){e=e.split("="),v[e[0]]=e[1]}));if(c.length){var m={},g={};c.split("\n").forEach(function(e){var t=e.split(":"),n=t[1]+"/tcp";m[n]=[{HostPort:t[0]}],g[n]={}})}this.set("addingMachine",!0),Mist.ajax.POST("backends/"+this.backend.id+"/machines",{name:t,key:s?s.id:null,size:r.id,script:o.id?undefined:o,script_id:o.id||undefined,script_params:l,image:n.id,location:i.id,disk:r.disk,image_extra:n.extra,size_name:r.name,image_name:n.name,location_name:i.name,monitoring:u,networks:d,docker_env:v,docker_command:f,docker_exposed_ports:g,docker_port_bindings:m}).success(function(e){e.backend=p.backend,p.backend.provider!="nephoscale"?p._createMachine(e,s,h):h.set("pendingCreation",!1)}).error(function(e){p.content.removeObject(p.content.findBy("name",t)),Mist.notificationController.timeNotify("Failed to create machine: "+e,5e3)}).complete(function(e,t){p.set("addingMachine",!1),p.set("onMachineAdd")})},shutdownMachine:function(e,t){var n=this,r=this.getMachine(e);r.waitFor("stopped"),r.lockOn("pending"),this.set("shutingdownMachine",!0),Mist.ajax.POST("/backends/"+this.backend.id+"/machines/"+e,{action:"stop"}).success(function(){}).error(function(){r.restoreState(),Mist.notificationController.notify("Failed to shutdown machine")}).complete(function(e){n.set("shutingdownMachine",!1),n.trigger("onMachineShutdown"),t&&t(e)})},destroyMachine:function(e,t){var n=this,r=this.getMachine(e);r.waitFor("terminated"),r.lockOn("pending"),this.set("destroyingMachine",!0),r.set("beingDestroyed",!0),Mist.ajax.POST("/backends/"+this.backend.id+"/machines/"+e,{action:"destroy"}).success(function(){}).error(function(){r.restoreState(),Mist.notificationController.notify("Failed to destroy machine")}).complete(function(e){n.set("destroyingMachine",!1),r.set("beingDestroyed",!1),n.trigger("onMachineDestroy"),t&&t(e)})},rebootMachine:function(e,t){var n=this,r=this.getMachine(e);r.waitFor("running"),r.lockOn("rebooting"),this.set("rebootingMachine",!0),Mist.ajax.POST("/backends/"+this.backend.id+"/machines/"+e,{action:"reboot"}).success(function(){}).error(function(){r.restoreState(),Mist.notificationController.notify("Failed to reboot machine")}).complete(function(e){n.set("rebootingMachine",!1),n.trigger("onMachineReboot"),t&&t(e)})},startMachine:function(e,t){var n=this,r=this.getMachine(e);r.waitFor("running"),r.lockOn("pending"),this.set("startingMachine",!0),Mist.ajax.POST("/backends/"+this.backend.id+"/machines/"+e,{action:"start"}).success(function(){}).error(function(){r.restoreState(),Mist.notificationController.notify("Failed to start machine")}).complete(function(e){n.set("startingMachine",!1),n.trigger("onMachineStart"),t&&t(e)})},getMachine:function(e){return this.content.findBy("id",e)},machineExists:function(e){return!!this.getMachine(e)},_updateContent:function(t){var n=this;Ember.run(function(){var r=n.content.filterBy("id",-1);r.forEach(function(e){var n=t.findBy("name",e.name);if(n)for(var r in n)e.set(r,n[r])}),n.content.forEach(function(e){t.findBy("id",e.id)||e.id!=-1&&n.content.removeObject(e)}),t.forEach(function(t){if(n.machineExists(t.id)){var r=n.getMachine(t.id),i=r.state;for(var s in t){if(s=="private_ips")continue;if(s=="pubic_ips")continue;r.set(s,t[s])}}else t.backend=n.backend,n.content.pushObject(e.create(t))}),n._updateMonitoredMachines(),n.trigger("onMachineListChange")})},_createMachine:function(t,n,r){Ember.run(this,function(){t=e.create(t),t.state=="stopped"&&t.set("state","pending"),this.content.addObject(t),this.content.removeObject(r),n&&n.id&&Mist.keysController._associateKey(n.id,t),this.trigger("onMachineListChange")})},_updateSelectedMachines:function(){Ember.run(this,function(){var e=[];this.content.forEach(function(t){t.selected&&e.push(t)}),this.set("selectedMachines",e),this.trigger("onSelectedMachinesChange")})},_updateMonitoredMachines:function(){forIn(this,Mist.monitored_machines_,function(e,t){var n=this.getMachine(e.machine_id);if(!n)return;n.set("hasMonitoring",!0),forIn(e.installation_status,function(e,t){n.installationStatus.set(t,e)}),Mist.rulesController.forEach(function(e){if(e.machine.id)return;n.equals([e.backend,e.machine])&&e.set("machine",n)}),Mist.metricsController.customMetrics.forEach(function(e){e.machines.forEach(function(t,r){n.equals(t)&&(e.machines[r]=n,Mist.metricsController.trigger("onMetricListChange"))})})})},selectedMachinesObserver:function(){Ember.run.once(this,"_updateSelectedMachines")}.observes("content.@each.selected")})}),define("app/controllers/base_array",["ember"],function(){return Ember.ArrayController.extend(Ember.Evented,{loading:!0,passOnProperties:[],selectedObjects:function(){return this.filterBy("selected",!0)}.property("@each.selected"),setContent:function(e){e=e?e:[],this._passOnProperties(e),this._updateContent(e),this.set("loading",!1)},getObject:function(e){return this.findBy("id",e)},objectExists:function(e){return!!this.getObject(e)},_passOnProperties:function(e){this.get("passOnProperties").forEach(function(t){e.setEach(t,this.get(t))},this)},_updateContent:function(e){Ember.run(this,function(){this.forEach(function(t){e.findBy("id",t.id)||this._deleteObject(t)},this),e.forEach(function(e){this.objectExists(e.id)?this._updateObject(e):this._addObject(e)},this),this.trigger("onChange",{objects:this})})},_addObject:function(e){Ember.run(this,function(){if(!this.objectExists(e.id)){var t=this.get("model").create(e);this.pushObject(t),this.trigger("onAdd",{object:t})}})},_deleteObject:function(e){Ember.run(this,function(){this.removeObject(e),this.trigger("onDelete",{object:e})})},_updateObject:function(e){Ember.run(this,function(){this.getObject(e.id).update(e),this.trigger("onUpdate",{object:e})})},selectedObserver:function(){Ember.run.once(this,function(){this.trigger("onSelectedChange",{objects:this.get("selectedObjects")})})}.observes("@each.selected")})}),define("app/models/base",["ember"],function(){return Ember.Object.extend(Ember.Evented,{id:null,name:null,selected:!1,convertProperties:{},processProperties:{},load:function(){this.update(this)}.on("init"),update:function(e){Ember.run(this,function(){forIn(this,e,function(e,t){this.set(t,e)}),this._convertProperties(),this._processProperties()})},_convertProperties:function(){var e=this.get("convertProperties"),t=this.get("processProperties");forIn(this,e,function(e,n){var r=this.get(n);e in t&&(r=t[e].call(this,r)),this.set(e,r),this.set(n,undefined),delete this[n]})},_processProperties:function(){var e=this.get("processProperties");forIn(this,e,function(e,t){this.set(t,e.call(this,this.get(t)))})}})}),define("app/models/image",["app/models/base"],function(e){return e.extend({star:null,extra:null,toggle:function(e){this.backend.toggleImageStar(this,e)},className:function(){return"image-"+this.backend.images.getImageOS(this.get("id"))}.property("id"),isMist:function(){return this.get("name").indexOf("mist")>-1||this.get("id").indexOf("mist")>-1}.property("name","id"),isDocker:function(){return this.get("backend").get("isDocker")}.property("backend")})}),define("app/controllers/images",["app/controllers/base_array","app/models/image"],function(e,t){return e.extend({model:t,passOnProperties:["backend"],hasStarred:function(){return!!this.findBy("star",!0)}.property("@each.star"),searchImages:function(e,n){var r=this;Mist.ajax.POST("/backends/"+this.backend.id+"/images",{search_term:e}).error(function(){Mist.notificationController.notify("Failed to search images on "+r.backend.title)}).complete(function(e,i){var s=[];e&&i.forEach(function(e){e.backend=r.backend,s.push(t.create(e))}),n&&n(e,s)})},toggleImageStar:function(e,t){var n=this;Mist.ajax.POST("/backends/"+this.backend.id+"/images/"+e.id,{}).success(function(t){n.objectExists(e.id)||n._addObject(e),n._toggleImageStar(e,t)}).error(function(){Mist.notificationController.notify("Failed to (un)star image")}).complete(function(e,n){t&&t(e,n)})},getImageOS:function(e){var t="generic",n=this.getObject(e);if(!n)var r=e;else var r=n.name;return OS_MAP.some(function(e){return e[0].some(function(n){if(r.toLowerCase().indexOf(n)>-1)return t=e[1],!0})}),t},_toggleImageStar:function(e,t){Ember.run(this,function(){e.set("star",t),this.trigger("onStarToggle",{object:e,star:t})})}})}),define("app/models/size",["app/models/base"],function(e){return e.extend({ram:null,disk:null,price:null,driver:null,bandwidth:null})}),define("app/controllers/sizes",["app/controllers/base_array","app/models/size"],function(e,t){return e.extend({model:t})}),define("app/models/location",["app/models/base"],function(e){return e.extend({country:null,processProperties:{name:function(e){return e||"Default"}}})}),define("app/controllers/locations",["app/controllers/base_array","app/models/location"],function(e,t){return e.extend({model:t})}),define("app/models/ip_address",["app/models/base"],function(e){return e.extend({server:null,reserved:null,load:function(e){this.update(this)}.on("init"),reserve:function(e){this.get("network").get("backend").get("networks").reserveIP({callback:e.callback,reserve:e.reserve,network:this.get("network"),ip:this})},update:function(e){e.server?e.server=Ember.Object.create(e.server):e.server=Ember.Object.create({name:null}),this._super(e)}})}),define("app/controllers/ip_addresses",["app/controllers/base_array","app/models/ip_address"],function(e,t){return e.extend({model:t,passOnProperties:["network"]})}),define("app/models/subnet",["app/models/base","app/controllers/ip_addresses"],function(e,t){return e.extend({network:null,ipAddresses:null,load:function(e){this.set("ipAddresses",t.create({network:this.get("network")})),this.update(this)}.on("init"),update:function(e){e.ipaddress_list_status&&(e.ipaddress_list_status.forEach(function(e){e.id=e.ipaddress}),this.get("ipAddresses").setContent(e.ipaddress_list_status)),this._super(e)}})}),define("app/controllers/subnets",["app/controllers/base_array","app/models/subnet"],function(e,t){return e.extend({model:t,passOnProperties:["network"]})}),define("app/models/network",["app/models/base","app/controllers/ip_addresses","app/controllers/subnets"],function(e,t,n){return e.extend({status:null,subnets:null,backend:null,ipAddresses:null,load:function(){var e=this.get("subnets");this.setProperties({subnets:n.create({network:this}),ipAddresses:t.create({network:this})}),this._updateSubnets(e)}.on("init"),update:function(e){var t=Ember.Object.create(e);t.subnets&&(this._updateSubnets(t.subnets),delete t.subnets),this._super(t)},_updateSubnets:function(e){this.get("subnets").setContent(e)}})}),define("app/controllers/networks",["app/controllers/base_array","app/models/network"],function(e,t){return e.extend(Ember.Evented,{backend:null,model:t,passOnProperties:["backend"],associateIP:function(e){var t;e.machine.backend.provider=="nephoscale"?t=e.machine.extra.id:t=e.machine.id;var n="/backends/"+this.backend.id+"/networks/"+e.network.id,r=this;r.set("associatingIP",!0),e.ip.set("isAssociating",!0),Mist.ajax.POST(n,{machine:t,ip:e.ip.ipaddress}).error(function(){Mist.notificationController.notify("Failed to associate ip "+e.ip.ipaddress)}).complete(function(t,n){r.set("associatingIP",!1),e.ip.set("isAssociating",!1),e.callback&&e.callback(t,n)})},reserveIP:function(e){var t="/backends/"+this.backend.id+"/networks/"+e.network.id,n=this;n.set("reservingIP",!0),e.ip.set("isTogglingReserve",!0),Mist.ajax.POST(t,{ip:e.ip.ipaddress,assign:e.reserve}).error(function(){Mist.notificationController.notify("Failed to reserve ip "+e.ip.ipaddress)}).complete(function(t,r){n.set("reservingIP",!1),e.ip.set("isTogglingReserve",!1),e.callback&&e.callback(t,r)})},deleteNetwork:function(e,t){var n=this;n.set("deletingNetwork",!0);var r="/backends/"+this.backend.id+"/networks/"+e;Mist.ajax.DELETE(r).success(function(){n._deleteObject(n.getObject(e))}).error(function(e){Mist.notificationController.notify(e)}).complete(function(e,r){n.set("deletingNetwork",!1),t&&t(e,r)})}})}),define("app/models/backend",["app/controllers/machines","app/controllers/images","app/controllers/sizes","app/controllers/locations","app/controllers/networks","ember"],function(e,t,n,r,i){return Ember.Object.extend(Ember.Evented,{id:null,host:null,state:null,title:null,apikey:null,enabled:null,provider:null,poll_interval:null,create_pending:null,selectedMachines:[],selectedNetworks:[],sizes:null,images:null,machines:null,locations:null,networks:null,sizeCount:0,imageCount:0,machineCount:0,networkCount:0,locationCoount:0,loadingSizes:null,loadingImages:null,loadingMachines:null,loadingLocations:null,loadingNetworks:null,isOpenStack:function(){return this.provider=="openstack"}.property("provider"),isNephoscale:function(){return this.provider=="nephoscale"}.property("provider"),hasNetworks:function(){return["openstack","nephoscale","azure","vcloud","ec2","gce","indonesian_vcloud"].indexOf(this.provider)>-1}.property("provider"),requiresNetworkOnCreation:function(){return["openstack","vcloud","indonesian_vcloud"].indexOf(this.provider)>-1}.property("provider"),isLibvirt:function(){return this.get("provider")=="libvirt"}.property("provider"),isDocker:function(){return this.provider=="docker"}.property("provider"),isBareMetal:function(){return this.provider=="bare_metal"}.property("provider"),canCreateMachine:function(){return this.enabled&&["indonesian_vcloud","bare_metal","libvirt","vsphere"].indexOf(this.provider)==-1}.property("provider","enabled"),className:function(){return"provider-"+this.getSimpleProvider()}.property("provider"),load:function(){Ember.run(this,function(){this.sizes=n.create({backend:this,content:[]}),this.images=t.create({backend:this,content:[]}),this.machines=e.create({backend:this,content:[]}),this.locations=r.create({backend:this,content:[]}),this.networks=i.create({backend:this,content:[]}),this.sizes.on("onSizeListChange",this,"_updateSizeCount"),this.images.on("onChange",this,"_updateImageCount"),this.machines.on("onMachineListChange",this,"_updateMachineCount"),this.locations.on("onLocationListChange",this,"_updateLocationCount"),this.networks.on("onChange",this,"_updateNetworkCount"),this.machines.on("onSelectedMachinesChange",this,"_updateSelectedMachines"),this.networks.on("onSelectedChange",this,"_updateSelectedNetworks"),this.sizes.addObserver("loading",this,function(){Ember.run.once(this,"loadingSizesObserver")}),this.images.addObserver("loading",this,function(){Ember.run.once(this,"loadingImagesObserver")}),this.machines.addObserver("loading",this,function(){Ember.run.once(this,"loadingMachinesObserver")}),this.locations.addObserver("loading",this,function(){Ember.run.once(this,"loadingLocationsObserver")}),this.networks.addObserver("loading",this,function(){Ember.run.once(this,"loadingNetowrksObserver")})})}.on("init"),getMachine:function(e){return this.machines.getMachine(e)},getNetwork:function(e){return this.networks.getObject(e)},getMonitoredMachines:function(){return this.machines.getMonitoredMachines()},shutdownMachine:function(e,t){this.machines.shutdownMachine(e,t)},destroyMachine:function(e,t){this.machines.destroyMachine(e,t)},rebootMachine:function(e,t){this.machines.rebootMachine(e,t)},startMachine:function(e,t){this.machines.startMachine(e,t)},renameMachine:function(e,t){this.machines.renameMachine(e,t)},searchImages:function(e,t){this.images.searchImages(e,t)},toggleImageStar:function(e,t){this.images.toggleImageStar(e,t)},getSimpleProvider:function(){return this.provider.indexOf("ec2")==0?"ec2":this.provider.indexOf("hpcloud")==0?"hpcloud":this.provider.indexOf("openstack")==0?"openstack":this.provider.indexOf("rackspace")==0?"rackspace":this.provider.indexOf("bare_metal")==0?"baremetal":this.provider.indexOf("indonesian_vcloud")==0?"indonesian":this.provider},_updateSizeCount:function(){Ember.run(this,function(){this.set("sizeCount",this.sizes.content.length),this.trigger("onSizeListChange")})},_updateImageCount:function(){Ember.run(this,function(){this.set("imageCount",this.get("images").get("length")),this.trigger("onImagesChange")})},_updateMachineCount:function(){Ember.run(this,function(){this.set("machineCount",this.machines.content.length),this.trigger("onMachineListChange"),Mist.backendsController.trigger("onMachineListChange")})},_updateLocationCount:function(){Ember.run(this,function(){this.set("locationCount",this.locations.content.length),this.trigger("onLocationListChange")})},_updateNetworkCount:function(){Ember.run(this,function(){this.set("networkCount",this.networks.content.length),this.trigger("onNetworkListChange")})},_updateSelectedMachines:function(){Ember.run(this,function(){this.set("selectedMachines",this.machines.selectedMachines),this.trigger("onSelectedMachinesChange")})},_updateSelectedNetworks:function(){Ember.run(this,function(){this.set("selectedNetworks",this.networks.get("selectedObjects")),this.trigger("onSelectedNetworksChange")})},_updateState:function(){this.enabled?this.loadingMachines||this.loadingImages||this.loadingSizes||this.loadingLocations?this.set("state","waiting"):this.set("state","online"):this.set("state","offline")},enabledObserver:function(){Ember.run.once(this,"_toggle")}.observes("enabled"),loadingSizesObserver:function(){this.set("loadingSizes",this.sizes.loading)},loadingImagesObserver:function(){this.set("loadingImages",this.images.loading)},loadingMachinesObserver:function(){this.set("loadingMachines",this.machines.loading)},loadingLocationsObserver:function(){this.set("loadingLocations",this.locations.loading)},loadingNetworksObserver:function(){this.set("loadingNeworks",this.networks.loading)},stateObserver:function(){Ember.run.once(this,"_updateState")}.observes("loadingMachines","loadingImages","loadingSizes","loadingLocations","enabled")})}),define("app/controllers/backend_add",["app/models/backend"],function(e){return Ember.Object.extend({callback:null,provider:null,open:function(e){this._clear(),this.view.clear(),this.view.open(),this.set("callback",e)},close:function(){this._clear(),this.view.close(),this.view.clear()},add:function(){var e=this.get("provider"),t=getProviderFields(e).rejectBy("name",undefined),n={title:e.title,provider:e.provider};t.forEach(function(e){n[e.name]=e.value});var r=this;Mist.backendsController.addBackend({payload:n,callback:function(e,t){Ember.run.later(function(){n.monitoring===!0&&r._showMonitoringPopup(t,n)},200),r._giveCallback(e,t),e&&r.close()}})},_showMonitoringPopup:function(e,t){function n(e){Mist.dialogController.open({type:DIALOG_TYPES.OK,head:"Enable monitoring",body:e.body})}t.windows?n({body:[{paragraph:"Run this command on your server's power shell to install the monitoring agent:"},{command:e.monitoring.windows_command}]}):t.provider=="coreos"?n({body:[{paragraph:"Run this command on your server's terminal to install the monitoring agent:"},{command:e.monitoring.coreos_command}]}):n({body:[{paragraph:"Run this command on your server's terminal to install the monitoring agent:"},{command:e.monitoring.unix_command}]})},_clear:function(){this.setProperties({callback:null,provider:null})},_giveCallback:function(e,t){this.callback&&this.callback(e,t)}})}),define("app/controllers/backend_edit",["ember"],function(){return Ember.Object.extend({backend:null,newTitle:null,newState:null,renameLock:null,open:function(e){this._clear(),this.setProperties({backend:e,newTitle:e.title,newState:e.enabled}),this.view.open()},close:function(){this._clear(),this.view.close()},rename:function(){if(this.newTitle==this.backend.title)return;if(this.newTitle=="")return;Mist.backendsController.renameBackend({backend:this.backend,newTitle:this.newTitle,callback:this._rename})},toggle:function(){if(this.newState==this.backend.enabled)return;Mist.backendsController.toggleBackend({backend:this.backend,newState:this.newState,callback:this._toggle})},"delete":function(){Mist.backendsController.deleteBackend({backend:this.backend,callback:this._delete})},_clear:function(){this.setProperties({backend:{},newTitle:null,newState:null})},_rename:function(){var e=Mist.backendEditController;if(!e.backend)return;e.set("newTitle",e.backend.title)},_toggle:function(){var e=Mist.backendEditController;if(!e.backend)return;e.set("newState",e.backend.enabled)},_delete:function(e){var t=Mist.backendEditController;e&&t.close()},stateObserver:function(){Ember.run.once(this,"_toggle")}.observes("backend.enabled"),newStateObserver:function(){Ember.run.once(this,"toggle")}.observes("newState"),titleObserver:function(){Ember.run.once(this,"_rename")}.observes("backend.title"),newTitleObserver:function(){function t(){e.rename()}clearTimeout(this.renameLock),this.renameLock=setTimeout(t,1e3);var e=this}.observes("newTitle")})}),define("app/controllers/backends",["app/models/backend","ember"],function(e){return Ember.ArrayController.extend(Ember.Evented,{content:[],imageCount:0,machineCount:0,networkCount:0,selectedMachines:[],selectedNetworks:[],machineRequest:!1,networkRequest:!1,addingBackend:!1,deletingBackend:!1,togglingBackend:!1,checkedMonitoring:!1,checkingMonitoring:!1,loading:!0,loadingImages:!1,loadingMachines:!1,hasOpenStack:function(){return!!this.content.filterBy("enabled",!0).findBy("isOpenStack",!0)}.property("content.@each.isOpenStack","content.@each.enabled"),hasNetworks:function(){return!!this.content.findBy("hasNetworks",!0)}.property("content.@each.hasNetworks"),load:function(e){this._updateContent(e),this.set("loading",!1)},addBackend:function(e){var t=Mist.keysController.keyExists(e.payload.key)?e.payload.key:null,n=this;this.set("addingBackend",!0),Mist.ajax.POST("/backends",e.payload).success(function(e){n._addBackend(e,t)}).error(function(e){Mist.notificationController.notify("Failed to add backend: "+e)}).complete(function(t,r){n.set("addingBackend",!1),e.callback&&e.callback(t,r)})},renameBackend:function(e){var t=this;this.set("renamingBackend",!0),Mist.ajax.PUT("/backends/"+e.backend.id,{new_name:e.newTitle}).success(function(){t._renameBackend(e.backend,e.newTitle)}).error(function(){Mist.notificationController.notify("Failed to rename backend")}).complete(function(n){t.set("renamingBackend",!1),e.callback&&e.callback(n)})},deleteBackend:function(e){var t=this;this.set("deletingBackend",!0),Mist.ajax.DELETE("/backends/"+e.backend.id,{}).success(function(){t._deleteBackend(e.backend)}).error(function(){Mist.notificationController.notify("Failed to delete backend")}).complete(function(n){t.set("deletingBackend",!1),e.callback&&e.callback(n)})},toggleBackend:function(e){var t=this;this.set("togglingBackend",!0),Mist.ajax.POST("/backends/"+e.backend.id,{new_state:e.newState.toString()}).success(function(){t._toggleBackend(e.backend,e.newState)}).error(function(){Mist.notificationController.notify("Failed to change backend's state")}).complete(function(n){t.set("togglingBackend",!1),e.callback&&e.callback(n)})},probeMachine:function(e,t,n){if(!e.id||e.id==-1)return;if(!e.state=="running")return;var r=e.getHost();if(!r)return;var i=Mist.keysController.getKey(t);i?(e.set("probing",t),i.set("probing",e)):e.set("probing",!0);var s=this,o=null;Mist.ajax.POST("/backends/"+e.backend.id+"/machines/"+e.id+"/probe",{host:r,key:t}).success(function(t){e.probeSuccess(t)}).error(function(t){if(!e.backend||!e.backend.enabled)return;i&&Mist.notificationController.notify(t)}).complete(function(t,r){if(!e.backend||!e.backend.enabled)return;i&&i.set("probing",!1),e.set("probing",!1),s.trigger("onMachineProbe"),n&&n(!!r.uptime,r)})},updateMachineCount:function(){var e=0,t=this.content,n=this.content.length;for(var r=0;r<n;++r)e+=t[r].machines.content.length;this.set("machineCount",e),this.trigger("updateMachines")}.observes("content.length"),updateImageCount:function(){var e=0;this.content.forEach(function(t){e+=t.images.content.length}),this.set("imageCount",e)}.observes("content.length"),providerList:function(){return SUPPORTED_PROVIDERS.map(function(e){return e.className="provider-",e.provider=="bare_metal"?e.className+="baremetal":e.provider=="indonesian_vcloud"?e.className+="indonesian":e.className+=e.provider,e}).sort(function(e,t){return e.provider=="bare_metal"?1:t.provider=="bare_metal"?-1:e.title>t.title?1:e.title<t.title?-1:0})}.property("providerList"),getRequestedMachine:function(){if(this.machineRequest)return this.getMachine(this.machineRequest)},getRequestedNetwork:function(){if(this.networkRequest)return this.getNetwork(this.networkRequest)},getBackend:function(e){return this.content.findBy("id",e)},getMachine:function(e,t){if(t){var n=this.getBackend(t);return n?n.getMachine(e):null}var r=null;return this.content.some(function(t){return r=t.getMachine(e)}),r},getNetwork:function(e,t){if(t){var n=this.getBackend(t);return n?n.getNetwork(e):null}var r=null;return this.content.some(function(t){return r=t.getNetwork(e)}),r},machineExists:function(e,t){return!!this.getMachine(e,t)},backendExists:function(e){return!!this.getBackend(e)},networkExists:function(e,t){return!!this.getNetwork(e,t)},_updateContent:function(e){Ember.run(this,function(){this.content.forEach(function(t){e.findBy("id",t.id)||this.content.removeObject(t)},this),e.forEach(function(e){var t=this.getBackend(e.id);t?forIn(e,function(e,n){t.set(n,e)}):this._addBackend(e)},this),this.trigger("onBackendListChange")})},_addBackend:function(t,n){Ember.run(this,function(){if(this.backendExists(t.id))return;var r=e.create(t);this.content.addObject(r),n&&r.one("onMachineListChange",function(){r.provider=="bare_metal"&&Mist.keysController._associateKey(n,r.machines.content[0])}),this.trigger("onBackendAdd")})},_deleteBackend:function(e){Ember.run(this,function(){this.content.removeObject(e),this.trigger("onBackendDelete")})},_renameBackend:function(e,t){Ember.run(this,function(){e.set("title",t),this.trigger("onBackendRename")})},_toggleBackend:function(e,t){Ember.run(this,function(){e.set("enabled",t),this.trigger("onBackendToggle")})},_updateImageCount:function(){Ember.run(this,function(){var e=0;this.content.forEach(function(t){t.enabled&&(e+=t.get("imageCount"))}),this.set("imageCount",e),this.trigger("onImagesChange")})},_updateMachineCount:function(){Ember.run(this,function(){var e=0;this.content.forEach(function(t){t.enabled&&(e+=t.machineCount)}),this.set("machineCount",e),this.trigger("onMachineListChange")})},_updateNetworkCount:function(){Ember.run(this,function(){var e=0;this.content.forEach(function(t){t.enabled&&(e+=t.networkCount)}),this.set("networkCount",e),this.trigger("onNetworkListChange")})},_updateLoadingImages:function(){this.set("loadingImages",!!this.content.findBy("loadingImages",!0))},_updateLoadingMachines:function(){this.set("loadingMachines",!!this.content.findBy("loadingMachines",!0))},_updateLoadingNetworks:function(){this.set("loadingNetworks",!!this.content.findBy("loadingNetworks",!0))},_updateSelectedMachines:function(){Ember.run(this,function(){var e=[];this.content.forEach(function(t){e=e.concat(t.selectedMachines)}),this.set("selectedMachines",e),this.trigger("onSelectedMachinesChange")})},_updateSelectedNetworks:function(){Ember.run(this,function(){var e=[];this.content.forEach(function(t){e=e.concat(t.selectedNetworks)}),this.set("selectedNetworks",e),this.trigger("onSelectedNetworksChange")})},imageCountObserver:function(){Ember.run.once(this,"_updateImageCount")}.observes("content.@each.imageCount"),mahcineCountObserver:function(){Ember.run.once(this,"_updateMachineCount")}.observes("content.@each.machineCount"),networkCountObserver:function(){Ember.run.once(this,"_updateNetworkCount")}.observes("content.@each.networkCount"),loadingImagesObserver:function(){Ember.run.once(this,"_updateLoadingImages")}.observes("content.@each.loadingImages"),loadingMachinesObserver:function(){Ember.run.once(this,"_updateLoadingMachines")}.observes("content.@each.loadingMachines"),loadingNetworksObserver:function(){Ember.run.once(this,"_updateLoadingNetworks")}.observes("content.@each.loadingNetworks"),selectedMachinesObserver:function(){Ember.run.once(this,"_updateSelectedMachines")}.observes("content.@each.selectedMachines"),selectedNetworksObserver:function(){Ember.run.once(this,"_updateSelectedNetworks")}.observes("content.@each.selectedNetworks")})}),define("app/controllers/cookies",["ember"],function(){function n(e){try{return localStorage.getItem(e)}catch(t){return{ssm:{}}}}function r(e,t,r){try{localStorage.setItem(e,t)}catch(i){}return n(e)}function i(e){return e.id+"_"+e.backend.id}function s(){function e(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}e("mist"),e("mistio-monitoring")}var e="mist",t=60;return Ember.Object.extend({cookie:null,load:function(){var t=n(e);t||(t=this._createFreshCookie());try{this.set("cookie",JSON.parse(t))}catch(r){this._createFreshCookie()}s()}.on("init"),save:function(){this._save()},getSingleMachineEntry:function(e){return this.cookie.smm[i(e)]||this._createSingleMachineEntry(e)},setSingleMachineEntry:function(e,t){this.cookie.smm[i(e)]=t,this._save()},getSingleMachineGraphEntry:function(e,t){return this.getSingleMachineEntry(e).graphs[t.id]||this._createSingleMachineGraphEntry(e,t)},setSingleMachineGraphEntry:function(e,t,n){this.cookie.smm[i(e)].graphs[t.id]=n,this._save()},_clear:function(){r(e,"",0)},_save:function(){return r(e,JSON.stringify(this.cookie),t)},_createFreshCookie:function(){return this.set("cookie",{smm:{}}),this._save()},_createSingleMachineEntry:function(e){var t=i(e);return this.cookie.smm[t]={timeWindow:"minutes",graphs:{}},this._save(),this.cookie.smm[t]},_createSingleMachineGraphEntry:function(e,t){info("creating new graph entry");var n=i(e);return this.cookie.smm[n].graphs[t.id]={index:t.index||0,hidden:t.view?grpah.view.isHidden:!1},this._save(),this.cookie.smm[n].graphs[t.id]}})}),define("app/models/datapoint",["ember"],function(){return Ember.Object.extend({time:null,value:null,init:function(){this._super(),this.time!=null&&this.set("time",new Date(this.time)),this.time==null&&this.value==null&&this.setProperties({time:new Date(this[1]*1e3),value:this[0]}),delete this[0],delete this[1]}})}),define("app/models/datasource",["app/models/datapoint","ember"],function(e){return Ember.Object.extend({id:null,metric:null,machine:null,datapoints:null,init:function(){this._super();var e="dt-"+this.machine.id+this.metric.id;e=e.replace(/[^\w]/g,"_"),this.set("id",e),this.datapoints?this.preFill():this.clear()},clear:function(){this.set("datapoints",[])},preFill:function(){var t=[],n=Mist.graphsController.config.measurementStep,r=this.datapoints[0].time;for(var i=0;i<DISPLAYED_DATAPOINTS-this.datapoints.length;i++)this.datapoints.unshift(e.create({time:r-i*n,value:null}))},update:function(t){t.forEach(function(t){var n=e.create(t),r=this.getLastTimestamp(),i=this.datapoints.findBy("time",n.time);if(i)i.value=n.value;else if(r<n.time.getTime()){this.datapoints.push(n);while(this.datapoints.length>MAX_DATAPOINTS)this.datapoints.shift()}},this)},overwrite:function(e){this.set("datapoints",[]),this.update(e)},getLastTimestamp:function(){var e=this.datapoints.length;return e?this.datapoints[e-1].time.getTime():0},getFirstTimestamp:function(){var e=this.datapoints.length;return e?this.datapoints[e-MAX_DATAPOINTS]?this.datapoints[e-MAX_DATAPOINTS].time.getTime():0:0}})}),define("app/controllers/datasources",["app/models/datasource","ember"],function(e){return Ember.ArrayController.extend(Ember.Evented,{content:[],loading:null,addDatasource:function(e){var t=new Object({id:("dt-"+e.machine.id+e.metric.id).replace(/[^\w]/g,"_"),machine:e.machine,metric:e.metric});t.id=t.id.replace(/\.*/g,"");if(this.datasourceExists(t.id)){e.callback&&e.callback(!1,this.getDatasource(t.id));return}this._addDatasource(t),e.callback&&e.callback(!0,this.getDatasource(t.id))},getDatasource:function(e){return this.content.findBy("id",e)},datasourceExists:function(e){return!!this.getDatasource(e)},_addDatasource:function(t){Ember.run(this,function(){if(this.datasourceExists(t.id))return;this.content.addObject(e.create(t)),this.trigger("onDatasourceAdd")})}})}),define("app/controllers/dialog",["ember"],function(){return Ember.Object.extend({view:null,callback:null,options:Ember.Object.create({head:null,body:null,type:null}),open:function(e){this._clear(),this._parseArgs(e),this.view.open()},close:function(){this.view.close(),this._clear()},reject:function(){this.callback&&this.callback(!1),this.close()},confirm:function(){this.callback&&this.callback(!0),this.close()},_clear:function(){this.setProperties({type:null,callback:null}),this.options.setProperties({head:null,body:null,type:null})},_parseArgs:function(e){this.setProperties({type:e.type,callback:e.callback}),this.options.setProperties({head:e.head,body:e.body,type:e.type})}})}),define("app/controllers/file_upload",["ember"],function(){return Ember.Object.extend({file:null,title:null,label:null,callback:null,uploadingFile:null,open:function(e,t,n,r){this.clear(),this.set("title",e).set("label",t).set("file",r).set("callback",n),$("#file-upload").popup("open")},close:function(){this.clear(),$("#file-upload").popup("close")},clear:function(){this.set("file",null).set("title",null).set("label",null).set("callback",null)},confirmUpload:function(){this.callback&&this.callback(this.file),this.close()},uploadFile:function(e){var t=this,n=new FileReader;n.onloadend=function(n){var r;n.target.readyState==FileReader.DONE?(t.set("file",n.target.result),r=!0):(Mist.notificationsController.notify("Failed to upload file"),r=!1),t.set("uploadingFile",!1),e.fileInput&&resetFileInputField($(e.fileInput)),e.callback&&e.callback(r,t.file)},this.set("uploadingFile",!0),e.file&&n.readAsText(e.file,"UTF-8"),e.fileInput&&n.readAsText(e.fileInput.files[0],"UTF-8")}})}),define("app/models/stats_request",["ember"],function(){var e=0;return Ember.Object.extend({id:null,url:null,from:null,until:null,response:null,datasources:null,pendingResponse:null,load:function(){var t=this.datasources[0].machine;this.setProperties({metrics:[],id:e++,url:"/backends/"+t.backend.id+"/machines/"+t.id+"/stats"})}.on("init"),canMerge:function(e){return this.url==e.url&&this.from==e.from&&this.until==e.until?!0:!1},merge:function(e){this.datasources.pushObjects(e.datasources),this._updateMetrics()},_updateMetrics:function(){this.datasources.forEach(function(e){this.metrics.addObject(e.metric.id)},this)}})}),define("app/controllers/graphs",["app/models/stats_request","ember"],function(e){var t={minutes:10*TIME_MAP.MINUTE,hour:TIME_MAP.HOUR,day:TIME_MAP.DAY,week:TIME_MAP.WEEK,month:TIME_MAP.MONTH},n=[TIME_MAP.SECOND*10,TIME_MAP.SECOND*20,TIME_MAP.SECOND*30,TIME_MAP.MINUTE,TIME_MAP.MINTUE*2,TIME_MAP.MINTUE*5,TIME_MAP.MINUTE*10,TIME_MAP.MINTUE*20,TIME_MAP.MINUTE*30,TIME_MAP.HOUR,TIME_MAP.HOUR*2,TIME_MAP.HOUR*6,TIME_MAP.HOUR*8,TIME_MAP.HOUR*12,TIME_MAP.HOUR*24];return Ember.ArrayController.extend(Ember.Evented,{isOpen:null,content:[],resizeLock:null,pendingRequests:[],fetchingStats:null,fetchStatsArgs:{},config:Ember.Object.create({requestMethod:"Socket",timeWindow:t.minutes,measurementStep:10*TIME_MAP.SECOND,measurementOffset:60*TIME_MAP.SECOND,canModify:!0,canControl:!0,canMinimize:!0,showGraphLegend:!1,historyWidgetPosition:"top"}),init:function(){this._super(),this.stream.set("parent",this),this.history.set("parent",this),this.resolution.set("parent",this)},open:function(e){this._clear(),this.setProperties({isOpen:!0,content:e.graphs}),forIn(this,e.config,function(e,t){this.config.set(t,e)}),Ember.run.next(this,function(){this.stream.start()}),e.config.timeWindow&&this.resolution.change(e.config.timeWindow,!0)},close:function(){this.stream.stop(),this._clear()},getGraph:function(e){return this.content.findBy("id",e)},graphExists:function(e){return!!this.getGraph(e)},_clear:function(){this.setProperties({isOpen:!1,content:[]}),this.get("config").setProperties({canModify:!0,canControl:!0,canMinimize:!0,timeWindow:t.minutes,measurementStep:10*TIME_MAP.SECOND,showGraphLegend:!1,historyWidgetPosition:"top"}),this._clearPendingRequests()},_fetchStats:function(e){if(!this.get("isOpen"))return;this._clearPendingRequests(),this.setProperties({fetchingStats:!0,fetchStatsArgs:e});var t=this._generateRequests(e);t.forEach(function(e){this.pendingRequests.push(e),this.config.requestMethod=="XHR"&&this._fetchStatsFromXHR(e),this.config.requestMethod=="Socket"&&this._fetchStatsFromSocket(e)},this)},_clearPendingRequests:function(){this.set("pendingRequests",[]),this.set("fetchingStats",!1)},_generateRequests:function(t){var n=[],r=this.config.measurementOffset;return this.get("content").forEach(function(i){i.datasources.forEach(function(i){var s=e.create({from:t.from-r,until:t.until-r,datasources:[i]}),o=!1;n.some(function(e){if(e.canMerge(s))return e.merge(s),o=!0}),o||n.push(s)})}),n},_fetchStatsFromXHR:function(e){$.ajax({type:"GET",url:e.url,data:this._generatePayload(e),complete:this._handleXHRResponse})},_fetchStatsFromSocket:function(e){var t=this._generatePayload(e),n=e.datasources[0].machine;Mist.socket.emit("stats",n.backend.id,n.id,t.start,t.stop,t.step,e.id,e.metrics)},_generatePayload:function(e){var t={request_id:e.id,start:parseInt(e.from/1e3)-50,stop:parseInt(e.until/1e3)+50,step:parseInt(this.config.measurementStep/1e3),metrics:e.metrics};return DEBUG_STATS&&info("Requesting stats from: "+(new Date(t.start*1e3)).getPrettyDateTime()+" until: "+(new Date(t.stop*1e3)).getPrettyDateTime(),t),t},_handleXHRResponse:function(e){var t=Mist.graphsController;if(e.status==200){var n=e.responseJSON,r=t.pendingRequests.findBy("id",parseInt(n.request_id));r&&t._handleResponse(r,n)}else Ember.run.later(function(){t._fetchStats(t.fetchStatsArgs)},t.config.measurementStep/2)},_handleSocketResponse:function(e){var t=Mist.graphsController,n=t.pendingRequests.findBy("id",parseInt(e.request_id));n&&(e.error?(Mist.notificationController.notify(e.error),this._clearPendingRequests(),this.trigger("onFetchStatsError",e)):t._handleResponse(n,e.metrics,e)),t.trigger("onFetchStatsFromSocket",e)},_handleResponse:function(e,t,n){DEBUG_STATS&&info("Stats response from",new Date(e.from)," until ",new Date(e.until),n),e.datasources.forEach(function(n){if(!t[n.metric.id])return;var r=this._processedDatapoints(e,t[n.metric.id].datapoints);this.stream.isStreaming&&!this.stream.newTimeWindow?n.update(r):n.overwrite(r)},this);var r=this.pendingRequests.length;this.pendingRequests.removeObject(e),!this.pendingRequests.length&&r&&this._fetchStatsEnded(t)},_processedDatapoints:function(e,t){var n=[];return t.forEach(function(t){t[1]>=parseInt(e.from/1e3)&&t[1]<=parseInt(e.until/1e3)&&n.push(t)},this),n},_fetchStatsEnded:function(e){var t=this;Ember.run.next(this,function(){this.get("content").forEach(function(e){e.view.draw(t.stream.isStreaming&&t.stream.newTimeWindow)}),this.set("fetchingStats",!1),this.fetchStatsArgs.callback instanceof Function&&this.fetchStatsArgs.callback(),this.trigger("onFetchStats",e),t.stream.set("newTimeWindow",null)})},_restoreFetchStatsArgs:function(){if(!this.get("content").length)return;var e=this.get("content")[0].datasources[0];this.set("fetchStatsArgs",{from:e.getFirstTimestamp()||Date.now()-this.config.timeWindow,until:e.getLastTimestamp()||Date.now()})},resolution:Ember.Object.create({parent:null,change:function(e){var e=t[e],n=this.parent.config.timeWindow;this.parent.stream.stop(),this.parent.config.setProperties({timeWindow:e,measurementStep:e/DISPLAYED_DATAPOINTS}),this.parent.stream.set("newTimeWindow",!0),this.parent.stream.start()}}),history:Ember.Object.create({parent:null,change:function(e){this.parent._clearPendingRequests(),this.parent.stream.stop();var t=e.until-e.from,n=t/DISPLAYED_DATAPOINTS;n=this._sanitizeStep(n),this.parent.config.setProperties({timeWindow:t,measurementStep:n}),this.parent._fetchStats({from:e.from,until:e.until})},goBack:function(){this.parent._clearPendingRequests(),this.parent.stream.stop(),this.parent._fetchStats({from:this.parent.fetchStatsArgs.from-this.parent.config.timeWindow,until:this.parent.fetchStatsArgs.from})},goForward:function(){this.parent._clearPendingRequests();var e=this.parent.config.timeWindow,t=this.parent.fetchStatsArgs.until,n=t+e;(new Date(n)).isFuture()?(this.parent._fetchStats({from:Date.now()-e,until:Date.now()}),this.parent.stream.start()):this.parent._fetchStats({from:t,until:n})},_sanitizeStep:function(e){var t=0;return n.some(function(r,i){if(e<=r)return t=r;if(i==n.length-1)return t=r}),t}}),stream:Ember.Object.create({parent:null,isStreaming:null,currentSessionId:0,timeOfLastRequest:null,firstStreamingCall:null,start:function(){this.isStreaming||(this.parent._clearPendingRequests(),this.set("isStreaming",!0),this._stream(this.currentSessionId,!0))},stop:function(){this.isStreaming&&(this.parent._clearPendingRequests(),this.parent._restoreFetchStatsArgs(),this.setProperties({isStreaming:!1,firstStreamingCall:!1,currentSessionId:this.currentSessionId+1}))},_stream:function(e,t){function s(){n.set("firstStreamingCall",!1),Ember.run.later(function(){n._stream(e)},n._getNextRequestDelay())}if(!this._sessionIsAlive(e))return!1;var n=this;if(document.hidden==0){var r=Date.now(),i=t?r-this.parent.config.timeWindow:this.timeOfLastRequest;this.parent._fetchStats({from:i,until:r,callback:s}),t&&this.set("firstStreamingCall",!0),this.set("timeOfLastRequest",r)}else $(window).on("focus visibilitychange",function(){$(window).off("focus visibilitychange"),Ember.run.next(function(){n._stream(e)})})},_getNextRequestDelay:function(){return this.parent.config.measurementStep-(Date.now()-this.timeOfLastRequest)},_sessionIsAlive:function(e){return this.currentSessionId==e}})})}),define("app/controllers/image_search",["ember"],function(){return Ember.ArrayController.extend(Ember.Evented,{images:null,searchTerm:null,isSearching:null,searchResults:null,pendingSearchCancelation:null,scheduleNewSearch:function(e){var t=this;this.cancelSearch(function(){t.search(e)})},cancelSearch:function(e){this.trigger("beforeSearchCancel");if(this.isSearching){var t=this;this.set("pendingSearchCancelation",function(){t.set("pendingSearchCancelation",null),t.trigger("onSearchCancel"),e&&e()})}else e&&e()},search:function(e){if(!this.searchTerm){this.set("searchResults",[]),this.trigger("onSearchEnd");return}this.trigger("beforeSearchStart",this.searchTerm),this.set("isSearching",!0),this.set("searchResults",[]),this.trigger("onSearchStart",this.searchTerm);if(e)this.searchOnServer();else{var t=Math.ceil(this.images.length/10);this.recursiveChunkSearch(this.searchTerm.toLowerCase(),0,t)}},endSearch:function(){this.set("isSearching",!1),this.pendingSearchCancelation?this.pendingSearchCancelation():this.trigger("onSearchEnd")},recursiveChunkSearch:function(e,t,n){Ember.run.later(this,function(){var r=this.images,i=r.length;if(this.pendingSearchCancelation||t>=i){this.endSearch();return}for(var s=t,o=0;s<i&&o<n;s++,o++)if(r[s].id.toLowerCase().indexOf(e)>-1||r[s].name.toLowerCase().indexOf(e)>-1)r[s].star?this.searchResults.unshiftObject(r[s]):this.searchResults.pushObject(r[s]);this.recursiveChunkSearch(e,t+n,n)},60)},searchOnServer:function(){var e=this,t=[];Mist.backendsController.content.forEach(function(n,r){if(!n.enabled)return;if(n.get("isBareMetal"))return;t.push(r),n.searchImages(e.searchTerm,function(n,i){n&&e.searchResults.addObjects(i),t.removeObject(r),t.length||e.endSearch()})})},searchTermObserver:function(){Ember.run.once(this,"scheduleNewSearch")}.observes("searchTerm")})}),define("app/controllers/key_add",["ember"],function(){return Ember.Object.extend({view:null,callback:null,formReady:null,keyId:null,keyPrivate:null,addingKey:null,uploadingKey:null,generatingKey:null,open:function(e){this._clear(),this.view.open("#add-key-btn"),this.set("callback",e)},close:function(){this._clear(),this.view.close()},add:function(){this.set("addingKey",!0),Mist.keysController.addKey({keyId:this.keyId,keyPrivate:this.keyPrivate,callback:this._add})},upload:function(){this.set("uploadingKey",!0),Mist.fileUploadController.uploadFile({fileInput:this.view.fileInput[0],callback:this._upload})},generate:function(){this.set("generatingKey",!0),Mist.keysController.generateKey({callback:this._generate})},_clear:function(){this.setProperties({callback:null,keyId:null,keyPrivate:null})},_add:function(e,t){var n=Mist.keyAddController;n.set("addingKey",!1),n.callback&&n.callback(e,t),e&&n.close()},_upload:function(e,t){var n=Mist.keyAddController;n.set("uploadingKey",!1),e&&n.set("keyPrivate",t)},_generate:function(e,t){var n=Mist.keyAddController;n.set("generatingKey",!1),e&&n.set("keyPrivate",t)},_sanitizeFields:function(){this.keyId&&this.set("keyId",this.keyId.replace(/\W/g,"")),this.keyPrivate&&this.set("keyPrivate",this.keyPrivate.trim())},_updateFormReady:function(){this.set("formReady",this.keyId&&this.keyPrivate)},formObserver:function(){Ember.run.once(this,"_sanitizeFields"),Ember.run.once(this,"_updateFormReady")}.observes("keyId","keyPrivate")})}),define("app/controllers/key_edit",["ember"],function(){return Ember.Object.extend({keyId:null,newKeyId:null,callback:null,formReady:!1,open:function(e,t){$("#rename-key-popup").popup("open"),this._clear(),this.set("keyId",e).set("newKeyId",e).set("callback",t)},close:function(){$("#rename-key-popup").popup("close"),this._clear()},save:function(){if(this.keyId==this.newKeyId){this._giveCallback(!0,this.newKeyId),this.close();return}if(Mist.keysController.keyExists(this.newKeyId)){Mist.notificationController.notify("Key name exists already"),this._giveCallback(!1);return}var e=this;Mist.keysController.renameKey(this.keyId,this.newKeyId,function(t,n){e._giveCallback(t,n),t&&e.close()})},_clear:function(){this.set("keyId",null).set("newKeyId",null).set("callback",null)},_updateFormReady:function(){this.newKeyId&&this.set("newKeyId",this.newKeyId.replace(/\W/g,"")),this.set("formReady",!!this.newKeyId)},_giveCallback:function(e,t){this.callback&&this.callback(e,t)},formObserver:function(){Ember.run.once(this,"_updateFormReady")}.observes("newKeyId")})}),define("app/models/key",["ember"],function(){return Ember.Object.extend({id:null,probing:null,machines:null,selected:null,isDefault:null,associate:function(e,t,n,r){Mist.keysController.associateKey(this.id,e,t,n,r)},disassociate:function(e,t){Mist.keysController.disassociateKey(this.id,e,null,t)}})}),define("app/controllers/keys",["app/models/key","ember"],function(e){return Ember.ArrayController.extend(Ember.Evented,{content:[],selectedKeys:[],loading:!1,addingKey:!1,keyRequest:!1,renamingKey:!1,associatingKey:!1,gettingPublicKey:!1,gettingPrivateKey:!1,disassociatingKey:!1,settingDefaultKey:!1,init:function(){this._super(),this.set("content",[]),this.set("loading",!0)},load:function(e){this._updateContent(e),this.set("loading",!1)},addKey:function(e){var t=this;this.set("addingKey",!0),Mist.ajax.PUT("/keys",{id:e.keyId,priv:e.keyPrivate}).success(function(e){t._addKey(e)}).error(function(e){Mist.notificationController.notify(e)}).complete(function(n,r){t.set("addingKey",!1),e.callback&&e.callback(n,t.getKey(r?r.id:null))})},renameKey:function(e,t,n){var r=this;this.set("renamingKey",!0),Mist.ajax.PUT("/keys/"+e,{new_id:t}).success(function(){r._renameKey(e,t)}).error(function(){Mist.notificationController.notify("Failed to rename key")}).complete(function(e){r.set("renamingKey",!1),n&&n(e)})},deleteKey:function(e,t){var n=this;this.set("deletingKey",!0),Mist.ajax.DELETE("/keys/"+e,{}).success(function(){n._deleteKey(e)}).error(function(){Mist.notificationController.notify("Failed to delete key")}).complete(function(e){n.set("deletingKey",!1),t&&t(e)})},setDefaultKey:function(e,t){var n=this;this.set("settingDefaultKey",!0),Mist.ajax.POST("/keys/"+e,{}).success(function(){n._setDefaultKey(e)}).error(function(){Mist.notificationController.notify("Failed to set default key")}).complete(function(e){n.set("settingDefaultKey",!1),t&&t(e)})},associateKey:function(e,t,n,r,i){var s=this;this.set("associatingKey",!0),Mist.ajax.PUT("/backends/"+t.backend.id+"/machines/"+t.id+"/keys/"+e,{host:t.getHost(),user:r,port:i}).success(function(){s._associateKey(e,t)}).error(function(){Mist.machineKeysController.openSSH_Details()}).complete(function(r){s.set("associatingKey",!1),n&&n(r,t,e)})},disassociateKey:function(e,t,n,r){var i=t.backend.id?t.backend.id:t.backend,s=this;this.set("disassociatingKey",!0),Mist.ajax.DELETE("/backends/"+i+"/machines/"+t.id+"/keys/"+e,{host:t.getHost()}).success(function(){s._disassociateKey(e,t)}).error(function(){Mist.notificationController.notify("Failed to disassociate key")}).complete(function(e){s.set("disassociatingKey",!1),r&&r(e)})},generateKey:function(e){var t=this;this.set("generatingKey",!0),Mist.ajax.POST("/keys",{}).error(function(){Mist.notificationController.notify("Failed to generate key")}).complete(function(n,r){t.set("generatingKey",!1),e.callback&&e.callback(n,r.priv)})},getPrivateKey:function(e,t){var n=this;this.set("gettingPrivateKey",!0),Mist.ajax.GET("/keys/"+e+"/private",{}).error(function(){Mist.notificationController.notify("Failed to get private key")}).complete(function(e,r){n.set("gettingPrivateKey",!1),t&&t(e,r)})},getPublicKey:function(e,t){var n=this;this.set("gettingPublicKey",!0),Mist.ajax.GET("/keys/"+e+"/public",{}).error(function(){Mist.notificationController.notify("Failed to get public key")}).complete(function(e,r){n.set("gettingPublicKey",!1),t&&t(e,r)})},getKey:function(e){return this.content.findBy("id",e)},getRequestedKey:function(){if(this.keyRequest)return this.getKey(this.keyRequest)},keyExists:function(e){return!!this.getKey(e)},getMachineKeysCount:function(e){var t=0;return this.content.forEach(function(n){n.machines.some(function(n){if(e.equals(n))return++t})}),t},_updateContent:function(e){Ember.run(this,function(){this.content.forEach(function(t){e.findBy("id",t.id)||this._deleteKey(t.id)},this),e.forEach(function(e){var t=this.getKey(e.id);t?forIn(e,function(e,n){t.set(n,e)}):this._addKey(e)},this),this.trigger("onKeyListChange")})},_addKey:function(t){Ember.run(this,function(){if(this.keyExists(t.id))return;this.content.addObject(e.create(t)),this.trigger("onKeyAdd")})},_deleteKey:function(e){Ember.run(this,function(){this.content.removeObject(this.getKey(e)),this.trigger("onKeyDelete")})},_renameKey:function(e,t){Ember.run(this,function(){this.keyExists(e)&&this.getKey(e).set("id",t),this.trigger("onKeyRename")})},_setDefaultKey:function(e){Ember.run(this,function(){this.content.forEach(function(t){t.set("isDefault",t.id==e)}),this.trigger("onDefaultKeySet")})},_associateKey:function(e,t){Ember.run(this,function(){this.getKey(e).machines.pushObject([t.backend.id,t.id]),t.setProperties({probed:!0,keysCount:this.getMachineKeysCount(t)}),this.trigger("onKeyAssociate")})},_disassociateKey:function(e,t){Ember.run(this,function(){var n=this.getKey(e);n.machines.some(function(e){if(e[1]==t.id&&(e[0]==t.backend.id||e[0]==t.backend))return n.machines.removeObject(e),!0}),t.set("keysCount",this.getMachineKeysCount(t)),t.set("probed",!!t.keysCount),this.trigger("onKeyDisassociate")})},_updateSelectedKeys:function(){Ember.run(this,function(){var e=[];this.content.forEach(function(t){t.selected&&e.push(t)}),this.set("selectedKeys",e),this.trigger("onSelectedKeysChange")})},selectedKeysObserver:function(){Ember.run.once(this,"_updateSelectedKeys")}.observes("content.@each.selected")})}),define("app/controllers/login",["ember"],function(){return Ember.Object.extend({email:null,password:null,callback:null,loggingIn:null,open:function(e){$("#login-popup").popup("open"),this._clear(),this._updateFormReady(),this.set("callback",e)},close:function(){$("#login-popup").popup("close"),this._clear()},login:function(){var e=this;this.set("loggingIn",!0),Mist.ajax.POST("/auth",{email:this.email,password:this.password}).success(function(e){Ember.run.next(function(){window.location.reload()})}).error(function(e){Mist.notificationController.notify("Authentication error: "+e)}).complete(function(t,n){e.set("loggingIn",!1),e._giveCallback(t,n)})},logout:function(){window.location="/logout"},_clear:function(){this.set("email",null),this.set("password",null),this.set("callback",null)},_updateFormReady:function(){this.set("formReady",this.email&&this.password)},_giveCallback:function(e,t){this.callback&&this.callback(e,t)},formObserver:function(){Ember.run.once(this,"_updateFormReady")}.observes("email","password")})}),define("app/models/log",["ember"],function(){return Ember.Object.extend({_id:null,email:null,time:null,action:null,backendId:null,machineId:null,mode:null,load:function(){this.set("date",new Date(this.get("time")*1e3))}.on("init")})}),define("app/controllers/logs",["app/models/log","ember"],function(e){return Ember.ArrayController.extend(Ember.Evented,{content:[],loading:null,_reload:function(){Ember.run.later(this,function(){this.load()},2e3)},_setContent:function(t){Ember.run(this,function(){var n=[];t.forEach(function(t){n.push(e.create(t))}),this.set("content",n),this.trigger("onLogListChange")})},_prependContent:function(t){Ember.run(this,function(){var n=[];t.forEach(function(t){n.push(e.create(t))}),this.get("content").unshiftObjects(n),this.trigger("onLogListChange")})},_appendContent:function(t){Ember.run(this,function(){var n=[];t.forEach(function(t){n.push(e.create(t))}),this.get("content").pushObjects(n),this.trigger("onLogListChange")})}})}),define("app/controllers/machine_add",["ember"],function(){return Ember.Object.extend({callback:null,formReady:null,newMachineKey:null,newMachineName:null,newMachineSize:null,newMachineImage:null,newMachineScript:null,newMachineLocation:null,newMachineProvider:null,newMachineMonitoring:!0,newMachineDockerCommand:null,newMachineDockerEnvironment:null,newMachineDockerPorts:null,open:function(e){$("#create-machine-panel .docker").hide(),$(".ui-page-active").animate({scrollTop:0},"slow"),$("#create-machine-panel .ui-panel-inner").animate({scrollTop:0},"slow"),$("#create-machine-panel").panel("open"),$(".ui-panel-dismiss-position-right").css("right",$(".ui-panel-position-right.ui-panel-open").width()),Ember.run.next(function(){var e=$(".ui-panel-open").height(),t=$(".ui-page-active").height();e>t&&$(".ui-page-active").height(e)}),$("#create-machine-location").addClass("ui-state-disabled"),$("#create-machine-image").addClass("ui-state-disabled"),$("#create-machine-size").addClass("ui-state-disabled"),$("#create-machine-key").addClass("ui-state-disabled"),$("#create-machine-panel .ui-collapsible").collapsible("option","collapsedIcon","arrow-d").collapsible("collapse"),this._clear(),this._updateFormReady(),this.set("callback",e)},close:function(){$("#create-machine-panel").panel("close"),this._clear()},add:function(){var e=this.newMachineProvider.title,t=this.newMachineSize.name,n=this.newMachineImage.name,r=this.newMachineName;if(e=="NephoScale"){var i=/^[0-9a-z_-]*$/;if(r.length>64||!i.test(r)){Mist.notificationController.timeNotify("Server name in NephoScale may have lower-case letters, numbers, hyphen ('-') and underscore ('_') characters, cannot exceed 64 characters, and can end with a letter or a number.",7e3);return}if(t.indexOf("CS025")>-1&&n!="Linux Ubuntu Server 10.04 LTS 64-bit"&&n!="Linux CentOS 6.2 64-bit"){Mist.notificationController.timeNotify("On CS025 size you can only create one of the two images: Linux Ubuntu Server 10.04 LTS 64-bit or Linux CentOS 6.2 64-bit",7e3);return}}if(e=="Azure"){var i=/^[0-9a-zA-Z-]*$/;if(!i.test(r)){Mist.notificationController.timeNotify("The name can contain only letters, numbers, and hyphens. The name must start with a letter and must end with a letter or a number.",7e3);return}}if(e=="Google Compute Engine"){var i=/^[0-9a-z-]*$/;if(!i.test(r)){Mist.notificationController.timeNotify("Name must be lowercase letters, numbers, and hyphens",7e3);return}}if(e=="SoftLayer"){var i=/^[0-9a-zA-Z.-]*$/;if(r.length>253||!i.test(r)){Mist.notificationController.timeNotify("Server name in Softlayer must be an alphanumeric string, that may contain period ('.') and dash ('-') special characters.",7e3);return}}var s=this;this.newMachineProvider.machines.newMachine(this.newMachineName,this.newMachineImage,this.newMachineSize,this.newMachineLocation,this.newMachineKey,this.newMachineScript,this.newMachineMonitoring,this.newMachineDockerEnvironment.trim(),this.newMachineDockerCommand,this.newMachineScriptParams,this.newMachineDockerPorts,function(e,t){s._giveCallback(e,t)}),this.close(),$("#image-list-page").length&&Mist.Router.router.transitionTo("machines")},_clear:function(){this.set("callback",null).set("newMachineName","").set("newMachineScript","").set("newMachineKey",{id:"Select Key"}).set("newMachineSize",{name:"Select Size"}).set("newMachineImage",{name:"Select Image"}).set("newMachineLocation",{name:"Select Location"}).set("newMachineProvider",{title:"Select Provider"}).set("newMachineDockerEnvironment","").set("newMachineDockerCommand","").set("newMachineScriptParams","").set("newMachineDockerPorts",""),this.view.clear()},_updateFormReady:function(){var e=!1;this.newMachineName&&this.newMachineSize.id&&this.newMachineImage.id&&this.newMachineProvider.id&&(e=!0),this.newMachineProvider.provider!="docker"&&(Mist.keysController.keyExists(this.newMachineKey.id)&&this.newMachineLocation.id?e=!0:e=!1),this.newMachineImage.id&&this.newMachineImage.get("isMist")&&(Mist.keysController.keyExists(this.newMachineKey.id)||(e=!1)),this.set("formReady",e)},_giveCallback:function(e,t){this.callback&&this.callback(e,t)},formObserver:function(){Ember.run.once(this,"_updateFormReady")}.observes("newMachineKey","newMachineName","newMachineSize","newMachineImage","newMachineScript","newMachineLocation","newMachineProvider")})}),define("app/controllers/machine_keys",["ember"],function(){return Ember.Object.extend(Ember.Evented,{user:null,port:null,view:null,machine:null,callback:null,lastAssocKey:null,load:function(){Mist.keysController.on("onKeyListChange",this,"_updateKeys"),Mist.keysController.on("onKeyAssociate",this,"_updateKeys"),Mist.keysController.on("onKeyDisassociate",this,"_updateKeys")}.on("init"),open:function(e,t){$("#machine-keys-panel").panel("open"),this._clear(),this.set("machine",e),this.set("callback",t)},openKeyList:function(e,t){this.set("machine",e),this.set("callback",t),this.view._actions.associateClicked()},openSSH_Details:function(){var e=this.user?this.user:"root",t=this.port?this.port:"22";$("#machine-userPort-popup .message").text("Cannot connect as "+e+" on port "+t),$("#machine-userPort-popup").find("#user").val(""),$("#machine-userPort-popup").find("#port").val(""),$("#machine-userPort-popup").popup("open")},closeSSH_Details:function(){this._cleanSSH_UserPortPopup(),$("#machine-userPort-popup").popup("close")},close:function(){$("#machine-keys-panel").panel("close"),this._clear()},associate:function(e,t,n,r){this.set("lastAssocKey",e),e.associate(this.machine,t,n,r)},probe:function(e,t){this.machine.probe(e.id,t)},disassociate:function(e,t){if(Mist.keysController.getMachineKeysCount(this.machine)==1){var n=this.machine;Ember.run.later(function(){Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Disassociate key",body:[{paragraph:'You are about to remove the last key associated with "'+n.name+"\" machine and you won't be able to access it anymore. "+"Are you sure you want to proceed?"}],callback:function(r){r&&e.disassociate(n,t)}})},300)}else e.disassociate(this.machine,t)},_clear:function(){Ember.run(this,function(){this.set("machine",null),this.set("callback",null),this._cleanSSH_UserPortPopup()})},_updateKeys:function(){if(!this.machine)return;var e=this;Ember.run(function(){var t=!1,n=[],r=[];Mist.keysController.content.forEach(function(i){t=!1,i.machines.some(function(r){if(e.machine.id==r[1]&&e.machine.backend.id==r[0])return n.push(i),t=!0}),t||r.push(i)}),e.set("associatedKeys",n),e.set("nonAssociatedKeys",r)})},_giveCallback:function(e,t){this.callback&&this.callback(e,t)},_cleanSSH_UserPortPopup:function(){this.set("lastAssocKey",null),this.set("user",null),this.set("port",null),$("#machine-userPort-popup").find("#user").val(""),$("#machine-userPort-popup").find("#port").val("")},machineObserver:function(){Ember.run.once(this,"_updateKeys")}.observes("machine"),portFieldObserver:function(){this.port&&this.set("port",this.port.replace(/\D/g,""))}.observes("port")})}),define("app/controllers/machine_power",["ember"],function(){return Ember.Object.extend(Ember.Evented,{machines:[],callback:null,canStart:null,canReboot:null,canDestroy:null,canShutdown:null,canRename:null,open:function(e,t){this._clear(),this.set("callback",t),this.set("machines",e instanceof Array?e:[e]),Ember.run.next(function(){$("#machine-power-popup").popup("open")})},close:function(){$("#machine-power-popup").popup("close"),this._clear()},act:function(e){$("#machine-power-popup").popup("close");var t=this.machines.toStringByProperty("name"),n=this;if(e=="rename"){var r=this.machines[0];this.close(),Ember.run.later(function(){Mist.machineEditController.open(r)},350);return}Ember.run.later(function(){Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Machine action",body:[{paragraph:"Are you sure you want to "+e+" these machines: "+t+" ?"}],callback:function(t){t&&n._act(e)}})},500)},_clear:function(){Ember.run(this,function(){this.set("machines",[]),this.set("callback",null),this.set("canStart",null),this.set("canReboot",null),this.set("canDestroy",null),this.set("canShutdown",null),this.set("canRename",null)})},_updateActions:function(){Ember.run(this,function(){this.set("canStart",!this.machines.findBy("can_start",!1)),this.set("canReboot",!this.machines.findBy("can_reboot",!1)),this.set("canDestroy",!this.machines.findBy("can_destroy",!1)),this.set("canShutdown",!this.machines.findBy("can_stop",!1)),this.machines.length==1&&this.machines[0].get("can_rename")?this.set("canRename",!0):this.set("canRename",!1),this.trigger("onActionsChange")})},_giveCallback:function(e,t){this.callback&&this.callback(e,t)},_act:function(e){this.machines.forEach(function(t){e=="shutdown"?t.shutdown():e=="destroy"?t.destroy():e=="reboot"?t.reboot():e=="start"&&t.start()},this)},machinesObserver:function(){Ember.run.once(this,"_updateActions")}.observes("machines")})}),define("app/controllers/machine_edit",["ember"],function(){return Ember.Object.extend(Ember.Evented,{machine:null,newName:"",renamingMachine:!1,open:function(e){this.setProperties({machine:e,newName:e.name}),this.view.open()},close:function(){this.view.close()},save:function(){var e=this;this.set("renamingMachine",!0),Mist.ajax.POST("/backends/"+this.machine.backend.id+"/machines/"+this.machine.id,{action:"rename",name:this.newName}).success(function(){e._renameMachine(),e.close()}).error(function(){Mist.notificationController.notify("Failed to rename machine")}).complete(function(t){e.set("renamingMachine",!1)})},_renameMachine:function(e,t){Ember.run(this,function(){this.get("machine").set("name",this.get("newName")),this.trigger("onMachineRename",{object:this.get("machine")})})}})}),define("app/models/command",["ember"],function(){return Ember.Object.extend({id:null,command:null,response:null,pendingResponse:null})}),function(){function n(){this._events=this._events||{}}function l(e){var r=this;if(!(this instanceof l))return new l(arguments[0],arguments[1],arguments[2]);n.call(this),typeof e=="number"&&(e={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),e=e||{},S(x(l.defaults),function(t){e[t]==null&&(e[t]=l.options[t],l[t]!==l.defaults[t]&&(e[t]=l[t])),r[t]=e[t]}),e.colors.length===8?e.colors=e.colors.concat(l._colors.slice(8)):e.colors.length===16?e.colors=e.colors.concat(l._colors.slice(16)):e.colors.length===10?e.colors=e.colors.slice(0,-2).concat(l._colors.slice(8,-2),e.colors.slice(-2)):e.colors.length===18&&(e.colors=e.colors.slice(0,-2).concat(l._colors.slice(16,-2),e.colors.slice(-2))),this.colors=e.colors,this.options=e,this.parent=e.body||e.parent||(t?t.getElementsByTagName("body")[0]:null),this.cols=e.cols||e.geometry[0],this.rows=e.rows||e.geometry[1],e.handler&&this.on("data",e.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!1,this.normal=null,this.prefixMode=!1,this.selectMode=!1,this.visualMode=!1,this.searchMode=!1,this.searchDown,this.entry="",this.entryPrefix="Search: ",this._real,this._selected,this._textarea,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.lines=[];var i=this.rows;while(i--)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function c(e,t,n,r){e.addEventListener(t,n,r||!1)}function h(e,t,n,r){e.removeEventListener(t,n,r||!1)}function p(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function d(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function v(e){var t=e.getElementsByTagName("body")[0],n=e.createElement("span");n.innerHTML="hello world",t.appendChild(n);var r=n.scrollWidth;n.style.fontWeight="bold";var i=n.scrollWidth;return t.removeChild(n),r!==i}function b(e,t){var n=e.length;while(n--)if(e[n]===t)return n;return-1}function w(e){return e<="＀"?!1:e>="！"&&e<="ﾾ"||e>="ￂ"&&e<="ￇ"||e>="ￊ"&&e<="ￏ"||e>="ￒ"&&e<="ￗ"||e>="ￚ"&&e<="ￜ"||e>="￠"&&e<="￦"||e>="￨"&&e<="￮"}function E(e,t,n){var r=e<<16|t<<8|n;if(E._cache[r]!=null)return E._cache[r];var i=Infinity,s=-1,o=0,u,a,f,c,h;for(;o<l.vcolors.length;o++){u=l.vcolors[o],a=u[0],f=u[1],c=u[2],h=E.distance(e,t,n,a,f,c);if(h===0){s=o;break}h<i&&(i=h,s=o)}return E._cache[r]=s}function S(e,t,n){if(e.forEach)return e.forEach(t,n);for(var r=0;r<e.length;r++)t.call(n,e[r],r,e)}function x(e){if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}var e=this,t=this.document;n.prototype.addListener=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},n.prototype.on=n.prototype.addListener,n.prototype.removeListener=function(e,t){if(!this._events[e])return;var n=this._events[e],r=n.length;while(r--)if(n[r]===t||n[r].listener===t){n.splice(r,1);return}},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(e){this._events[e]&&delete this._events[e]},n.prototype.once=function(e,t){function n(){var r=Array.prototype.slice.call(arguments);return this.removeListener(e,n),t.apply(this,r)}return n.listener=t,this.on(e,n)},n.prototype.emit=function(e){if(!this._events[e])return;var t=Array.prototype.slice.call(arguments,1),n=this._events[e],r=n.length,i=0;for(;i<r;i++)n[i].apply(this,t)},n.prototype.listeners=function(e){return this._events[e]=this._events[e]||[]};var r=0,i=1,s=2,o=3,u=4,a=5,f=6;d(l,n),l.prototype.eraseAttr=function(){return this.defAttr&-512|this.curAttr&511},l.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],l.xtermColors=["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"],l.colors=function(){function r(t,n,r){e.push("#"+i(t)+i(n)+i(r))}function i(e){return e=e.toString(16),e.length<2?"0"+e:e}var e=l.tangoColors.slice(),t=[0,95,135,175,215,255],n;n=0;for(;n<216;n++)r(t[n/36%6|0],t[n/6%6|0],t[n%6]);n=0;for(;n<24;n++)t=8+n*10,r(t,t,t);return e}(),l.colors[256]="#000000",l.colors[257]="#f0f0f0",l._colors=l.colors.slice(),l.vcolors=function(){var e=[],t=l.colors,n=0,r;for(;n<256;n++)r=parseInt(t[n].substring(1),16),e.push([r>>16&255,r>>8&255,r&255]);return e}(),l.defaults={colors:l.colors,convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!0,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,useStyle:!1},l.options={},S(x(l.defaults),function(e){l[e]=l.defaults[e],l.options[e]=l.defaults[e]}),l.focus=null,l.prototype.focus=function(){if(l.focus===this)return;l.focus&&l.focus.blur(),this.sendFocus&&this.send("[I"),this.showCursor(),l.focus=this},l.prototype.blur=function(){if(l.focus!==this)return;this.cursorState=0,this.refresh(this.y,this.y),this.sendFocus&&this.send("[O"),l.focus=null},l.prototype.initGlobal=function(){var e=this.document;l._boundDocs=l._boundDocs||[];if(~b(l._boundDocs,e))return;l._boundDocs.push(e),l.bindPaste(e),l.bindKeys(e),l.bindCopy(e),this.isIpad||this.isIphone?l.fixIpad(e):this.isAndroid&&l.fixAndroid(e),this.useStyle&&l.insertStyle(e,this.colors[256],this.colors[257]),this.fixFirefoxPaste()},l.bindPaste=function(e){var t=e.defaultView;c(t,"paste",function(e){var t=l.focus;if(!t)return;return e.clipboardData?t.send(e.clipboardData.getData("text/plain")):t.context.clipboardData&&t.send(t.context.clipboardData.getData("Text")),t.element.contentEditable="inherit",p(e)})},l.bindKeys=function(e){c(e,"keydown",function(e){if(!l.focus)return;var t=e.target||e.srcElement;if(!t)return;if(t===l.focus.element||t===l.focus.context||t===l.focus.document||t===l.focus.body||t===l._textarea||t===l.focus.parent)return l.focus.keyDown(e)},!0),c(e,"keypress",function(e){if(!l.focus)return;var t=e.target||e.srcElement;if(!t)return;if(t===l.focus.element||t===l.focus.context||t===l.focus.document||t===l.focus.body||t===l._textarea||t===l.focus.parent)return l.focus.keyPress(e)},!0),c(e,"mousedown",function(e){l.disableDesignMode instanceof Function&&l.disableDesignMode();if(!l.focus)return;var t=e.target||e.srcElement;if(!t)return;do if(t===l.focus.element)return;while(t=t.parentNode);l.focus.blur()})},l.bindCopy=function(e){var t=e.defaultView;c(t,"copy",function(e){var t=l.focus;if(!t)return;if(!t._selected)return;var n=t.getCopyTextarea(),r=t.grabText(t._selected.x1,t._selected.x2,t._selected.y1,t._selected.y2);t.emit("copy",r),n.focus(),n.textContent=r,n.value=r,n.setSelectionRange(0,r.length),g(function(){t.element.focus(),t.focus()},1)})},l.prototype.fixFirefoxPaste=function(){function n(){l.setDesignMode&&(t.designMode=l.originalDesignMode,l.setDesignMode=!1)}function r(){l.originalDesignMode=t.designMode,l.setDesignMode=!0,t.designMode="on"}var e=t.defaultView;c(t,"contextmenu",r),c(e,"blur",n),c(t,"mousedown",n,!0),c(e,"paste",n,!0)},l.fixIpad=function(e){var t=e.createElement("textarea");t.style.position="absolute",t.style.left="-32000px",t.style.top="-32000px",t.style.width="0px",t.style.height="0px",t.style.opacity="0",t.style.backgroundColor="transparent",t.style.borderStyle="none",t.style.outlineStyle="none",t.autocapitalize="none",t.autocorrect="off",t.spellcheck="false",e.getElementsByTagName("body")[0].appendChild(t),l._textarea=t,g(function(){t.focus()},1e3)},l.fixAndroid=function(e){var t=e.createElement("input");t.type="email",t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="0px",t.style.height="0px",t.style.opacity="0",t.style.backgroundColor="transparent",t.style.borderStyle="none",t.style.outlineStyle="none",t.autocapitalize="none",t.autocorrect="off",t.autocomplete="off",t.spellcheck="false",e.getElementsByTagName("body")[0].appendChild(t),l._textarea=t,l.oldValue="",g(function(){t.focus()},1e3),c(l._textarea,"keydown",function(e){if(l._textarea.value==l.oldValue)return!0;if(l._textarea.value.length<l.oldValue.length)for(var t=0;t<l.oldValue.length-l._textarea.value.length;t++)Mist.term.send("\b");else for(var t=0;t<l._textarea.value.length-l.oldValue.length;t++)Mist.term.send(l._textarea.value[l.oldValue.length+t]);l.oldValue=l._textarea.value;var n=l._textarea.createTextRange();return n.collapse(!1),n.select(),!0})},l.insertStyle=function(e,t,n){var r=e.getElementById("term-style");if(r)return;var i=e.getElementsByTagName("head")[0];if(!i)return;var r=e.createElement("style");r.id="term-style",r.innerHTML=".terminal {\n  float: left;\n  border: "+t+" solid 5px;\n"+'  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n'+"  font-size: 11px;\n"+"  color: "+n+";\n"+"  background: "+t+";\n"+"}\n"+"\n"+".terminal-cursor {\n"+"  color: "+t+";\n"+"  background: "+n+";\n"+"}\n",i.insertBefore(r,i.firstChild)},l.prototype.open=function(e){var t=this,n=0,r;this.parent=e||this.parent;if(!this.parent)throw new Error("Terminal requires a parent element.");this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMac=!!~this.context.navigator.userAgent.indexOf("Mac"),this.isIpad=!!~this.context.navigator.userAgent.indexOf("iPad"),this.isAndroid=!!~this.context.navigator.userAgent.indexOf("Android"),this.isIphone=!!~this.context.navigator.userAgent.indexOf("iPhone"),this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")),this.element=this.document.createElement("div"),this.element.className="terminal",this.element.style.outline="none",this.element.setAttribute("tabindex",0),this.element.setAttribute("spellcheck","false"),this.element.style.backgroundColor=this.colors[256],this.element.style.color=this.colors[257],this.children=[];for(;n<this.rows;n++)r=this.document.createElement("div"),this.element.appendChild(r),this.children.push(r);this.parent.appendChild(this.element),this.refresh(0,this.rows-1),this.initGlobal(),this.focus(),this.startBlink(),c(this.element,"focus",function(){t.focus(),(t.isIpad||t.isIphone||t.isAndroid)&&l._textarea.focus()}),c(this.element,"mousedown",function(){t.focus()}),c(this.element,"mousedown",function(e){var n=e.button!=null?+e.button:e.which!=null?e.which-1:null;t.isMSIE&&(n=n===1?0:n===4?1:n);if(n!==2)return;t.element.contentEditable="true",g(function(){t.element.contentEditable="inherit"},1)},!0),this.bindMouse(),l.brokenBold==null&&(l.brokenBold=v(this.document)),g(function(){t.element.focus()},100)},l.prototype.bindMouse=function(){function i(e){var t,i;t=a(e),i=f(e);if(!i)return;u(t,i);switch(e.type){case"mousedown":n=t;break;case"mouseup":n=32;break;case r:}}function s(e){var t=n,r;r=f(e);if(!r)return;t+=32,u(t,r)}function o(e,n){if(!t.utfMouse){if(n===255)return e.push(0);n>127&&(n=127),e.push(n)}else{if(n===2047)return e.push(0);n<127?e.push(n):(n>2047&&(n=2047),e.push(192|n>>6),e.push(128|n&63))}}function u(e,n){if(t.vt300Mouse){e&=3,n.x-=32,n.y-=32;var r="[24";if(e===0)r+="1";else if(e===1)r+="3";else if(e===2)r+="5";else{if(e===3)return;r+="0"}r+="~["+n.x+","+n.y+"]\r",t.send(r);return}if(t.decLocator){e&=3,n.x-=32,n.y-=32,e===0?e=2:e===1?e=4:e===2?e=6:e===3&&(e=3),t.send("["+e+";"+(e===3?4:0)+";"+n.y+";"+n.x+";"+(n.page||0)+"&w");return}if(t.urxvtMouse){n.x-=32,n.y-=32,n.x++,n.y++,t.send("["+e+";"+n.x+";"+n.y+"M");return}if(t.sgrMouse){n.x-=32,n.y-=32,t.send("[<"+((e&3)===3?e&-4:e)+";"+n.x+";"+n.y+((e&3)===3?"m":"M"));return}var r=[];o(r,e),o(r,n.x),o(r,n.y),t.send("[M"+m.fromCharCode.apply(m,r))}function a(e){var n,r,i,s,o;switch(e.type){case"mousedown":n=e.button!=null?+e.button:e.which!=null?e.which-1:null,t.isMSIE&&(n=n===1?0:n===4?1:n);break;case"mouseup":n=3;break;case"DOMMouseScroll":n=e.detail<0?64:65;break;case"mousewheel":n=e.wheelDeltaY>0?64:65}return r=e.shiftKey?4:0,i=e.metaKey?8:0,s=e.ctrlKey?16:0,o=r|i|s,t.vt200Mouse?o&=s:t.normalMouse||(o=0),n=32+(o<<2)+n,n}function f(e){var n,i,s,o,u;if(e.pageX==null)return;n=e.pageX,i=e.pageY,u=t.element;while(u&&u!==t.document.documentElement)n-=u.offsetLeft,i-=u.offsetTop,u="offsetParent"in u?u.offsetParent:u.parentNode;return s=t.element.clientWidth,o=t.element.clientHeight,n=Math.round(n/s*t.cols),i=Math.round(i/o*t.rows),n<0&&(n=0),n>t.cols&&(n=t.cols),i<0&&(i=0),i>t.rows&&(i=t.rows),n+=32,i+=32,{x:n,y:i,type:e.type===r?"mousewheel":e.type}}var e=this.element,t=this,n=32,r="onmousewheel"in this.context?"mousewheel":"DOMMouseScroll";c(e,"mousedown",function(e){if(!t.mouseEvents)return;return i(e),t.focus(),t.vt200Mouse?(i({__proto__:e,type:"mouseup"}),p(e)):(t.normalMouse&&c(t.document,"mousemove",s),t.x10Mouse||c(t.document,"mouseup",function n(e){return i(e),t.normalMouse&&h(t.document,"mousemove",s),h(t.document,"mouseup",n),p(e)}),p(e))}),c(e,r,function(e){if(!t.mouseEvents)return;if(t.x10Mouse||t.vt300Mouse||t.decLocator)return;return i(e),p(e)}),c(e,r,function(e){if(t.mouseEvents)return;if(t.applicationKeypad)return;return e.type==="DOMMouseScroll"?t.scrollDisp(e.detail<0?-5:5):t.scrollDisp(e.wheelDeltaY>0?-5:5),p(e)})},l.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},l.prototype.refresh=function(e,t){var n,r,i,s,o,u,a,f,c,h,p,d,v,m;t-e>=this.rows/2&&(m=this.element.parentNode,m&&m.removeChild(this.element)),a=this.cols,r=e,t>=this.lines.length&&(this.log("`end` is too large. Most likely a bad CSR."),t=this.lines.length-1);for(;r<=t;r++){v=r+this.ydisp,s=this.lines[v],o="",r===this.y&&this.cursorState&&(this.ydisp===this.ybase||this.selectMode)&&!this.cursorHidden?n=this.x:n=-1,c=this.defAttr,i=0;for(;i<a;i++){f=s[i][0],u=s[i][1],i===n&&(f=-1),f!==c&&(c!==this.defAttr&&(o+="</span>"),f!==this.defAttr&&(f===-1?o+='<span class="reverse-video terminal-cursor">':(o+='<span style="',h=f&511,p=f>>9&511,d=f>>18,d&1&&(l.brokenBold||(o+="font-weight:bold;"),p<8&&(p+=8)),d&2&&(o+="text-decoration:underline;"),d&4&&(d&2?(o=o.slice(0,-1),o+=" blink;"):o+="text-decoration:blink;"),d&8&&(h=f>>9&511,p=f&511,d&1&&p<8&&(p+=8)),d&16&&(o+="visibility:hidden;"),h!==256&&(o+="background-color:"+this.colors[h]+";"),p!==257&&(o+="color:"+this.colors[p]+";"),o+='">')));switch(u){case"&":o+="&amp;";break;case"<":o+="&lt;";break;case">":o+="&gt;";break;default:u<=" "?o+="&nbsp;":(w(u)&&i++,o+=u)}c=f}c!==this.defAttr&&(o+="</span>"),this.children[r].innerHTML=o}m&&m.appendChild(this.element)},l.prototype._cursorBlink=function(){if(l.focus!==this)return;this.cursorState^=1,this.refresh(this.y,this.y)},l.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},l.prototype.startBlink=function(){if(!this.cursorBlink)return;var e=this;this._blinker=function(){e._cursorBlink()},this._blink=y(this._blinker,500)},l.prototype.refreshBlink=function(){if(!this.cursorBlink)return;clearInterval(this._blink),this._blink=y(this._blinker,500)},l.prototype.scroll=function(){var e;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(-(this.ybase+this.rows)+1)),this.ydisp=this.ybase,e=this.ybase+this.rows-1,e-=this.rows-1-this.scrollBottom,e===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(e,0,this.blankLine()),this.scrollTop!==0&&(this.ybase!==0&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},l.prototype.scrollDisp=function(e){this.ydisp+=e,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),this.refresh(0,this.rows-1)},l.prototype.write=function(e){var t=e.length,n=0,c,h,p;this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.maxRange());for(;n<t;n++){p=e[n];switch(this.state){case r:switch(p){case"":this.bell();break;case"\n":case"":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"	":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=i;break;default:if(p>=" "){this.charset&&this.charset[p]&&(p=this.charset[p]),this.x>=this.cols&&(this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll())),this.lines[this.y+this.ybase][this.x]=[this.curAttr,p],this.x++,this.updateRange(this.y);if(w(p)){c=this.y+this.ybase;if(this.cols<2||this.x>=this.cols){this.lines[c][this.x-1]=[this.curAttr," "];break}this.lines[c][this.x]=[this.curAttr," "],this.x++}}}break;case i:switch(p){case"[":this.params=[],this.currentParam=0,this.state=s;break;case"]":this.params=[],this.currentParam=0,this.state=o;break;case"P":this.params=[],this.currentParam=0,this.state=a;break;case"_":this.state=f;break;case"^":this.state=f;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,l.charsets.US),this.state=r,n++;break;case"(":case")":case"*":case"+":case"-":case".":switch(p){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=u;break;case"/":this.gcharset=3,this.state=u,n--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=r;break;case"8":this.restoreCursor(),this.state=r;break;case"#":this.state=r,n++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.state=r;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.state=r;break;default:this.state=r,this.error("Unknown ESC control: %s.",p)}break;case u:switch(p){case"0":h=l.charsets.SCLD;break;case"A":h=l.charsets.UK;break;case"B":h=l.charsets.US;break;case"4":h=l.charsets.Dutch;break;case"C":case"5":h=l.charsets.Finnish;break;case"R":h=l.charsets.French;break;case"Q":h=l.charsets.FrenchCanadian;break;case"K":h=l.charsets.German;break;case"Y":h=l.charsets.Italian;break;case"E":case"6":h=l.charsets.NorwegianDanish;break;case"Z":h=l.charsets.Spanish;break;case"H":case"7":h=l.charsets.Swedish;break;case"=":h=l.charsets.Swiss;break;case"/":h=l.charsets.ISOLatin,n++;break;default:h=l.charsets.US}this.setgCharset(this.gcharset,h),this.gcharset=null,this.state=r;break;case o:if(p===""||p===""){p===""&&n++,this.params.push(this.currentParam);switch(this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:}this.params=[],this.currentParam=0,this.state=r}else this.params.length?this.currentParam+=p:p>="0"&&p<="9"?this.currentParam=this.currentParam*10+p.charCodeAt(0)-48:p===";"&&(this.params.push(this.currentParam),this.currentParam="");break;case s:if(p==="?"||p===">"||p==="!"){this.prefix=p;break}if(p>="0"&&p<="9"){this.currentParam=this.currentParam*10+p.charCodeAt(0)-48;break}if(p==="$"||p==='"'||p===" "||p==="'"){this.postfix=p;break}this.params.push(this.currentParam),this.currentParam=0;if(p===";")break;this.state=r;switch(p){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.prefix||this.charAttributes(this.params);break;case"n":this.prefix||this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",p)}this.prefix="",this.postfix="";break;case a:if(p===""||p===""){p===""&&n++;switch(this.prefix){case"":break;case"$q":var d=this.currentParam,v=!1;switch(d){case'"q':d='0"q';break;case'"p':d='61"p';break;case"r":d=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case"m":d="0m";break;default:this.error("Unknown DCS Pt: %s.",d),d=""}this.send("P"+ +v+"$r"+d+"\\");break;case"+p":break;case"+q":var d=this.currentParam,v=!1;this.send("P"+ +v+"+r"+d+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0,this.prefix="",this.state=r}else this.currentParam?this.currentParam+=p:!this.prefix&&p!=="$"&&p!=="+"?this.currentParam=p:this.prefix.length===2?this.currentParam=p:this.prefix+=p;break;case f:if(p===""||p==="")p===""&&n++,this.state=r}}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},l.prototype.writeln=function(e){this.write(e+"\r\n")},l.prototype.keyDown=function(e){var t=this,n;switch(e.keyCode){case 8:if(e.shiftKey){n="\b";break}n="";break;case 9:if(e.shiftKey){n="[Z";break}n="	";break;case 13:n="\r";break;case 27:n="";break;case 37:if(this.applicationCursor){n="OD";break}n="[D";break;case 39:if(this.applicationCursor){n="OC";break}n="[C";break;case 38:if(this.applicationCursor){n="OA";break}if(e.ctrlKey)return this.scrollDisp(-1),p(e);n="[A";break;case 40:if(this.applicationCursor){n="OB";break}if(e.ctrlKey)return this.scrollDisp(1),p(e);n="[B";break;case 46:n="[3~";break;case 45:n="[2~";break;case 36:if(this.applicationKeypad){n="OH";break}n="OH";break;case 35:if(this.applicationKeypad){n="OF";break}n="OF";break;case 33:if(e.shiftKey)return this.scrollDisp(-(this.rows-1)),p(e);n="[5~";break;case 34:if(e.shiftKey)return this.scrollDisp(this.rows-1),p(e);n="[6~";break;case 112:n="OP";break;case 113:n="OQ";break;case 114:n="OR";break;case 115:n="OS";break;case 116:n="[15~";break;case 117:n="[17~";break;case 118:n="[18~";break;case 119:n="[19~";break;case 120:n="[20~";break;case 121:n="[21~";break;case 122:n="[23~";break;case 123:n="[24~";break;default:if(e.ctrlKey)if(e.keyCode>=65&&e.keyCode<=90){if(this.screenKeys&&!this.prefixMode&&!this.selectMode&&e.keyCode===65)return this.enterPrefix(),p(e);if(this.prefixMode&&e.keyCode===86){this.leavePrefix();return}if((this.prefixMode||this.selectMode)&&e.keyCode===67){this.visualMode&&g(function(){t.leaveVisual()},1);return}n=m.fromCharCode(e.keyCode-64)}else e.keyCode===32?n=m.fromCharCode(0):e.keyCode>=51&&e.keyCode<=55?n=m.fromCharCode(e.keyCode-51+27):e.keyCode===56?n=m.fromCharCode(127):e.keyCode===219?n=m.fromCharCode(27):e.keyCode===221&&(n=m.fromCharCode(29));else if(!this.isMac&&e.altKey||this.isMac&&e.metaKey)e.keyCode>=65&&e.keyCode<=90?n=""+m.fromCharCode(e.keyCode+32):e.keyCode===192?n="`":e.keyCode>=48&&e.keyCode<=57&&(n=""+(e.keyCode-48))}return n?this.prefixMode?(this.leavePrefix(),p(e)):this.selectMode?(this.keySelect(e,n),p(e)):(this.emit("keydown",e),this.emit("key",n,e),this.showCursor(),this.handler(n),p(e)):!0},l.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},l.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},l.prototype.keyPress=function(e){var t;p(e);if(e.charCode)t=e.charCode;else if(e.which==null)t=e.keyCode;else{if(e.which===0||e.charCode===0)return!1;t=e.which}return!t||e.ctrlKey||e.altKey||e.metaKey?!1:(t=m.fromCharCode(t),this.prefixMode?(this.leavePrefix(),this.keyPrefix(e,t),!1):this.selectMode?(this.keySelect(e,t),!1):(this.emit("keypress",t,e),this.emit("key",t,e),this.showCursor(),this.handler(t),!1))},l.prototype.send=function(e){var t=this;this.queue||g(function(){t.handler(t.queue),t.queue=""},1),this.queue+=e},l.prototype.bell=function(){this.emit("bell");if(!this.visualBell)return;var e=this;this.element.style.borderColor="white",g(function(){e.element.style.borderColor=""},10),this.popOnBell&&this.focus()},l.prototype.log=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.log)return;var e=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,e)},l.prototype.error=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.error)return;var e=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,e)},l.prototype.resize=function(e,t){var n,r,i,s,o;e<1&&(e=1),t<1&&(t=1),s=this.cols;if(s<e){o=[this.defAttr," "],i=this.lines.length;while(i--)while(this.lines[i].length<e)this.lines[i].push(o)}else if(s>e){i=this.lines.length;while(i--)while(this.lines[i].length>e)this.lines[i].pop()}this.setupStops(s),this.cols=e,s=this.rows;if(s<t){r=this.element;while(s++<t)this.lines.length<t+this.ybase&&this.lines.push(this.blankLine()),this.children.length<t&&(n=this.document.createElement("div"),r.appendChild(n),this.children.push(n))}else if(s>t)while(s-->t)if(this.y<t){this.lines.length>t+this.ybase&&this.lines.pop();if(this.children.length>t){r=this.children.pop();if(!r)continue;r.parentNode.removeChild(r)}}else{this.lines.length>t+this.ybase&&this.lines.splice(0,1);if(this.children.length>t){r=this.children[0];if(!r)continue;r.parentNode.removeChild(r),this.children.splice(0,1)}this.y--}this.rows=t,this.y>=t&&(this.y=t-1),this.x>=e&&(this.x=e-1),this.scrollTop=0,this.scrollBottom=t-1,this.refresh(0,this.rows-1),this.normal=null},l.prototype.updateRange=function(e){e<this.refreshStart&&(this.refreshStart=e),e>this.refreshEnd&&(this.refreshEnd=e)},l.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},l.prototype.setupStops=function(e){e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);for(;e<this.cols;e+=8)this.tabs[e]=!0},l.prototype.prevStop=function(e){e==null&&(e=this.x);while(!this.tabs[--e]&&e>0);return e>=this.cols?this.cols-1:e<0?0:e},l.prototype.nextStop=function(e){e==null&&(e=this.x);while(!this.tabs[++e]&&e<this.cols);return e>=this.cols?this.cols-1:e<0?0:e},l.prototype.eraseRight=function(e,t){var n=this.lines[this.ybase+t],r=[this.eraseAttr()," "];for(;e<this.cols;e++)n[e]=r;this.updateRange(t)},l.prototype.eraseLeft=function(e,t){var n=this.lines[this.ybase+t],r=[this.eraseAttr()," "];e++;while(e--)n[e]=r;this.updateRange(t)},l.prototype.eraseLine=function(e){this.eraseRight(0,e)},l.prototype.blankLine=function(e){var t=e?this.eraseAttr():this.defAttr,n=[t," "],r=[],i=0;for(;i<this.cols;i++)r[i]=n;return r},l.prototype.ch=function(e){return e?[this.eraseAttr()," "]:[this.defAttr," "]},l.prototype.is=function(e){var t=this.termName;return(t+"").indexOf(e)===0},l.prototype.handler=function(e){this.emit("data",e)},l.prototype.handleTitle=function(e){this.emit("title",e)},l.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=r},l.prototype.reverseIndex=function(){var e;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),e=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-e+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=r},l.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols,l.call(this,this.options),this.refresh(0,this.rows-1)},l.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=r},l.prototype.cursorUp=function(e){var t=e[0];t<1&&(t=1),this.y-=t,this.y<0&&(this.y=0)},l.prototype.cursorDown=function(e){var t=e[0];t<1&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1)},l.prototype.cursorForward=function(e){var t=e[0];t<1&&(t=1),this.x+=t,this.x>=this.cols&&(this.x=this.cols-1)},l.prototype.cursorBackward=function(e){var t=e[0];t<1&&(t=1),this.x-=t,this.x<0&&(this.x=0)},l.prototype.cursorPos=function(e){var t,n;t=e[0]-1,e.length>=2?n=e[1]-1:n=0,t<0?t=0:t>=this.rows&&(t=this.rows-1),n<0?n=0:n>=this.cols&&(n=this.cols-1),this.x=n,this.y=t},l.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:this.eraseRight(this.x,this.y),t=this.y+1;for(;t<this.rows;t++)this.eraseLine(t);break;case 1:this.eraseLeft(this.x,this.y),t=this.y;while(t--)this.eraseLine(t);break;case 2:t=this.rows;while(t--)this.eraseLine(t);break;case 3:}},l.prototype.eraseInLine=function(e){switch(e[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},l.prototype.charAttributes=function(e){if(e.length===1&&e[0]===0){this.curAttr=this.defAttr;return}var t=e.length,n=0,r=this.curAttr>>18,i=this.curAttr>>9&511,s=this.curAttr&511,o;for(;n<t;n++)o=e[n],o>=30&&o<=37?i=o-30:o>=40&&o<=47?s=o-40:o>=90&&o<=97?(o+=8,i=o-90):o>=100&&o<=107?(o+=8,s=o-100):o===0?(r=this.defAttr>>18,i=this.defAttr>>9&511,s=this.defAttr&511):o===1?r|=1:o===4?r|=2:o===5?r|=4:o===7?r|=8:o===8?r|=16:o===22?r&=-2:o===24?r&=-3:o===25?r&=-5:o===27?r&=-9:o===28?r&=-17:o===39?i=this.defAttr>>9&511:o===49?s=this.defAttr&511:o===38?e[n+1]===2?(n+=2,i=E(e[n]&255,e[n+1]&255,e[n+2]&255),i===-1&&(i=511),n+=2):e[n+1]===5&&(n+=2,o=e[n]&255,i=o):o===48?e[n+1]===2?(n+=2,s=E(e[n]&255,e[n+1]&255,e[n+2]&255),s===-1&&(s=511),n+=2):e[n+1]===5&&(n+=2,o=e[n]&255,s=o):o===100?(i=this.defAttr>>9&511,s=this.defAttr&511):this.error("Unknown SGR attribute: %d.",o);this.curAttr=r<<18|i<<9|s},l.prototype.deviceStatus=function(e){if(!this.prefix)switch(e[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}else if(this.prefix==="?")switch(e[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:}},l.prototype.insertChars=function(e){var t,n,r,i;t=e[0],t<1&&(t=1),n=this.y+this.ybase,r=this.x,i=[this.eraseAttr()," "];while(t--&&r<this.cols)this.lines[n].splice(r++,0,i),this.lines[n].pop()},l.prototype.cursorNextLine=function(e){var t=e[0];t<1&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},l.prototype.cursorPrecedingLine=function(e){var t=e[0];t<1&&(t=1),this.y-=t,this.y<0&&(this.y=0),this.x=0},l.prototype.cursorCharAbsolute=function(e){var t=e[0];t<1&&(t=1),this.x=t-1},l.prototype.insertLines=function(e){var t,n,r;t=e[0],t<1&&(t=1),n=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r+1;while(t--)this.lines.splice(n,0,this.blankLine(!0)),this.lines.splice(r,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},l.prototype.deleteLines=function(e){var t,n,r;t=e[0],t<1&&(t=1),n=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r;while(t--)this.lines.splice(r+1,0,this.blankLine(!0)),this.lines.splice(n,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},l.prototype.deleteChars=function(e){var t,n,r;t=e[0],t<1&&(t=1),n=this.y+this.ybase,r=[this.eraseAttr()," "];while(t--)this.lines[n].splice(this.x,1),this.lines[n].push(r)},l.prototype.eraseChars=function(e){var t,n,r,i;t=e[0],t<1&&(t=1),n=this.y+this.ybase,r=this.x,i=[this.eraseAttr()," "];while(t--&&r<this.cols)this.lines[n][r++]=i},l.prototype.charPosAbsolute=function(e){var t=e[0];t<1&&(t=1),this.x=t-1,this.x>=this.cols&&(this.x=this.cols-1)},l.prototype.HPositionRelative=function(e){var t=e[0];t<1&&(t=1),this.x+=t,this.x>=this.cols&&(this.x=this.cols-1)},l.prototype.sendDeviceAttributes=function(e){if(e[0]>0)return;this.prefix?this.prefix===">"&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(e[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c")},l.prototype.linePosAbsolute=function(e){var t=e[0];t<1&&(t=1),this.y=t-1,this.y>=this.rows&&(this.y=this.rows-1)},l.prototype.VPositionRelative=function(e){var t=e[0];t<1&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1)},l.prototype.HVPosition=function(e){e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1),this.y=e[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=e[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},l.prototype.setMode=function(e){if(typeof e=="object"){var t=e.length,n=0;for(;n<t;n++)this.setMode(e[n]);return}if(!this.prefix)switch(e){case 4:this.insertMode=!0;break;case 20:}else if(this.prefix==="?")switch(e){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,l.charsets.US),this.setgCharset(1,l.charsets.US),this.setgCharset(2,l.charsets.US),this.setgCharset(3,l.charsets.US);break;case 3:this.savedCols=this.cols,this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log("Serial port requested application keypad."),this.applicationKeypad=!0;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=e===9,this.vt200Mouse=e===1e3,this.normalMouse=e>1e3,this.mouseEvents=!0,this.element.style.cursor="default",this.log("Binding to mouse events.");break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var r={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=r,this.showCursor()}}},l.prototype.resetMode=function(e){if(typeof e=="object"){var t=e.length,n=0;for(;n<t;n++)this.resetMode(e[n]);return}if(!this.prefix)switch(e){case 4:this.insertMode=!1;break;case 20:}else if(this.prefix==="?")switch(e){case 1:this.applicationCursor=!1;break;case 3:this.cols===132&&this.savedCols&&this.resize(this.savedCols,this.rows),delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log("Switching back to normal keypad."),this.applicationKeypad=!1;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1,this.vt200Mouse=!1,this.normalMouse=!1,this.mouseEvents=!1,this.element.style.cursor="";break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor())}},l.prototype.setScrollRegion=function(e){if(this.prefix)return;this.scrollTop=(e[0]||1)-1,this.scrollBottom=(e[1]||this.rows)-1,this.x=0,this.y=0},l.prototype.saveCursor=function(e){this.savedX=this.x,this.savedY=this.y},l.prototype.restoreCursor=function(e){this.x=this.savedX||0,this.y=this.savedY||0},l.prototype.cursorForwardTab=function(e){var t=e[0]||1;while(t--)this.x=this.nextStop()},l.prototype.scrollUp=function(e){var t=e[0]||1;while(t--)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},l.prototype.scrollDown=function(e){var t=e[0]||1;while(t--)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},l.prototype.initMouseTracking=function(e){},l.prototype.resetTitleModes=function(e){},l.prototype.cursorBackwardTab=function(e){var t=e[0]||1;while(t--)this.x=this.prevStop()},l.prototype.repeatPrecedingCharacter=function(e){var t=e[0]||1,n=this.lines[this.ybase+this.y],r=n[this.x-1]||[this.defAttr," "];while(t--)n[this.x++]=r},l.prototype.tabClear=function(e){var t=e[0];t<=0?delete this.tabs[this.x]:t===3&&(this.tabs={})},l.prototype.mediaCopy=function(e){},l.prototype.setResources=function(e){},l.prototype.disableModifiers=function(e){},l.prototype.setPointerMode=function(e){},l.prototype.softReset=function(e){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},l.prototype.requestAnsiMode=function(e){},l.prototype.requestPrivateMode=function(e){},l.prototype.setConformanceLevel=function(e){},l.prototype.loadLEDs=function(e){},l.prototype.setCursorStyle=function(e){},l.prototype.setCharProtectionAttr=function(e){},l.prototype.restorePrivateValues=function(e){},l.prototype.setAttrInRectangle=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o,u;for(;t<r+1;t++){o=this.lines[this.ybase+t];for(u=n;u<i;u++)o[u]=[s,o[u][1]]}this.updateRange(e[0]),this.updateRange(e[2])},l.prototype.savePrivateValues=function(e){},l.prototype.manipulateWindow=function(e){},l.prototype.reverseAttrInRectangle=function(e){},l.prototype.setTitleModeFeature=function(e){},l.prototype.setWarningBellVolume=function(e){},l.prototype.setMarginBellVolume=function(e){},l.prototype.copyRectangle=function(e){},l.prototype.enableFilterRectangle=function(e){},l.prototype.requestParameters=function(e){},l.prototype.selectChangeExtent=function(e){},l.prototype.fillRectangle=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o,u;for(;n<i+1;n++){o=this.lines[this.ybase+n];for(u=r;u<s;u++)o[u]=[o[u][0],m.fromCharCode(t)]}this.updateRange(e[1]),this.updateRange(e[3])},l.prototype.enableLocatorReporting=function(e){var t=e[0]>0},l.prototype.eraseRectangle=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s,o,u;u=[this.eraseAttr()," "];for(;t<r+1;t++){s=this.lines[this.ybase+t];for(o=n;o<i;o++)s[o]=u}this.updateRange(e[0]),this.updateRange(e[2])},l.prototype.setLocatorEvents=function(e){},l.prototype.selectiveEraseRectangle=function(e){},l.prototype.requestLocatorPosition=function(e){},l.prototype.insertColumns=function(){var e=params[0],t=this.ybase+this.rows,n=[this.eraseAttr()," "],r;while(e--)for(r=this.ybase;r<t;r++)this.lines[r].splice(this.x+1,0,n),this.lines[r].pop();this.maxRange()},l.prototype.deleteColumns=function(){var e=params[0],t=this.ybase+this.rows,n=[this.eraseAttr()," "],r;while(e--)for(r=this.ybase;r<t;r++)this.lines[r].splice(this.x,1),this.lines[r].push(n);this.maxRange()},l.prototype.enterPrefix=function(){this.prefixMode=!0},l.prototype.leavePrefix=function(){this.prefixMode=!1},l.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write},this.write=function(){},this.selectMode=!0,this.visualMode=!1,this.cursorHidden=!1,this.refresh(this.y,this.y)},l.prototype.leaveSelect=function(){this.x=this._real.x,this.y=this._real.y,this.ydisp=this._real.ydisp,this.ybase=this._real.ybase,this.cursorHidden=this._real.cursorHidden,this.lines=this._real.lines,this.write=this._real.write,delete this._real,this.selectMode=!1,this.visualMode=!1,this.refresh(0,this.rows-1)},l.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines),this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y),this.visualMode=!0},l.prototype.leaveVisual=function(){this.lines=this._real.preVisual,delete this._real.preVisual,delete this._selected,this.visualMode=!1,this.refresh(0,this.rows-1)},l.prototype.enterSearch=function(e){this.entry="",this.searchMode=!0,this.searchDown=e,this._real.preSearch=this.copyBuffer(this.lines),this._real.preSearchX=this.x,this._real.preSearchY=this.y;var t=this.ydisp+this.rows-1;for(var n=0;n<this.entryPrefix.length;n++)this.lines[t][n]=[this.defAttr&-512|4,this.entryPrefix[n]];this.y=this.rows-1,this.x=this.entryPrefix.length,this.refresh(this.rows-1,this.rows-1)},l.prototype.leaveSearch=function(){this.searchMode=!1,this._real.preSearch&&(this.lines=this._real.preSearch,this.x=this._real.preSearchX,this.y=this._real.preSearchY,delete this._real.preSearch,delete this._real.preSearchX,delete this._real.preSearchY),this.refresh(this.rows-1,this.rows-1)},l.prototype.copyBuffer=function(e){var e=e||this.lines,t=[];for(var n=0;n<e.length;n++){t[n]=[];for(var r=0;r<e[n].length;r++)t[n][r]=[e[n][r][0],e[n][r][1]]}return t},l.prototype.getCopyTextarea=function(e){var t=this._copyTextarea,n=this.document;return t||(t=n.createElement("textarea"),t.style.position="absolute",t.style.left="-32000px",t.style.top="-32000px",t.style.width="0px",t.style.height="0px",t.style.opacity="0",t.style.backgroundColor="transparent",t.style.borderStyle="none",t.style.outlineStyle="none",n.getElementsByTagName("body")[0].appendChild(t),this._copyTextarea=t),t},l.prototype.copyText=function(e){var t=this,n=this.getCopyTextarea();this.emit("copy",e),n.focus(),n.textContent=e,n.value=e,n.setSelectionRange(0,e.length),g(function(){t.element.focus(),t.focus()},1)},l.prototype.selectText=function(e,t,n,r){var i,s,o,u,a,f,l,c,h;if(this._selected){i=this._selected.x1,s=this._selected.x2,o=this._selected.y1,u=this._selected.y2,u<o&&(a=s,s=i,i=a,a=u,u=o,o=a),s<i&&o===u&&(a=s,s=i,i=a);for(l=o;l<=u;l++){f=0,c=this.cols-1,l===o&&(f=i),l===u&&(c=s);for(;f<=c;f++)this.lines[l][f].old!=null&&(h=this.lines[l][f].old,delete this.lines[l][f].old,this.lines[l][f]=[h,this.lines[l][f][1]])}n=this._selected.y1,e=this._selected.x1}n=Math.max(n,0),n=Math.min(n,this.ydisp+this.rows-1),r=Math.max(r,0),r=Math.min(r,this.ydisp+this.rows-1),this._selected={x1:e,x2:t,y1:n,y2:r},r<n&&(a=t,t=e,e=a,a=r,r=n,n=a),t<e&&n===r&&(a=t,t=e,e=a);for(l=n;l<=r;l++){f=0,c=this.cols-1,l===n&&(f=e),l===r&&(c=t);for(;f<=c;f++)h=this.lines[l][f][0],this.lines[l][f]=[h&-512|261636,this.lines[l][f][1]],this.lines[l][f].old=h}n-=this.ydisp,r-=this.ydisp,n=Math.max(n,0),n=Math.min(n,this.rows-1),r=Math.max(r,0),r=Math.min(r,this.rows-1),this.refresh(0,this.rows-1)},l.prototype.grabText=function(e,t,n,r){var i="",s="",o,u,a,f,l;r<n&&(l=t,t=e,e=l,l=r,r=n,n=l),t<e&&n===r&&(l=t,t=e,e=l);for(a=n;a<=r;a++){u=0,f=this.cols-1,a===n&&(u=e),a===r&&(f=t);for(;u<=f;u++){o=this.lines[a][u][1];if(o===" "){s+=o;continue}s&&(i+=s,s=""),i+=o,w(o)&&u++}s="",i+="\n"}for(u=t,a=r;u<this.cols;u++)if(this.lines[a][u][1]!==" "){i=i.slice(0,-1);break}return i},l.prototype.keyPrefix=function(e,t){t==="k"||t==="&"?this.destroy():t==="p"||t==="]"?this.emit("request paste"):t==="c"?this.emit("request create"):t>="0"&&t<="9"?(t=+t-1,~t||(t=9),this.emit("request term",t)):t==="n"?this.emit("request term next"):t==="P"?this.emit("request term previous"):t===":"?this.emit("request command mode"):t==="["&&this.enterSelect()},l.prototype.keySelect=function(e,t){this.showCursor();if(this.searchMode||t==="n"||t==="N")return this.keySearch(e,t);if(t===""){var n=this.ydisp+this.y;this.ydisp===this.ybase?(this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1),this.refresh(0,this.rows-1)):this.scrollDisp((this.rows-1)/2|0),this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y);return}if(t===""){var n=this.ydisp+this.y;this.ydisp===0?(this.y=Math.max(this.y-(this.rows-1)/2|0,0),this.refresh(0,this.rows-1)):this.scrollDisp(-(this.rows-1)/2|0),this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y);return}if(t===""){var n=this.ydisp+this.y;this.scrollDisp(this.rows-1),this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y);return}if(t===""){var n=this.ydisp+this.y;this.scrollDisp(-(this.rows-1)),this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y);return}if(t==="k"||t==="[A"){var n=this.ydisp+this.y;this.y--,this.y<0&&(this.y=0,this.scrollDisp(-1)),this.visualMode?this.selectText(this.x,this.x,n,this.ydisp+this.y):this.refresh(this.y,this.y+1);return}if(t==="j"||t==="[B"){var n=this.ydisp+this.y;this.y++,this.y>=this.rows&&(this.y=this.rows-1,this.scrollDisp(1)),this.visualMode?this.selectText(this.x,this.x,n,this.ydisp+this.y):this.refresh(this.y-1,this.y);return}if(t==="h"||t==="[D"){var r=this.x;this.x--,this.x<0&&(this.x=0),this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(t==="l"||t==="[C"){var r=this.x;this.x++,this.x>=this.cols&&(this.x=this.cols-1),this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(t==="v"||t===" "){this.visualMode?this.leaveVisual():this.enterVisual();return}if(t==="y"){if(this.visualMode){var i=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(i),this.leaveVisual()}return}if(t==="q"||t===""){this.visualMode?this.leaveVisual():this.leaveSelect();return}if(t==="w"||t==="W"){var s=this.x,o=this.y,u=this.ydisp,r=this.x,n=this.y,a=this.ydisp,f=!1;for(;;){var l=this.lines[a+n];while(r<this.cols){if(l[r][1]<=" ")f=!0;else if(f)break;r++}r>=this.cols&&(r=this.cols-1);if(r===this.cols-1&&l[r][1]<=" "){r=0;if(++n>=this.rows){n--;if(++a>this.ybase){a=this.ybase,r=this.x;break}}continue}break}this.x=r,this.y=n,this.scrollDisp(-this.ydisp+a),this.visualMode&&this.selectText(s,this.x,o+u,this.ydisp+this.y);return}if(t==="b"||t==="B"){var s=this.x,o=this.y,u=this.ydisp,r=this.x,n=this.y,a=this.ydisp;for(;;){var l=this.lines[a+n],f=r>0&&l[r][1]>" "&&l[r-1][1]>" ";while(r>=0){if(l[r][1]<=" "){if(f&&r+1<this.cols&&l[r+1][1]>" "){r++;break}f=!0}r--}r<0&&(r=0);if(r===0&&(l[r][1]<=" "||!f)){r=this.cols-1;if(--n<0){n++;if(--a<0){a++,r=0;break}}continue}break}this.x=r,this.y=n,this.scrollDisp(-this.ydisp+a),this.visualMode&&this.selectText(s,this.x,o+u,this.ydisp+this.y);return}if(t==="e"||t==="E"){var r=this.x+1,n=this.y,a=this.ydisp;r>=this.cols&&r--;for(;;){var l=this.lines[a+n];while(r<this.cols){if(!(l[r][1]<=" "))break;r++}while(r<this.cols){if(l[r][1]<=" "&&r-1>=0&&l[r-1][1]>" "){r--;break}r++}r>=this.cols&&(r=this.cols-1);if(r===this.cols-1&&l[r][1]<=" "){r=0;if(++n>=this.rows){n--;if(++a>this.ybase){a=this.ybase;break}}continue}break}this.x=r,this.y=n,this.scrollDisp(-this.ydisp+a),this.visualMode&&this.selectText(s,this.x,o+u,this.ydisp+this.y);return}if(t==="^"||t==="0"){var s=this.x;if(t==="0")this.x=0;else if(t==="^"){var l=this.lines[this.ydisp+this.y],r=0;while(r<this.cols){if(l[r][1]>" ")break;r++}r>=this.cols&&(r=this.cols-1),this.x=r}this.visualMode?this.selectText(s,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(t==="$"){var s=this.x,l=this.lines[this.ydisp+this.y],r=this.cols-1;while(r>=0){if(l[r][1]>" "){this.visualMode&&r<this.cols-1&&r++;break}r--}r<0&&(r=0),this.x=r,this.visualMode?this.selectText(s,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(t==="g"||t==="G"){var s=this.x,o=this.y,u=this.ydisp;t==="g"?(this.x=0,this.y=0,this.scrollDisp(-this.ydisp)):t==="G"&&(this.x=0,this.y=this.rows-1,this.scrollDisp(this.ybase)),this.visualMode&&this.selectText(s,this.x,o+u,this.ydisp+this.y);return}if(t==="H"||t==="M"||t==="L"){var s=this.x,o=this.y;t==="H"?(this.x=0,this.y=0):t==="M"?(this.x=0,this.y=this.rows/2|0):t==="L"&&(this.x=0,this.y=this.rows-1),this.visualMode?this.selectText(s,this.x,this.ydisp+o,this.ydisp+this.y):(this.refresh(o,o),this.refresh(this.y,this.y));return}if(t==="{"||t==="}"){var s=this.x,o=this.y,u=this.ydisp,l,c=!1,h=!1,p=-1,n=this.y+(t==="{"?-1:1),a=this.ydisp,d;t==="{"?n<0&&(n++,a>0&&a--):t==="}"&&n>=this.rows&&(n--,a<this.ybase&&a++);for(;;){l=this.lines[a+n];for(d=0;d<this.cols;d++){if(l[d][1]>" "){p===-1&&(p=0),c=!0;break}if(d===this.cols-1){p===-1?p=1:p===0?h=!0:p===1&&c&&(h=!0);break}}if(h)break;if(t==="{"){n--;if(n<0){n++;if(!(a>0))break;a--}}else if(t==="}"){n++;if(n>=this.rows){n--;if(!(a<this.ybase))break;a++}}}h||(t==="{"?(n=0,a=0):t==="}"&&(n=this.rows-1,a=this.ybase)),this.x=0,this.y=n,this.scrollDisp(-this.ydisp+a),this.visualMode&&this.selectText(s,this.x,o+u,this.ydisp+this.y);return}if(t==="/"||t==="?"){this.visualMode||this.enterSearch(t==="/");return}return!1},l.prototype.keySearch=function(e,t){if(t===""){this.leaveSearch();return}if(t==="\r"||!this.searchMode&&(t==="n"||t==="N")){this.leaveSearch();var n=this.entry;if(!n){this.refresh(0,this.rows-1);return}var r=this.x,i=this.y,s=this.ydisp,o,u=!1,a=!1,f=this.x+1,l=this.ydisp+this.y,c,h,p=t==="N"?this.searchDown:!this.searchDown;for(;;){o=this.lines[l];while(f<this.cols){for(h=0;h<n.length;h++){if(f+h>=this.cols)break;if(o[f+h][1]!==n[h])break;if(o[f+h][1]===n[h]&&h===n.length-1){u=!0;break}}if(u)break;f+=h+1}if(u)break;f=0;if(!p){l++;if(l>this.ybase+this.rows-1){if(a)break;a=!0,l=0}}else{l--;if(l<0){if(a)break;a=!0,l=this.ybase+this.rows-1}}}if(u){l-this.ybase<0?(c=l,l=0,c>this.ybase&&(l=c-this.ybase,c=this.ybase)):(c=this.ybase,l-=this.ybase),this.x=f,this.y=l,this.scrollDisp(-this.ydisp+c),this.visualMode&&this.selectText(r,this.x,i+s,this.ydisp+this.y);return}this.refresh(0,this.rows-1);return}if(t==="\b"||t===""){if(this.entry.length===0)return;var d=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var h=this.entryPrefix.length+this.entry.length;this.lines[d][h]=[this.lines[d][h][0]," "],this.x--,this.refresh(this.rows-1,this.rows-1),this.refresh(this.y,this.y);return}if(t.length===1&&t>=" "&&t<="~"){var d=this.ydisp+this.rows-1;this.entry+=t;var h=this.entryPrefix.length+this.entry.length-1;this.lines[d][h]=[this.defAttr&-512|4,t],this.x++,this.refresh(this.rows-1,this.rows-1),this.refresh(this.y,this.y);return}return!1},l.charsets={},l.charsets.SCLD={"`":"◆",a:"▒",b:"	",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},l.charsets.UK=null,l.charsets.US=null,l.charsets.Dutch=null,l.charsets.Finnish=null,l.charsets.French=null,l.charsets.FrenchCanadian=null,l.charsets.German=null,l.charsets.Italian=null,l.charsets.NorwegianDanish=null,l.charsets.Spanish=null,l.charsets.Swedish=null,l.charsets.Swiss=null,l.charsets.ISOLatin=null;var m=this.String,g=this.setTimeout,y=this.setInterval;E._cache={},E.distance=function(e,t,n,r,i,s){return Math.pow(30*(e-r),2)+Math.pow(59*(t-i),2)+Math.pow(11*(n-s),2)},l.EventEmitter=n,l.inherits=d,l.on=c,l.off=h,l.cancel=p,typeof module!="undefined"?module.exports=l:this.Terminal=l}.call(function(){return this||(typeof window!="undefined"?window:global)}()),define("term",function(){}),define("app/controllers/machine_shell",["app/models/command","ember","term"],function(e){return Ember.Object.extend(Ember.Evented,{view:null,cols:null,rows:null,isOpen:null,machine:null,open:function(e){this._clear(),this.setProperties({machine:e,isOpen:!0}),e.public_ips.forEach(function(e){e.search(":")==-1&&this.set("host",e)},this),this.host?this.view.open():this.close()},connect:function(){if(this.connected){this.resize();return}this.set("connected",!0),Mist.set("shell",Socket({namespace:"/shell",keepAlive:!1}));var e=new Terminal({cols:this.cols,rows:this.rows,screenKeys:!0});e.on("data",function(e){Mist.shell.emit("shell_data",e)}),e.open(document.getElementById("shell-return")),Mist.shell.emit("shell_open",{backend_id:this.machine.backend.id,machine_id:this.machine.id,provider:this.machine.backend.provider,host:this.host,cols:this.cols,rows:this.rows}),Mist.shell.firstData=!0,Mist.shell.on("shell_data",function(t){e.write(t),Mist.shell.firstData&&($(".terminal").focus(),Mist.shell.firstData=!1)}),e.write("Connecting to "+this.host+"...\r\n"),Mist.set("term",e),Terminal._textarea?($(document).off("focusin"),Mist.term&&Mist.term.isAndroid&&$(Terminal._textarea).css("top","1%").css("left",0).width("100%").height($("#shell-return").height()),$(Terminal._textarea).show()):$(".terminal").focus()},resize:function(){Mist.term.resize(this.cols,this.rows),Mist.shell.emit("shell_resize",this.cols,this.rows)},close:function(){this.view.close(),Ember.run.later(this,function(){Mist.term.destroy(),Mist.shell.disconnect(),this._clear(),Terminal._textarea&&$(Terminal._textarea).hide()},500)},_clear:function(){Ember.run(this,function(){this.setProperties({cols:null,rows:null,machine:null,connected:null,isOpen:!1})})},_giveCallback:function(e,t){this.callback&&this.callback(e,t)}})}),define("app/controllers/machine_tags",["ember"],function(){return Ember.Object.extend({newTag:null,machine:null,callback:null,addingTag:null,deletingTag:null,open:function(e,t){this._clear(),this.set("machine",e),this.set("callback",t),Ember.run.next(function(){$("#machine-tags-popup").popup("open")})},close:function(){$("#machine-tags-popup").popup("close"),this._clear()},add:function(){var e=this,t=this.newTag,n=this.machine;this.set("addingTag",!0),Mist.ajax.POST("backends/"+n.backend.id+"/machines/"+n.id+"/metadata",{tag:t}).success(function(){n.tags.pushObject(t)}).error(function(){Mist.notificationController.notify("Failed to add tag :"+t)}).complete(function(n){e.set("addingTag",!1),e.callback&&e.callback(n,t)})},deleteTag:function(e){var t=this,n=this.machine;this.set("deletingTag",!0),Mist.ajax.DELETE("backends/"+n.backend.id+"/machines/"+n.id+"/metadata",{tag:e}).success(function(){n.tags.removeObject(e)}).error(function(){Mist.notificationController.notify("Failed to delete tag :"+e)}).complete(function(n){t.set("deletingTag",!1),t.callback&&t.callback(n,e)})},_clear:function(){this.set("machine",null),this.set("callback",null)}})}),define("app/models/metric",["ember"],function(){return Ember.Object.extend({id:null,name:null,unit:null,machines:null,maxValue:null,minValue:null,hasRange:null,hashedId:null,isPlugin:null,pluginId:null,datapoints:null,lowerName:function(){return this.get("name").toLowerCase()}.property("name"),init:function(){this._super(),this.set("hashedId",md5(this.id)).set("machines",this.machines||[]).set("maxValue",this.max_value).set("minValue",this.min_value).set("hasRange",typeof this.maxValue!="undefined"&&typeof this.minValue!="undefined").set("isPlugin",this.id.indexOf("mist.python")==0).set("pluginId",this.isPlugin?this.id.split(".")[2]:null),delete this.max_value,delete this.min_value},hasMachine:function(e){var t=!1;return this.machines.some(function(n){if(e.equals(n))return t=!0}),t}})}),define("app/controllers/metric_add",["app/models/metric","ember"],function(e){function t(e,r,i,s,o){this.text=r,this.nestIndex=i,this.isRootNode=!i,this.target=(o?o+".":"")+s;var u=new Array;for(var a in e){var f=e[a]instanceof Object?e[a]:{};u.push(new t(f,a,i+1,a,this.target))}this.subTargets=n(u),this.isEndNode=!u.length}function n(e){return e.sort(function(e,t){return e.text>t.text?1:e.text<t.text?-1:0})}return Ember.Object.extend({view:null,metrics:[],machine:null,callback:null,formReady:null,newMetric:null,metricsTree:[],open:function(e,t){this.clear(),this.set("machine",e).set("callback",t),this.view.open(),this.loadMetrics()},close:function(){this.clear(),this.view.close()},add:function(){var e=this;Mist.metricsController.addMetric(this.machine,this.newMetric,function(t,n){t&&(e.callback&&e.callback(n),e.close())})},loadMetrics:function(){var e="/backends/"+this.machine.backend.id+"/machines/"+this.machine.id+"/metrics",t=this;this.set("loadingMetrics",!0),Mist.ajax.GET(e,{}).success(function(e){t._setMetrics(e)}).error(function(e){Mist.notificationController.notify("Failed to load metrics: "+e)}).complete(function(){t.set("loadingMetrics",!1)})},clear:function(){this.view.clear(),this.set("metrics",[]).set("metricsTree",[]).set("machine",null).set("callback",null).set("newMetric",{target:null,newName:null})},getMetric:function(e){return this.metrics.findBy("id",e)},_setMetrics:function(t){Ember.run(this,function(){var n=[];for(var r in t){var i=t[r];i.id=r,n.push(e.create(i))}this.set("metrics",n),this._setMetricsTree()})},_setMetricsTree:function(){var e=this._metricsToObject(),n=new t(e,"collectd",0,"","");this.set("metricsTree",n)},_metricsToObject:function(){var e=new Object;return this.metrics.forEach(function(t){var n=e,r=t.id.split("."),i=r.length-1;r.forEach(function(e,r){n[e]||(r==i?n[e]=t.id:n[e]=new Object),n=n[e]})}),e},newMetricObserver:function(){this.newMetric.target&&this.newMetric.newName?this.set("formReady",!0):this.set("formReady",!1)}.observes("newMetric.target","newMetric.newName","newMetric")})}),define("app/controllers/metric_add_custom",["app/models/metric","ember"],function(){var e=String.fromCharCode(13),t="import random"+e+e+"def read():"+e+"    # return random value"+e+"    return random.random()"+e,n="ERROR DEPLOYING PLUGIN";return Ember.Object.extend({view:null,machine:null,callback:null,formReady:null,addingMetric:null,metric:{name:null,unit:null,type:null,script:null,pluginId:null},open:function(e,t){this.clear(),this.set("machine",e).set("callback",t),this.view.open()},close:function(e){this.callback&&!e&&this.callback(!1),this.clear(),this.view.close()},clear:function(){this.view.clear(),this.set("machine",null).set("callback",null).set("metric",Ember.Object.create({name:null,unit:null,type:null,script:t,pluginId:null})).set("addingMetric",null)},add:function(){var e="/backends/"+this.machine.backend.id+"/machines/"+this.machine.id+"/plugins/"+this.metric.pluginId,t=this.metric.type?"derive":"gauge";if(this.newMetricExists(this.metric,this.machine)){Mist.notificationController.notify('Metric "'+this.metric.name+'" exists already.');return}var n=this;this.set("addingMetric",!0),Mist.ajax.POST(e,{plugin_type:"python",name:this.metric.name,unit:this.metric.unit,value_type:t,read_function:this.metric.script,host:this.machine.getHost()}).success(function(e){n.metric.id=e.metric_id,n.metric.machines=n.machine?[n.machine]:[],Mist.metricsController._addMetric(n.metric,n.machine)}).error(function(e){if(n.handleSyntaxError(e))return;Mist.notificationController.notify("Failed to deploy custom plugin: "+e)}).complete(function(e,t){n.callback&&n.callback(e,t),n.set("addingMetric",!1),e&&n.close(!0)})},generatePluginId:function(){if(!this.metric.name)return;var e=this.metric.name.toLowerCase().replace(/[^\w]/g,"_").replace(/__*/g,"_").replace(/^_/,"").replace(/_$/,"");this.metric.set("pluginId",e)},handleSyntaxError:function(e){e=e.trim();var t=e.lastIndexOf(n);return t==e.length-n.length?(e=e.replace(n,"").replace("Bad Request: ","").trim(),$("#custom-plugin-error").slideDown().text(e),$("#custom-plugin-script").focus(),!0):!1},newMetricExists:function(e,t){var n="mist.python."+this.metric.pluginId,r=Mist.metricsController.getMetric(n);return r&&r.hasMachine(t)?!0:!1},metricObserver:function(){this.set("formReady",this.metric.name&&this.metric.script)}.observes("metric.name","metric.script"),nameObserver:function(){Ember.run.once(this,"generatePluginId")}.observes("metric.name")})}),define("app/controllers/metrics",["app/models/metric","ember"],function(e){return Ember.Object.extend(Ember.Evented,{customMetrics:[],addingMetric:null,builtInMetrics:[],addMetric:function(e,t,n){var r=e.id||null,i=e.backend?e.backend.id:null,s=this;this.set("addingMetric",!0),Mist.ajax.PUT("/metrics/"+t.id,{name:t.name,unit:t.unit,machine_id:r,backend_id:i}).success(function(n){t.machines=e?[e]:[],s._addMetric(t,e)}).error(function(e){Mist.notificationController.notify("Failed to add metric: "+e)}).complete(function(e,t){s.set("addingMetric",!1),n&&n(e,s.getMetric(t.metric_id))})},deleteMetric:function(e,t){var n=this;this.set("deletingMetric",!0),Mist.ajax.DELETE("/metrics/"+e.id,{}).success(function(){n._deleteMetric(e)}).error(function(e){Mist.notificationController.notify("Failed to delete metric: "+e)}).complete(function(r){n.set("deletingMetric",!1),t&&t(r,e)})},disableMetric:function(e,t,n){var r=t.id||null,i=t.backend?t.backend.id:null,s="/backends/"+i+"/machines/"+r+"/plugins/"+e.pluginId,o=this;this.set("disablingMetric",!0),Mist.ajax.DELETE(s,{plugin_type:"python",host:t.getHost()}).success(function(){}).error(function(e){Mist.notificationController.notify("Failed to disable metric: "+e)}).complete(function(t){o.set("disablingMetric",!1),n&&n(t,e)})},disassociateMetric:function(e,t,n){var r=t.id||null,i=t.backend?t.backend.id:null,s="/backends/"+i+"/machines/"+r+"/metrics",o=this;this.set("disassociatingMetric",!0),Mist.ajax.DELETE(s,{metric_id:e.id}).success(function(n){o._disassociateMetric(e,t)}).error(function(e){Mist.notificationController.notify("Failed to disassociate metric: "+e)}).complete(function(t,r){o.set("disassociatingMetric",!1),n&&n(t,e)})},setCustomMetrics:function(e){this._updateCustomMetrics(e)},_updateCustomMetrics:function(e){Ember.run(this,function(){this.customMetrics.forEach(function(t){e[t.id]||this._deleteMetric(t)},this),forIn(this,e,function(e,t){e.id=t;var n=this.getMetric(t);n?forIn(e,function(e,t){n.set(t,e)}):this._addMetric(e)}),this.trigger("onMetricListChange")})},setBuiltInMetrics:function(t){Ember.run(this,function(){var n=[];for(var r in t)t[r].id=r,n.push(e.create(t[r]));this.set("builtInMetrics",n),this.trigger("onMetricListChange")})},getMetric:function(e){var t=this.builtInMetrics.findBy("id",e);return t||(t=this.customMetrics.findBy("id",e)),t},isBuiltInMetric:function(e){return!!this.builtInMetrics.findBy("id",e)},isCustomMetric:function(e){return!!this.customMetrics.findBy("id",e)},_addMetric:function(t,n){Ember.run(this,function(){t=e.create(t),this.customMetrics.addObject(t),this.trigger("onMetricAdd",{metric:t,machine:n})})},_disassociateMetric:function(e,t){Ember.run(this,function(){e=this.getMetric(e.id),e.machines.removeObject(t),this.trigger("onMetricDisassociate",{metric:e,machine:t})})},_deleteMetric:function(e){Ember.run(this,function(){e=this.customMetrics.findBy("id",e.id),this.customMetrics.removeObject(e),this.trigger("onMetricDelete",{metric:e}),this.trigger("onMetricListChange")})}})}),define("app/models/graph",["ember"],function(){return Ember.Object.extend(Ember.Evented,{id:null,view:null,title:null,isEmpty:null,datasources:null,batches:function(){var e,t=0,n=this.datasources.length,r,i=DATASOURCES_PER_GRAPH,s=[];if(!n)return s;for(e=0;e<n;e+=i)r=this.datasources.slice(e,e+i),s.push({id:this.id+"-"+t++,body:r});return s}.property("datasources"),unit:function(){return this.datasources&&this.datasources.length?this.datasources[0].metric.unit:""}.property("datasources"),isBuiltIn:function(){return this.datasources&&this.datasources.length?!!Mist.metricsController.builtInMetrics.findBy("id",this.datasources[0].metric.id):!1}.property("datasources"),isMultiline:function(){return this.datasources.length>1}.property("datasources.@each"),load:function(){var e;this.datasources.length,e=this.datasources,this.set("id","graph-"+(e.length?e[0].id:"")),this.set("datasources",e?e:[]),this.set("isEmpty",!0)}.on("init"),addDatasource:function(e){Ember.run(this,function(){this.datasources.addObject(e),this.trigger("onDatasourceAdd")})},removeDatasource:function(e){Ember.run(this,function(){this.datasources.removeObject(e),this.trigger("onDatasourceRemove")})},getFirstDatapoint:function(){return this.get("displayedData")[this.datasources[0].id][0]},getLastDatapoint:function(){return this.get("displayedData")[this.datasources[0].id][DISPLAYED_DATAPOINTS-1]},valueText:function(e){return e==null||!isNaN(this.value)?e:e>=1073741824?(e/1073741824).toFixed(2)+"G":e>=1048576?(e/1048576).toFixed(2)+"M":e>=1024?(e/1024).toFixed(2)+"K":e.toFixed(2)}})}),define("app/controllers/monitoring",["app/models/graph","app/models/metric","ember"],function(e,t){return Ember.Object.extend(Ember.Evented,{checkingMonitoring:null,load:function(e){if(!Mist.authenticated){Mist.backendsController.set("checkedMonitoring",!0);return}}.on("init"),enableMonitoring:function(e,t,n){var r=this;e.set("enablingMonitoring",!0);var i="/backends/"+e.backend.id+"/machines/"+e.id+"/monitoring";Mist.ajax.POST(i,{action:"enable",no_ssh:n||!1,name:e.name||e.id,public_ips:e.public_ips||[],dns_name:e.extra.dns_name||"n/a"}).success(function(t){Mist.set("authenticated",!0),r._enableMonitoring(e)}).error(function(t,n){n==402?Mist.notificationController.timeNotify(t,5e3):Mist.notificationController.notify("Error when changing monitoring to "+e.name)}).complete(function(n,r){e.set("enablingMonitoring",!1),t&&t(n,r)})},disableMonitoring:function(e,t){var n=this;e.set("disablingMonitoring",!0),e.set("hasMonitoring",!1);var r="/backends/"+e.backend.id+"/machines/"+e.id+"/monitoring";Mist.ajax.POST(r,{action:"disable",name:e.name||e.id,public_ips:e.public_ips||[],dns_name:e.extra.dns_name||"n/a"}).success(function(t){Mist.set("authenticated",!0),n._disableMonitoring(e)}).error(function(t,n){e.set("hasMonitoring",!0),n==402?Mist.notificationController.timeNotify(t,5e3):Mist.notificationController.notify("Error when changing monitoring to "+e.name)}).complete(function(n,r){e.set("disablingMonitoring",!1),t&&t(n,r)})},changeMonitoring:function(e,t){e.hasMonitoring?this.disableMonitoring(e,t):this.enableMonitoring(e,t)},_enableMonitoring:function(e){Ember.run(this,function(){e.set("hasMonitoring",!0),e.set("pendingFirstData",!0),this.trigger("onMonitoringEnable",e)})},_disableMonitoring:function(e){Ember.run(this,function(){e.set("hasMonitoring",!1),Mist.monitored_machines.some(function(t){e.equals(t)&&Mist.monitored_machines.removeObject(t)}),this.trigger("onMonitoringDisable",e)})},_updateMonitoringData:function(e){Mist.set("current_plan",e.current_plan),Mist.set("monitored_machines",e.machines),Mist.set("monitored_machines_",e.monitored_machines),Mist.metricsController.setCustomMetrics(e.custom_metrics),Mist.metricsController.setBuiltInMetrics(e.builtin_metrics),Mist.rulesController.setContent(e.rules),Mist.backendsController.content.forEach(function(e){e.machines._updateMonitoredMachines()})},getMonitoringCommand:function(e,t){var n="/backends/"+e.backend.id+"/machines/"+e.id+"/monitoring",r=this;this.set("gettingCommand",!0),Mist.ajax.POST(n,{action:"enable",dns_name:e.extra.dns_name?e.extra.dns_name:"n/a",public_ips:e.public_ips?e.public_ips:[],name:e.name?e.name:e.id,no_ssh:!0,dry:!0}).success(function(e){r.set("command",e.command)}).error(function(e){Mist.notificationController.notify("Failed to enable monitoring: "+e)}).complete(function(e,n){r.set("gettingCommand",!1),t&&t(e,n)})},cookies:{timeWindow:null,collapsedGraphs:null,load:function(){this.disableOldCookie(),document.cookie.indexOf("mistio-monitoring")==-1&&this.save();var e={},t=document.cookie.split(";");t.some(function(t){if(t.indexOf("mistio-monitoring=")>-1)return e=JSON.parse(t.replace("mistio-monitoring=",""))}),this.timeWindow=e.timeWindow||6e5,this.collapsedGraphs=e.collapsedGraphs||[]},save:function(e){var t=new Date;t.setFullYear(t.getFullYear()+2);var n="mistio-monitoring="+JSON.stringify({timeWindow:this.timeWindow,collapsedGraphs:this.collapsedGraphs})+"; expires="+t.toUTCString()+"; path=/";document.cookie=n},disableOldCookie:function(){document.cookie.indexOf("collapsedGraphs")>-1&&(document.cookie="collapsedGraphs=;expires=Thu, 01 Jan 1970 00:00:01 GMT")}}})}),define("app/controllers/network_create",["ember"],function(){return Ember.Object.extend({adminStateUpToText:function(){return this.network.adminStateUp?"UP":"DOWN"}.property("network.adminStateUp"),network:Ember.Object.create({name:null,backend:null,adminStateUp:!0,createSubnet:null,clear:function(){this.setProperties({name:null,backend:null,adminStateUp:!0,createSubnet:null}),this.subnet.clear()},subnet:Ember.Object.create({ipv:null,name:null,address:null,gatewayIP:null,disableGateway:null,allocationPools:null,hostRoutes:null,enableDHCP:null,DNS:null,clear:function(){this.setProperties({ipv:"IPv4",name:null,address:null,gatewayIP:null,disableGateway:null,allocationPools:null,hostRoutes:null,enableDHCP:null,DNS:null})}})}),open:function(){this._clear(),this.view.open()},close:function(){this._clear(),this.view.close()},selectBackend:function(e){this.network.set("backend",e)},selectIpv:function(e){this.network.subnet.set("ipv",e)},selectAdminState:function(e){this.network.set("adminStateUp",e)},create:function(){var e={},t=this.network,n=t.subnet;e.network={},t.name!==null&&t.name.length&&(e.network.name=t.name),t.adminStateUp!==null&&(e.network.admin_state_up=t.adminStateUp),t.createSubnet&&(e.subnet={},n.name!==null&&n.name.length&&(e.subnet.name=n.name),n.ipv!==null&&(e.subnet.ip_version=n.ipv.charAt(3)),n.address!==null&&n.address.length&&(e.subnet.cidr=n.address),n.disableGateway!==null&&!n.disableGateway&&(e.subnet.gateway_ip=n.gatewayIP),n.enableDHCP!==null&&(e.subnet.enable_dhcp=n.enableDHCP),n.allocationPools!==null&&n.allocationPools.length&&(e.subnet.allocation_pools=n.allocationPools.split("\n").map(function(e){var t=e.split(",");return t.length==2?{start:t[0].trim(),end:t[1].trim()}:{start:"",end:""}})));var r="/backends/"+this.network.backend.id+"/networks",i=this;i.set("creatingNetwork",!0),Mist.ajax.POST(r,e).success(function(e){i.close()}).error(function(e){Mist.notificationController.notify(e)}).complete(function(e,t){i.set("creatingNetwork",!1)})},_clear:function(){this.network.clear(),this.view.clear()}})}),define("app/controllers/notification",["ember"],function(){return Ember.Object.extend({timeout:null,notify:function(e){$("#notification-popup h1").text(e),$("#notification-popup").show(),Ember.run.later(function(){$("#notification-popup").hide()},this.timeout?this.timeout:5e3)},timeNotify:function(e,t){$("#notification-popup h1").text(e),$("#notification-popup").show(),Ember.run.later(function(){$("#notification-popup").hide()},t)},showMessagebox:function(){$("#message-box-popup").popup("open").popup("reposition",{positionTo:"window"}),Ember.run.next(function(){$("#message-box-popup").popup("reposition",{positionTo:"window"}),Ember.run.later(function(){$("#message-box-popup")},300)})},messageBox:Ember.Object.create({view:null,options:Ember.Object.create({title:null,paragraphs:null,command:null,ps:null,callback:null}),open:function(e){this._clear(),forIn(this,e,function(e,t){this.options.set(t,e)}),this.view.open()},close:function(){this.view.close(),this.options.callback instanceof Function&&this.options.callback(),this._clear()},_clear:function(){this.options.setProperties({title:null,paragraphs:[],command:null,ps:null,callback:null})}})})}),define("app/controllers/rule_edit",["ember"],function(){return Ember.Object.extend({rule:null,metrics:null,property:null,callback:null,open:function(e,t,n){this.clear(),this.set("rule",e).set("property",t).set("callback",n),this.view.open(t)},close:function(){this.view.close(this.property),this.clear()},clear:function(){this.set("rule",null).set("property",null).set("callback",null)},edit:function(e){Mist.rulesController.editRule({rule:this.rule,callback:this.callback,properties:e}),this.close()}})}),define("app/models/rule",["app/models/base"],function(e){return e.extend({unit:null,value:null,metric:null,command:null,machine:null,operator:null,maxValue:null,aggregate:null,timeWindow:null,actionToTake:null,pendingAction:!1,convertProperties:{action:"actionToTake",reminder_offset:"timeWindow"},processProperties:{operator:function(e){return Mist.rulesController.getOperatorByTitle(e)},metric:function(e){return Mist.metricsController.getMetric(e)},aggregate:function(e){return Mist.rulesController.getAggregateByValue(e)},machine:function(e){return Mist.backendsController.getMachine(e,this.get("backend"))||e}},timeWindowToMins:function(){return(1+parseInt(this.get("timeWindow")/60)).toString()}.property("timeWindow")})}),define("app/controllers/rules",["app/controllers/base_array","app/models/rule"],function(e,t){return e.extend({model:t,creationPending:!1,aggregateList:[{title:"any",value:"any"},{title:"every",value:"all"},{title:"average",value:"avg"}],operatorList:[{title:"gt",symbol:">"},{title:"lt",symbol:"<"}],actionList:["alert","reboot","destroy","command"],setContent:function(e){var t=[];forIn(e,function(e){t.push(e)}),this._super(t)},newRule:function(e,t){var n=this;this.set("creationPending",!0),Mist.ajax.POST("/rules",{backendId:e.backend.id,machineId:e.id,metric:"load.shortterm",operator:"gt",value:5,action:"alert"}).success(function(e){n._addObject(e)}).error(function(e){Mist.notificationController.notify("Error while creating rule: "+e)}).complete(function(e,r){n.set("creationPending",!1),t&&t(e,r)})},deleteRule:function(e){var t=this;e.set("pendingAction",!0),Mist.ajax.DELETE("/rules/"+e.id,{}).success(function(){t._deleteObject(e)}).error(function(t){Mist.notificationController.notify("Error while deleting rule: "+t),e.set("pendingAction",!1)})},editRule:function(e){var t={id:e.rule.id};forIn(e.properties,function(e,n){t[n]=e});var n=this;e.rule.set("pendingAction",!0),Mist.ajax.POST("/rules",t).success(function(e){n._updateObject(e)}).error(function(e){Mist.notificationController.notify("Error while updating rule: "+e)}).complete(function(t,n){e.rule.set("pendingAction",!1),e.callback&&e.callback(t,n)})},getOperatorByTitle:function(e){return this.operatorList.findBy("title",e)},getAggregateByValue:function(e){return this.aggregateList.findBy("value",e)},creationPendingObserver:function(){this.creationPending?$("#add-rule-button").addClass("ui-state-disabled"):$("#add-rule-button").removeClass("ui-state-disabled")}.observes("creationPending")})}),define("app/controllers/script_add",["ember"],function(){var e="https://github.com/";return Ember.Object.extend({newScript:Ember.Object.create({name:"",url:"",type:{},entryPoint:"",text:"",source:{},description:""}),open:function(){this.clear(),this.view.clear(),this.view.open()},add:function(){var e=this;Mist.scriptsController.addScript({script:e.get("newScript"),callback:function(t){t&&e.close()}})},close:function(){this.clear(),this.view.close()},clear:function(){this.get("newScript").setProperties({name:"",url:"",type:this.view.scriptTypes[1],entryPoint:"",text:"",source:"",script:"",description:""})},urlObserver:function(){this.get("newScript").get("source").value=="github"&&this.get("newScript").get("url").indexOf(e)!=0&&this.get("newScript").set("url",e)}.observes("newScript.url","newScript.source")})}),define("app/controllers/script_edit",["ember"],function(){return Ember.Object.extend({script:null,newName:"",open:function(e){this.setProperties({script:e,newName:e.name}),this.view.open()},close:function(){this.view.close()},save:function(){var e=this;Mist.scriptsController.renameScript({script:this.get("script"),newName:this.get("newName"),callback:function(t){t&&e.close()}})}})}),define("app/controllers/script_run",["ember"],function(){return Ember.Object.extend({scriptToRun:Ember.Object.create({script:{},machine:"",parameters:""}),open:function(e){this.clear(),this.get("scriptToRun").set("script",e),this.view.open()},close:function(){this.view.close(),this.clear()},clear:function(){this.get("scriptToRun").setProperties({script:{},machine:"",parameters:""})},run:function(){var e=this;Mist.scriptsController.runScript({script:this.get("scriptToRun"),callback:function(t){t&&e.close()}})}})}),define("app/models/script",["app/models/base"],function(e){return e.extend({convertProperties:{script_id:"id",exec_type:"type",location_type:"source"}})}),define("app/controllers/scripts",["app/controllers/base_array","app/models/script"],function(e,t){return e.extend({model:t,addScript:function(e){var t=this;t.set("addingScript",!0),Mist.ajax.POST("/scripts",{name:e.script.name,exec_type:e.script.type.value,location_type:e.script.source.value,entrypoint:e.script.entryPoint,script:e.script.source.value=="inline"?e.script.script:e.script.url,description:e.script.description}).success(function(e){t._addObject(e)}).error(function(e){Mist.notificationController.notify(e)}).complete(function(n){t.set("addingScript",!1),e.callback&&e.callback(n)})},deleteScript:function(e){var t=this;t.set("deletingScript",!0),Mist.ajax.DELETE("/scripts/"+e.script.id,{}).success(function(){t._deleteObject(e.script)}).error(function(e){Mist.notificationController.notify(e)}).complete(function(n){t.set("deletingScript",!1),e.callback&&e.callback(n)})},renameScript:function(e){var t=this;t.set("renamingScript",!0),Mist.ajax.PUT("/scripts/"+e.script.id,{new_name:e.newName}).success(function(){t._renameScript(e.script,e.newName)}).error(function(e){Mist.notificationController.notify(e)}).complete(function(n){t.set("renamingScript",!1),e.callback&&e.callback(n)})},runScript:function(e){var t=this;t.set("runningScript",!0),Mist.ajax.POST("/scripts/"+e.script.script.id,{machine_id:e.script.machine.id,backend_id:e.script.machine.backend.id,params:e.script.parameters}).error(function(e){Mist.notificationController.notify(e)}).complete(function(n){t.set("runningScript",!1),e.callback&&e.callback(n)})},getRequestedScript:function(){if(this.scriptRequest)return this.getObject(this.scriptRequest)},_renameScript:function(e,t){Ember.run(this,function(){e.set("name",t),this.trigger("onRename",{script:e})})}})}),define("app/routes/base",["ember"],function(){return Ember.Route.extend({documentTitle:"",setDocumentTitle:function(){document.title=this.get("documentTitle")}.observes("documentTitle"),activate:function(){this.setDocumentTitle()}})}),define("app/routes/images",["app/routes/base"],function(e){return App.ImagesRoute=e.extend({documentTitle:"mist.io - images"})}),define("app/routes/index",["app/routes/base"],function(e){return App.IndexRoute=e.extend({documentTitle:"mist.io - home"})}),define("app/routes/key",["app/routes/base"],function(e){return App.KeyRoute=e.extend({activate:function(){Ember.run.next(this,function(){var e=this.modelFor("key"),t=e._id||e.id,n=Mist.keysController.getKey(t);this.set("documentTitle","mist.io - "+(n?n.id:t))})},redirect:function(e){Mist.keysController.set("keyRequest",e._id)},model:function(e){var t=e.key_id;return Mist.keysController.loading?{_id:t,machines:[]}:Mist.keysController.getKey(t)}})}),define("app/routes/keys",["app/routes/base"],function(e){return App.KeysRoute=e.extend({documentTitle:"mist.io - keys",exit:function(){Mist.keysController.content.setEach("selected",!1)}})}),define("app/routes/machine",["app/routes/base"],function(e){return App.MachineRoute=e.extend({activate:function(){Ember.run.next(this,function(){var e=this.modelFor("machine"),t=e._id||e.id,n=Mist.backendsController.getMachine(t);this.set("documentTitle","mist.io - "+(n?n.name:t))})},redirect:function(e){Mist.backendsController.set("machineRequest",e._id)},model:function(e){var t=e.machine_id;return Mist.backendsController.loading||Mist.backendsController.loadingMachines?{_id:t,backend:{}}:Mist.backendsController.getMachine(t)}})}),define("app/routes/machines",["app/routes/base"],function(e){return App.MachinesRoute=e.extend({documentTitle:"mist.io - machines",exit:function(){Mist.backendsController.forEach(function(e){e.machines.content.setEach("selected",!1)})}})}),define("app/routes/missing",["ember"],function(){return App.MissingRoute=Ember.Route.extend({documentTitle:"mist.io - 404"})}),define("app/routes/network",["app/routes/base"],function(e){return App.NetworkRoute=e.extend({activate:function(){Ember.run.next(this,function(){var e=this.modelFor("network"),t=e._id||e.id,n=Mist.backendsController.getNetwork(t);this.set("documentTitle","mist.io - "+(n?n.name:t))})},redirect:function(e){Mist.backendsController.set("networkRequest",e._id)},model:function(e){var t=e.network_id;return Mist.backendsController.loading||Mist.backendsController.loadingNetworks?{_id:t,backend:{}}:Mist.backendsController.getNetwork(t)}})}),define("app/routes/networks",["app/routes/base"],function(e){return App.NetworksRoute=e.extend({documentTitle:"mist.io - networks",exit:function(){Mist.backendsController.forEach(function(e){e.networks.content.setEach("selected",!1)})}})}),define("app/routes/script",["app/routes/base"],function(e){return App.ScriptRoute=e.extend({activate:function(){Ember.run.next(this,function(){var e=this.modelFor("script"),t=e._id||e.id,n=Mist.scriptsController.getObject(t);this.set("documentTitle","mist.io - "+(n?n.name:t))})},redirect:function(e){Mist.scriptsController.set("scriptRequest",e._id)},model:function(e){var t=e.script_id;return Mist.scriptsController.loading?{_id:t}:Mist.scriptsController.getObject(t)}})}),define("app/routes/scripts",["app/routes/base"],function(e){return App.ScriptsRoute=e.extend({documentTitle:"mist.io - scripts",exit:function(){Mist.scriptsController.setEach("selected",!1)}})}),define("app/views/templated",["ember"],function(){return Ember.View.extend({init:function(){this._super(),this.set("template",this.templateForName(this.getName()))}})}),define("app/views/controlled",["app/views/templated"],function(e){return e.extend({controllerName:null,init:function(){this._super(),this.set("controllerName",this.getControllerName())},didInsertElement:function(){this._super(),Mist.get(this.controllerName).set("view",this)},willDestroyElement:function(){this._super(),Mist.get(this.controllerName).set("view",null)}})}),define("app/views/panel",["app/views/controlled"],function(e){return e.extend({panelId:null,init:function(){this._super(),this.set("panelId",this.getWidgetID())},open:function(){this.animateToTop(),$(this.panelId).panel("open"),this.handlePanelWidth(),this.handlePageHeight()},close:function(){$(this.panelId).panel("close")},animateToTop:function(){$(".ui-page-active").animate({scrollTop:0},"slow"),$(this.panelId+" .ui-panel-inner").animate({scrollTop:0},"slow")},handlePanelWidth:function(){$(".ui-panel-dismiss-position-right").css("right",$(".ui-panel-position-right.ui-panel-open").width())},handlePageHeight:function(){Ember.run.next(function(){var e=$(".ui-panel-open").height(),t=$(".ui-page-active").height();e>t&&$(".ui-page-active").height(e)})}})}),define("app/views/backend_add",["app/views/panel"],function(e){return App.BackendAddView=e.extend({selectedRegion:null,helpHref:"",providerFields:function(){return getProviderFields(Mist.backendAddController.provider)}.property("Mist.backendAddController.provider"),hasAdvanced:function(){return!!this.get("providerFields").findBy("advanced")}.property("providerFields"),providerRegions:function(){if(Mist.backendAddController.provider)return Mist.backendAddController.provider.regions}.property("Mist.backendAddController.provider"),isReady:function(){var e=!0;return this.get("providerFields").some(function(t){if(t.optional)return;if(t.isSlider&&!t.name)return;if(t.value===undefined||t.value===null||t.value==="")return e=!1}),e}.property("providerFields.@each.value"),clear:function(){$("#new-backend-provider").collapsible("collapse"),$("#backend-add-fields").hide(),Ember.run.next(this,function(){$(this.panelId).trigger("create"),Ember.run.later(this,function(){Mist.backendAddController.provider&&$("#backend-add-fields").fadeIn()},100)})},autocompleteCredentials:function(e){var t=this.get("providerFields");if(!t.findBy("type","region"))return;Mist.backendsController.content.some(function(n){n.getSimpleProvider()==e.provider&&(e.provider=="ec2"&&(t.findBy("name","api_key").set("value",n.apikey),t.findBy("name","api_secret").set("value","getsecretfromdb")),e.provider=="rackspace"&&(t.findBy("name","username").set("value",n.apikey),t.findBy("name","api_key").set("value","getsecretfromdb")),e.provider=="hpcloud"&&(t.findBy("name","username").set("value",n.apikey),t.findBy("name","password").set("value","getsecretfromdb"),t.findBy("name","tenant_name").set("value",n.tenant_name)))})},actions:{selectProvider:function(e,t){this.clear(),clearProviderFields(e),Mist.backendAddController.set("provider",e),$("#new-backend-provider").collapsible("collapse"),this.autocompleteCredentials(e)},selectRegion:function(e,t){t.set("value",e.id),this.set("selectedRegion",e.location),$("#region").collapsible("collapse");var n=this.get("providerFields"),r=n.findBy("name","title");r.set("value",r.defaultValue+" "+e.location)},uploadFile:function(e){Mist.fileUploadController.open("Upload "+e.label,e.label,function(t){t=t.trim(),e.set("value",t),$("#"+e.name).removeClass("ui-icon-plus").removeClass("ui-icon-check").addClass(t?"ui-icon-check":"ui-icon-plus")},e.value)},selectKey:function(e,t){$("#"+t.name).collapsible("collapse"),t.set("value",e.id||e),Ember.run.next(this,function(){this.$().trigger("create")})},createKeyClicked:function(e){Mist.keyAddController.open(function(t,n){t&&($("#"+e.name).collapsible("collapse"),$("#"+e.name+" .ui-listview").listview("refresh"),e.set("value",n.id))})},backClicked:function(){Mist.backendAddController.close()},addClicked:function(){Mist.backendAddController.add()},helpClicked:function(e){this.setProperties({helpText:e.helpText,helpHref:e.helpHref}),$("#help-tooltip").popup("option","positionTo","#"+e.helpId),Ember.run.later(function(){$("#help-tooltip").popup("open")},50)},switchToggled:function(e){var t=250,n=this.$().find("select").val()==1;n?($(".off").fadeOut(t),Ember.run.later(this,function(){$(".on").fadeIn(t)},t-50)):($(".on").fadeOut(t),Ember.run.later(this,function(){$(".off").fadeIn(t)},t-50)),e.name&&e.set("value",e.get((n?"on":"off")+"Value"))}}})}),define("app/views/backend_button",["app/views/templated"],function(e){return App.BackendButtonView=e.extend({backend:null,load:function(){this.renderBackends(),this.stateObserver()}.on("didInsertElement"),unload:function(){this.renderBackends()}.on("willDestroyElement"),renderBackends:function(){Ember.run.next(function(){$("#backend-buttons").controlgroup&&$("#backend-buttons").controlgroup("refresh")})},actions:{buttonClicked:function(){$("#backend-edit").popup("option","positionTo","#"+this.elementId),Mist.backendEditController.open(this.backend)}},stateObserver:function(){var e=$("#"+this.elementId+" a");e.addClass("ui-btn-icon-left").removeClass("ui-icon-check").removeClass("ui-icon-offline").removeClass("ui-icon-waiting"),this.backend.state=="online"?e.addClass("ui-icon-check"):this.backend.state=="offline"?e.addClass("ui-icon-offline"):this.backend.state=="waiting"&&e.addClass("ui-icon-waiting").removeClass("ui-btn-icon-left")}.observes("backend.state")})}),define("app/views/popup",["app/views/controlled","ember"],function(e){return e.extend({popupId:null,init:function(){this._super(),this.set("popupId",this.getWidgetID())},open:function(e){e&&$(this.popupId).popup("option","positionTo",e),$(this.popupId).popup("open")},close:function(){$(this.popupId).popup("close")}})}),define("app/views/backend_edit",["app/views/popup"],function(e){return App.BackendEditView=e.extend({open:function(){this._super(),$("#monitoring-message").hide(),$("#backend-delete-confirm").hide()},updateStateSlider:function(){var e=Mist.backendEditController.newState?"1":"0";$("#backend-toggle").val(e).slider("refresh")},actions:{stateToggleSwitched:function(){var e=parseInt($("#backend-toggle").val());Mist.backendEditController.set("newState",e)},deleteClicked:function(){Mist.backendEditController.backend.getMonitoredMachines.length?$("#monitoring-message").show():$("#monitoring-message").hide(),$("#backend-delete-confirm").slideDown()},yesClicked:function(){Mist.backendEditController.delete()},noClicked:function(){$("#backend-delete-confirm").slideUp()},backClicked:function(){Mist.backendEditController.close()}},newStateObserver:function(){Ember.run.once(this,"updateStateSlider")}.observes("Mist.backendEditController.newState")})}),define("app/views/dialog",["app/views/popup"],function(e){return App.DialogView=e.extend({isOK:function(){return Mist.dialogController.type==DIALOG_TYPES.OK}.property("Mist.dialogController.type"),isOKCancel:function(){return Mist.dialogController.type==DIALOG_TYPES.OK_CANCEL}.property("Mist.dialogController.type"),isYesNo:function(){return Mist.dialogController.type==DIALOG_TYPES.YES_NO}.property("Mist.dialogController.type"),isBack:function(){return Mist.dialogController.type==DIALOG_TYPES.BACK}.property("Mist.dialogController.type"),open:function(){Ember.run.later(this,function(){$(this.popupId).trigger("create").popup("reposition",{positionTo:"window"}).popup("open")},300)},actions:{reject:function(){Mist.dialogController.reject()},confirm:function(){Mist.dialogController.confirm()},linkClicked:function(e){e.closeDialog&&Mist.dialogController.close(),window.location=e.href},commandClicked:function(e){$(this.popupId+" .command-container").toArray().some(function(t){if(t.textContent.replace(/\s/g,"")==e.command.replace(/\s/g,""))return Mist.selectElementContents(t),!0})}}})}),define("app/views/file_upload",["app/views/templated","ember"],function(e){return App.FileUploadView=e.extend({actions:{uploadClicked:function(){window.File&&window.FileReader&&window.FileList?$("#file-upload-input").click():Mist.notificationController.notify("Your browser does not support the HTML5 file API")},uploadInputChanged:function(){Mist.fileUploadController.uploadFile({fileInput:$("#file-upload-input")[0]})},backClicked:function(){Mist.fileUploadController.close()},doneClicked:function(){Mist.fileUploadController.confirmUpload()}},fileObserver:function(){Mist.fileUploadController.file?$("#file-upload-ok").removeClass("ui-state-disabled"):$("#file-upload-ok").addClass("ui-state-disabled")}.observes("Mist.fileUploadController.file")})}),define("app/views/graph_button",["app/views/templated"],function(e){return App.GraphButtonView=e.extend({graph:null,buttonId:null,tagName:"span",actionProxy:null,load:function(){this.set("buttonId",this.graph.id+"-btn")}.on("didInsertElement"),isHiddenObserver:function(){this.graph.view.isHidden?$("#"+this.buttonId).show(400):$("#"+this.buttonId).hide(400)}.observes("graph.view.isHidden")})}),define("app/views/graph_list",["app/views/templated"],function(e){return App.GraphListView=e.extend({actionProxy:null})}),define("app/views/graph_list_bar",["app/views/templated"],function(e){return App.GraphListBarView=e.extend({machine:null,actionProxy:null,load:function(){try{this.set("machine",this.actionProxy.get("machine"))}catch(e){}}.on("didInsertElement")})}),define("app/views/graph_list_control",["app/views/templated"],function(e){return App.GraphListControlView=e.extend({selectedTimeWindow:"",timeWindowText:function(){if(Mist.graphsController.stream.isStreaming)return this.get("selectedTimeWindow")||"last 10 mins";var e=Mist.graphsController.fetchStatsArgs.from,t=Mist.graphsController.fetchStatsArgs.until;if(!e||!t)return"";var n=(new Date).getFullYear();return e=(new Date(e)).getPrettyDateTime(!0,!0),e=e.replace(", "+n,""),t=(new Date(t)).getPrettyDateTime(!0,!0),t=t.replace(", "+n,""),e+" - "+t}.property("Mist.graphsController.config.fetchStatsArgs","Mist.clock.second"),load:function(){Ember.run.next(this,function(){this.$().trigger("create")})}.on("didInsertElement"),_openRangeSelectionPopup:function(){Ember.run.later(this,function(){$("#pick-range").popup("open");var e=Mist.graphsController.fetchStatsArgs.until,t=e-Mist.graphsController.config.timeWindow;$("#pick-range #range-start").val((new Date(t))._toString()),$("#pick-range #range-stop").val((new Date(e))._toString())},300)},_closeRangeSelectionPopup:function(){$("#pick-range").popup("close")},_validateRange:function(e,t){if(e=="Invalid Date")return Mist.notificationController.timeNotify('Invalid Date: "From"',2e3),!1;if(t=="Invalid Date")return Mist.notificationController.timeNotify('Invalid Date: "To"',2e3),!1;if(t<=e)return Mist.notificationController.timeNotify("Invalid Range",2e3),!1;var n=TIME_MAP.SECOND*10*DISPLAYED_DATAPOINTS;return t-e<n?(Mist.notificationController.timeNotify("Range is too narrow. Must be at least: "+parseInt(n/TIME_MAP.MINUTE)+" mins.",3e3),!1):t.isFuture()?(Mist.notificationController.timeNotify('Invalid Date: "To"',2e3),!1):!0},actions:{timeWindowClicked:function(){$("#change-time-window").popup("open")},timeWindowChanged:function(e,t){$("#change-time-window").popup("close"),e=="range"?this._openRangeSelectionPopup():(Mist.graphsController.resolution.change(e),this.set("selectedTimeWindow",t))},rangeOkClicked:function(){function n(){this._closeRangeSelectionPopup()}var e=$("#pick-range #range-start").val(),t=$("#pick-range #range-stop").val();t.toLowerCase().trim()==="now"&&(t=Date.now()),e=new Date(e),t=new Date(t),this._validateRange(e,t)&&(Mist.graphsController.history.change({timeWindow:"range",from:e.getTime(),until:t.getTime()}),Mist.graphsController.one("onFetchStats",this,n),Mist.graphsController.one("onFetchStatsError",this,function(){Mist.graphsController.off("onFetchStats",this,n)}))},rangeBackClicked:function(){this._closeRangeSelectionPopup()},backClicked:function(){Mist.graphsController.history.goBack()},forwardClicked:function(){Mist.graphsController.history.goForward()}}})}),!function(){function e(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function t(e){return null!=e&&!isNaN(e)}function n(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}function r(e){return e.length}function i(e){for(var t=1;e*t%1;)t*=10;return t}function s(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function o(){}function u(e){return lu+e in this}function a(e){return e=lu+e,e in this&&delete this[e]}function f(){var e=[];return this.forEach(function(t){e.push(t)}),e}function l(){var e=0;for(var t in this)t.charCodeAt(0)===cu&&++e;return e}function c(){for(var e in this)if(e.charCodeAt(0)===cu)return!1;return!0}function h(){}function p(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function d(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,r=hu.length;r>n;++n){var i=hu[n]+t;if(i in e)return i}}function v(){}function m(){}function g(e){function t(){for(var t,r=n,i=-1,s=r.length;++i<s;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new o;return t.on=function(t,i){var s,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,s=n.indexOf(o)).concat(n.slice(s+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function y(){Ko.event.preventDefault()}function b(){for(var e,t=Ko.event;e=t.sourceEvent;)t=e;return t}function w(e){for(var t=new m,n=0,r=arguments.length;++n<r;)t[arguments[n]]=g(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=Ko.event;i.target=e,Ko.event=i,t[i.type].apply(n,r)}finally{Ko.event=s}}},t}function E(e){return du(e,bu),e}function S(e){return"function"==typeof e?e:function(){return vu(e,this)}}function x(e){return"function"==typeof e?e:function(){return mu(e,this)}}function T(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Ko.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?u:o:e.local?s:i}function N(e){return e.trim().replace(/\s+/g," ")}function C(e){return new RegExp("(?:^|\\s+)"+Ko.requote(e)+"(?:\\s+|$)","g")}function k(e){return e.trim().split(/^|\s+/)}function L(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=k(e).map(A);var i=e.length;return"function"==typeof t?r:n}function A(e){var t=C(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",N(i+" "+e))):n.setAttribute("class",N(i.replace(t," ")))}}function O(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?s:i}function M(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function _(e){return"function"==typeof e?e:(e=Ko.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function D(e){return{__data__:e}}function P(e){return function(){return yu(this,e)}}function H(t){return arguments.length||(t=e),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function B(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,s=e[n],o=0,u=s.length;u>o;o++)(i=s[o])&&t(i,o,n);return e}function j(e){return du(e,Eu),e}function F(e){var t,n;return function(r,i,s){var o,u=e[s].update,a=u.length;for(s!=n&&(n=s,t=0),i>=t&&(t=i+1);!(o=u[t])&&++t<a;);return o}}function I(){var e=this.__transition__;e&&++e.active}function q(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function i(){var i=a(t,Go(arguments));r.call(this),this.addEventListener(e,this[o]=i,i.$=n),i._=t}function s(){var t,n=new RegExp("^__on([^.]+)"+Ko.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+e,u=e.indexOf("."),a=R;u>0&&(e=e.substring(0,u));var f=xu.get(e);return f&&(e=f,a=U),u?t?i:r:t?v:s}function R(e,t){return function(n){var r=Ko.event;Ko.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Ko.event=r}}}function U(e,t){var n=R(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function z(){var e=".dragsuppress-"+ ++Nu,t="click"+e,n=Ko.select(eu).on("touchmove"+e,y).on("dragstart"+e,y).on("selectstart"+e,y);if(Tu){var r=Zo.style,i=r[Tu];r[Tu]="none"}return function(s){function o(){n.on(t,null)}n.on(e,null),Tu&&(r[Tu]=i),s&&(n.on(t,function(){y(),o()},!0),setTimeout(o,0))}}function W(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function X(){return Ko.event.changedTouches[0].identifier}function V(){return Ko.event.target}function $(){return eu}function J(e){return e>0?1:0>e?-1:0}function K(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Q(e){return e>1?0:-1>e?Cu:Math.acos(e)}function G(e){return e>1?Lu:-1>e?-Lu:Math.asin(e)}function Y(e){return((e=Math.exp(e))-1/e)/2}function Z(e){return((e=Math.exp(e))+1/e)/2}function et(e){return((e=Math.exp(2*e))-1)/(e+1)}function tt(e){return(e=Math.sin(e/2))*e}function nt(){}function rt(e,t,n){return new it(e,t,n)}function it(e,t,n){this.h=e,this.s=t,this.l=n}function st(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?s+(o-s)*e/60:180>e?o:240>e?s+(o-s)*(240-e)/60:s}function i(e){return Math.round(255*r(e))}var s,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,s=2*n-o,yt(i(e+120),i(e),i(e-120))}function ot(e,t,n){return new ut(e,t,n)}function ut(e,t,n){this.h=e,this.c=t,this.l=n}function at(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),ft(n,Math.cos(e*=Mu)*t,Math.sin(e)*t)}function ft(e,t,n){return new lt(e,t,n)}function lt(e,t,n){this.l=e,this.a=t,this.b=n}function ct(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=pt(i)*Uu,r=pt(r)*zu,s=pt(s)*Wu,yt(vt(3.2404542*i-1.5371385*r-.4985314*s),vt(-0.969266*i+1.8760108*r+.041556*s),vt(.0556434*i-.2040259*r+1.0572252*s))}function ht(e,t,n){return e>0?ot(Math.atan2(n,t)*_u,Math.sqrt(t*t+n*n),e):ot(0/0,0/0,e)}function pt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function dt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function vt(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function mt(e){return yt(e>>16,255&e>>8,255&e)}function gt(e){return mt(e)+""}function yt(e,t,n){return new bt(e,t,n)}function bt(e,t,n){this.r=e,this.g=t,this.b=n}function wt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Et(e,t,n){var r,i,s,o=0,u=0,a=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Nt(i[0]),Nt(i[1]),Nt(i[2]))}return(s=$u.get(e))?t(s.r,s.g,s.b):(null==e||"#"!==e.charAt(0)||isNaN(s=parseInt(e.substring(1),16))||(4===e.length?(o=(3840&s)>>4,o=o>>4|o,u=240&s,u=u>>4|u,a=15&s,a=a<<4|a):7===e.length&&(o=(16711680&s)>>16,u=(65280&s)>>8,a=255&s)),t(o,u,a))}function St(e,t,n){var r,i,s=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),u=o-s,a=(o+s)/2;return u?(i=.5>a?u/(o+s):u/(2-o-s),r=e==o?(t-n)/u+(n>t?6:0):t==o?(n-e)/u+2:(e-t)/u+4,r*=60):(r=0/0,i=a>0&&1>a?0:r),rt(r,i,a)}function xt(e,t,n){e=Tt(e),t=Tt(t),n=Tt(n);var r=dt((.4124564*e+.3575761*t+.1804375*n)/Uu),i=dt((.2126729*e+.7151522*t+.072175*n)/zu),s=dt((.0193339*e+.119192*t+.9503041*n)/Wu);return ft(116*i-16,500*(r-i),200*(i-s))}function Tt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Nt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ct(e){return"function"==typeof e?e:function(){return e}}function kt(e){return e}function Lt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),At(t,n,e,r)}}function At(e,t,n,r){function i(){var e,t=a.status;if(!t&&a.responseText||t>=200&&300>t||304===t){try{e=n.call(s,a)}catch(r){return o.error.call(s,r),void 0}o.load.call(s,e)}else o.error.call(s,a)}var s={},o=Ko.dispatch("beforesend","progress","load","error"),u={},a=new XMLHttpRequest,f=null;return!eu.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(e)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=i:a.onreadystatechange=function(){a.readyState>3&&i()},a.onprogress=function(e){var t=Ko.event;Ko.event=e;try{o.progress.call(s,a)}finally{Ko.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u[e]:(null==t?delete u[e]:u[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",s):t},s.responseType=function(e){return arguments.length?(f=e,s):f},s.response=function(e){return n=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(Go(arguments)))}}),s.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),a.open(n,e,!0),null==t||"accept"in u||(u.accept=t+",*/*"),a.setRequestHeader)for(var l in u)a.setRequestHeader(l,u[l]);return null!=t&&a.overrideMimeType&&a.overrideMimeType(t),null!=f&&(a.responseType=f),null!=i&&s.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(s,a),a.send(null==r?null:r),s},s.abort=function(){return a.abort(),s},Ko.rebind(s,o,"on"),null==r?s:s.get(Ot(r))}function Ot(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Mt(){var e=_t(),t=Dt()-e;t>24?(isFinite(t)&&(clearTimeout(Gu),Gu=setTimeout(Mt,t)),Qu=0):(Qu=1,Zu(Mt))}function _t(){var e=Date.now();for(Yu=Ju;Yu;)e>=Yu.t&&(Yu.f=Yu.c(e-Yu.t)),Yu=Yu.n;return e}function Dt(){for(var e,t=Ju,n=1/0;t;)t.f?t=e?e.n=t.n:Ju=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return Ku=e,n}function Pt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ht(e,t){var n=Math.pow(10,3*fu(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Bt(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,s=r?function(e){for(var t=e.length,i=[],s=0,o=r[0];t>0&&o>0;)i.push(e.substring(t-=o,t+o)),o=r[s=(s+1)%r.length];return i.reverse().join(n)}:kt;return function(e){var n=ta.exec(e),r=n[1]||" ",o=n[2]||">",u=n[3]||"",a=n[4]||"",f=n[5],l=+n[6],c=n[7],h=n[8],p=n[9],d=1,v="",m="",g=!1;switch(h&&(h=+h.substring(1)),(f||"0"===r&&"="===o)&&(f=r="0",o="=",c&&(l-=Math.floor((l-1)/4))),p){case"n":c=!0,p="g";break;case"%":d=100,m="%",p="f";break;case"p":d=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===a&&(v="0"+p.toLowerCase());case"c":case"d":g=!0,h=0;break;case"s":d=-1,p="r"}"$"===a&&(v=i[0],m=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=na.get(p)||jt;var y=f&&c;return function(e){var n=m;if(g&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):u;if(0>d){var a=Ko.formatPrefix(e,h);e=a.scale(e),n=a.symbol+m}else e*=d;e=p(e,h);var b=e.lastIndexOf("."),w=0>b?e:e.substring(0,b),E=0>b?"":t+e.substring(b+1);!f&&c&&(w=s(w));var S=v.length+w.length+E.length+(y?0:i.length),x=l>S?(new Array(S=l-S+1)).join(r):"";return y&&(w=s(x+w)),i+=v,e=w+E,("<"===o?i+e+x:">"===o?x+i+e:"^"===o?x.substring(0,S>>=1)+i+e+x.substring(S):i+(y?e:x+e))+n}}}function jt(e){return e+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function It(e,t,n){function r(t){var n=e(t),r=s(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new ia(n-1)),1),n}function s(e,n){return t(e=new ia(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)for(;r>o;)n(o)%s||u.push(new Date(+o)),t(o,1);else for(;r>o;)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{ia=Ft;var r=new Ft;return r._=e,o(r,t,n)}finally{ia=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=qt(e);return a.floor=a,a.round=qt(r),a.ceil=qt(i),a.offset=qt(s),a.range=u,e}function qt(e){return function(t,n){try{ia=Ft;var r=new Ft;return r._=t,e(r,n)._}finally{ia=Date}}}function Rt(e){function t(e){function t(t){for(var n,i,s,o=[],u=-1,a=0;++u<r;)37===e.charCodeAt(u)&&(o.push(e.substring(a,u)),null!=(i=oa[n=e.charAt(++u)])&&(n=e.charAt(++u)),(s=L[n])&&(n=s(t,null==i?"e"===n?" ":"0":i)),o.push(n),a=u+1);return o.push(e.substring(a,u)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var s=null!=r.Z&&ia!==Ft,o=new(s?Ft:ia);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),s?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,s,o,u=0,a=t.length,f=n.length;a>u;){if(r>=f)return-1;if(i=t.charCodeAt(u++),37===i){if(o=t.charAt(u++),s=A[o in oa?t.charAt(u++):o],!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){S.lastIndex=0;var r=S.exec(t.substring(n));return r?(e.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){w.lastIndex=0;var r=w.exec(t.substring(n));return r?(e.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,n){C.lastIndex=0;var r=C.exec(t.substring(n));return r?(e.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){T.lastIndex=0;var r=T.exec(t.substring(n));return r?(e.m=N.get(r[0].toLowerCase()),n+r[0].length):-1}function u(e,t,r){return n(e,L.c.toString(),t,r)}function a(e,t,r){return n(e,L.x.toString(),t,r)}function f(e,t,r){return n(e,L.X.toString(),t,r)}function l(e,t,n){var r=b.get(t.substring(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var c=e.dateTime,h=e.date,p=e.time,d=e.periods,v=e.days,m=e.shortDays,g=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{ia=Ft;var t=new ia;return t._=e,r(t)}finally{ia=Date}}var r=t(e);return n.parse=function(e){try{ia=Ft;var t=r.parse(e);return t&&t._}finally{ia=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=an;var b=Ko.map(),w=zt(v),E=Wt(v),S=zt(m),x=Wt(m),T=zt(g),N=Wt(g),C=zt(y),k=Wt(y);d.forEach(function(e,t){b.set(e.toLowerCase(),t)});var L={a:function(e){return m[e.getDay()]},A:function(e){return v[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return g[e.getMonth()]},c:t(c),d:function(e,t){return Ut(e.getDate(),t,2)},e:function(e,t){return Ut(e.getDate(),t,2)},H:function(e,t){return Ut(e.getHours(),t,2)},I:function(e,t){return Ut(e.getHours()%12||12,t,2)},j:function(e,t){return Ut(1+ra.dayOfYear(e),t,3)},L:function(e,t){return Ut(e.getMilliseconds(),t,3)},m:function(e,t){return Ut(e.getMonth()+1,t,2)},M:function(e,t){return Ut(e.getMinutes(),t,2)},p:function(e){return d[+(e.getHours()>=12)]},S:function(e,t){return Ut(e.getSeconds(),t,2)},U:function(e,t){return Ut(ra.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ut(ra.mondayOfYear(e),t,2)},x:t(h),X:t(p),y:function(e,t){return Ut(e.getFullYear()%100,t,2)},Y:function(e,t){return Ut(e.getFullYear()%1e4,t,4)},Z:on,"%":function(){return"%"}},A={a:r,A:i,b:s,B:o,c:u,d:Zt,e:Zt,H:tn,I:tn,j:en,L:sn,m:Yt,M:nn,p:l,S:rn,U:Vt,w:Xt,W:$t,x:a,X:f,y:Kt,Y:Jt,Z:Qt,"%":un};return t}function Ut(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",s=i.length;return r+(n>s?(new Array(n-s+1)).join(t)+i:i)}function zt(e){return new RegExp("^(?:"+e.map(Ko.requote).join("|")+")","i")}function Wt(e){for(var t=new o,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Xt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Vt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n));return r?(e.U=+r[0],n+r[0].length):-1}function $t(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n));return r?(e.W=+r[0],n+r[0].length):-1}function Jt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Kt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.y=Gt(+r[0]),n+r[0].length):-1}function Qt(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=-t,n+5):-1}function Gt(e){return e+(e>68?1900:2e3)}function Yt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Zt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function en(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function tn(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nn(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rn(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function sn(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function on(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(fu(t)/60),i=fu(t)%60;return n+Ut(r,"0",2)+Ut(i,"0",2)}function un(e,t,n){aa.lastIndex=0;var r=aa.exec(t.substring(n,n+1));return r?n+r[0].length:-1}function an(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function fn(){}function ln(e,t,n){var r=n.s=e+t,i=r-e,s=r-i;n.t=e-s+(t-i)}function cn(e,t){e&&ha.hasOwnProperty(e.type)&&ha[e.type](e,t)}function hn(e,t,n){var r,i=-1,s=e.length-n;for(t.lineStart();++i<s;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function pn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)hn(e[n],t,1);t.polygonEnd()}function dn(){function e(e,t){e*=Mu,t=t*Mu/2+Cu/4;var n=e-r,o=n>=0?1:-1,u=o*n,a=Math.cos(t),f=Math.sin(t),l=s*f,c=i*a+l*Math.cos(u),h=l*o*Math.sin(u);da.add(Math.atan2(h,c)),r=e,i=a,s=f}var t,n,r,i,s;va.point=function(o,u){va.point=e,r=(t=o)*Mu,i=Math.cos(u=(n=u)*Mu/2+Cu/4),s=Math.sin(u)},va.lineEnd=function(){e(t,n)}}function vn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function mn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function bn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function wn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function En(e){return[Math.atan2(e[1],e[0]),G(e[2])]}function Sn(e,t){return fu(e[0]-t[0])<Au&&fu(e[1]-t[1])<Au}function xn(e,t){e*=Mu;var n=Math.cos(t*=Mu);Tn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Tn(e,t,n){++ma,ya+=(e-ya)/ma,ba+=(t-ba)/ma,wa+=(n-wa)/ma}function Nn(){function e(e,i){e*=Mu;var s=Math.cos(i*=Mu),o=s*Math.cos(e),u=s*Math.sin(e),a=Math.sin(i),f=Math.atan2(Math.sqrt((f=n*a-r*u)*f+(f=r*o-t*a)*f+(f=t*u-n*o)*f),t*o+n*u+r*a);ga+=f,Ea+=f*(t+(t=o)),Sa+=f*(n+(n=u)),xa+=f*(r+(r=a)),Tn(t,n,r)}var t,n,r;ka.point=function(i,s){i*=Mu;var o=Math.cos(s*=Mu);t=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(s),ka.point=e,Tn(t,n,r)}}function Cn(){ka.point=xn}function kn(){function e(e,t){e*=Mu;var n=Math.cos(t*=Mu),o=n*Math.cos(e),u=n*Math.sin(e),a=Math.sin(t),f=i*a-s*u,l=s*o-r*a,c=r*u-i*o,h=Math.sqrt(f*f+l*l+c*c),p=r*o+i*u+s*a,d=h&&-Q(p)/h,v=Math.atan2(h,p);Ta+=d*f,Na+=d*l,Ca+=d*c,ga+=v,Ea+=v*(r+(r=o)),Sa+=v*(i+(i=u)),xa+=v*(s+(s=a)),Tn(r,i,s)}var t,n,r,i,s;ka.point=function(o,u){t=o,n=u,ka.point=e,o*=Mu;var a=Math.cos(u*=Mu);r=a*Math.cos(o),i=a*Math.sin(o),s=Math.sin(u),Tn(r,i,s)},ka.lineEnd=function(){e(t,n),ka.lineEnd=Cn,ka.point=xn}}function Ln(){return!0}function An(e,t,n,r,i){var s=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Sn(n,r)){i.lineStart();for(var u=0;t>u;++u)i.point((n=e[u])[0],n[1]);return i.lineEnd(),void 0}var a=new Mn(n,e,null,!0),f=new Mn(n,null,a,!1);a.o=f,s.push(a),o.push(f),a=new Mn(r,e,null,!1),f=new Mn(r,null,a,!0),a.o=f,s.push(a),o.push(f)}}),o.sort(t),On(s),On(o),s.length){for(var u=0,a=n,f=o.length;f>u;++u)o[u].e=a=!a;for(var l,c,h=s[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var u=0,f=l.length;f>u;++u)i.point((c=l[u])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){l=p.p.z;for(var u=l.length-1;u>=0;--u)i.point((c=l[u])[0],c[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);i.lineEnd()}}}function On(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Mn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function _n(e,t,n,r){return function(i,s){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&s.point(t,n)}function u(e,t){var n=i(e,t);m.point(n[0],n[1])}function a(){y.point=u,m.lineStart()}function f(){y.point=o,m.lineEnd()}function l(e,t){v.push([e,t]);var n=i(e,t);w.point(n[0],n[1])}function c(){w.lineStart(),v=[]}function h(){l(v[0][0],v[0][1]),w.lineEnd();var e,t=w.clean(),n=b.buffer(),r=n.length;if(v.pop(),d.push(v),v=null,r)if(1&t){e=n[0];var i,r=e.length-1,o=-1;if(r>0){for(E||(s.polygonStart(),E=!0),s.lineStart();++o<r;)s.point((i=e[o])[0],i[1]);s.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Dn))}var p,d,v,m=t(s),g=i.invert(r[0],r[1]),y={point:o,lineStart:a,lineEnd:f,polygonStart:function(){y.point=l,y.lineStart=c,y.lineEnd=h,p=[],d=[]},polygonEnd:function(){y.point=o,y.lineStart=a,y.lineEnd=f,p=Ko.merge(p);var e=Bn(g,d);p.length?(E||(s.polygonStart(),E=!0),An(p,Hn,e,n,s)):e&&(E||(s.polygonStart(),E=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),E&&(s.polygonEnd(),E=!1),p=d=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}},b=Pn(),w=t(b),E=!1;return y}}function Dn(e){return e.length>1}function Pn(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:v,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Hn(e,t){return((e=e.x)[0]<0?e[1]-Lu-Au:Lu-e[1])-((t=t.x)[0]<0?t[1]-Lu-Au:Lu-t[1])}function Bn(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],s=0,o=0;da.reset();for(var u=0,a=t.length;a>u;++u){var f=t[u],l=f.length;if(l)for(var c=f[0],h=c[0],p=c[1]/2+Cu/4,d=Math.sin(p),v=Math.cos(p),m=1;;){m===l&&(m=0),e=f[m];var g=e[0],y=e[1]/2+Cu/4,b=Math.sin(y),w=Math.cos(y),E=g-h,S=E>=0?1:-1,x=S*E,T=x>Cu,N=d*b;if(da.add(Math.atan2(N*S*Math.sin(x),v*w+N*Math.cos(x))),s+=T?E+S*ku:E,T^h>=n^g>=n){var C=gn(vn(c),vn(e));wn(C);var k=gn(i,C);wn(k);var L=(T^E>=0?-1:1)*G(k[2]);(r>L||r===L&&(C[0]||C[1]))&&(o+=T^E>=0?1:-1)}if(!(m++))break;h=g,d=b,v=w,c=e}}return(-Au>s||Au>s&&0>da)^1&o}function jn(e){var t,n=0/0,r=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(s,o){var u=s>0?Cu:-Cu,a=fu(s-n);fu(a-Cu)<Au?(e.point(n,r=(r+o)/2>0?Lu:-Lu),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(s,r),t=0):i!==u&&a>=Cu&&(fu(n-i)<Au&&(n-=i*Au),fu(s-u)<Au&&(s-=u*Au),r=Fn(n,r,s,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=s,r=o),i=u},lineEnd:function(){e.lineEnd(),n=r=0/0},clean:function(){return 2-t}}}function Fn(e,t,n,r){var i,s,o=Math.sin(e-n);return fu(o)>Au?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function In(e,t,n,r){var i;if(null==e)i=n*Lu,r.point(-Cu,i),r.point(0,i),r.point(Cu,i),r.point(Cu,0),r.point(Cu,-i),r.point(0,-i),r.point(-Cu,-i),r.point(-Cu,0),r.point(-Cu,i);else if(fu(e[0]-t[0])>Au){var s=e[0]<t[0]?Cu:-Cu;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function qn(e){function t(e,t){return Math.cos(e)*Math.cos(t)>s}function n(e){var n,s,a,f,l;return{lineStart:function(){f=a=!1,l=1},point:function(c,h){var p,d=[c,h],v=t(c,h),m=o?v?0:i(c,h):v?i(c+(0>c?Cu:-Cu),h):0;if(!n&&(f=a=v)&&e.lineStart(),v!==a&&(p=r(n,d),(Sn(n,p)||Sn(d,p))&&(d[0]+=Au,d[1]+=Au,v=t(d[0],d[1]))),v!==a)l=0,v?(e.lineStart(),p=r(d,n),e.point(p[0],p[1])):(p=r(n,d),e.point(p[0],p[1]),e.lineEnd()),n=p;else if(u&&n&&o^v){var g;m&s||!(g=r(d,n,!0))||(l=0,o?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!v||n&&Sn(n,d)||e.point(d[0],d[1]),n=d,a=v,s=m},lineEnd:function(){a&&e.lineEnd(),n=null},clean:function(){return l|(f&&a)<<1}}}function r(e,t,n){var r=vn(e),i=vn(t),o=[1,0,0],u=gn(r,i),a=mn(u,u),f=u[0],l=a-f*f;if(!l)return!n&&e;var c=s*a/l,h=-s*f/l,p=gn(o,u),d=bn(o,c),v=bn(u,h);yn(d,v);var m=p,g=mn(d,m),y=mn(m,m),b=g*g-y*(mn(d,d)-1);if(!(0>b)){var w=Math.sqrt(b),E=bn(m,(-g-w)/y);if(yn(E,d),E=En(E),!n)return E;var S,x=e[0],T=t[0],N=e[1],C=t[1];x>T&&(S=x,x=T,T=S);var k=T-x,L=fu(k-Cu)<Au,A=L||Au>k;if(!L&&N>C&&(S=N,N=C,C=S),A?L?N+C>0^E[1]<(fu(E[0]-x)<Au?N:C):N<=E[1]&&E[1]<=C:k>Cu^(x<=E[0]&&E[0]<=T)){var O=bn(m,(-g+w)/y);return yn(O,d),[E,En(O)]}}}function i(t,n){var r=o?e:Cu-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var s=Math.cos(e),o=s>0,u=fu(s)>Au,a=dr(e,6*Mu);return _n(t,n,a,o?[0,-e]:[-Cu,e-Cu])}function Rn(e,t,n,r){return function(i){var s,o=i.a,u=i.b,a=o.x,f=o.y,l=u.x,c=u.y,h=0,p=1,d=l-a,v=c-f;if(s=e-a,d||!(s>0)){if(s/=d,0>d){if(h>s)return;p>s&&(p=s)}else if(d>0){if(s>p)return;s>h&&(h=s)}if(s=n-a,d||!(0>s)){if(s/=d,0>d){if(s>p)return;s>h&&(h=s)}else if(d>0){if(h>s)return;p>s&&(p=s)}if(s=t-f,v||!(s>0)){if(s/=v,0>v){if(h>s)return;p>s&&(p=s)}else if(v>0){if(s>p)return;s>h&&(h=s)}if(s=r-f,v||!(0>s)){if(s/=v,0>v){if(s>p)return;s>h&&(h=s)}else if(v>0){if(h>s)return;p>s&&(p=s)}return h>0&&(i.a={x:a+h*d,y:f+h*v}),1>p&&(i.b={x:a+p*d,y:f+p*v}),i}}}}}}function Un(e,t,n,r){function i(r,i){return fu(r[0]-e)<Au?i>0?0:3:fu(r[0]-n)<Au?i>0?2:1:fu(r[1]-t)<Au?i>0?1:0:i>0?3:2}function s(e,t){return o(e.x,t.x)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(u){function a(e){for(var t=0,n=m.length,r=e[1],i=0;n>i;++i)for(var s,o=1,u=m[i],a=u.length,f=u[0];a>o;++o)s=u[o],f[1]<=r?s[1]>r&&K(f,s,e)>0&&++t:s[1]<=r&&K(f,s,e)<0&&--t,f=s;return 0!==t}function f(s,u,a,f){var l=0,c=0;if(null==s||(l=i(s,a))!==(c=i(u,a))||o(s,u)<0^a>0){do f.point(0===l||3===l?e:n,l>1?r:t);while((l=(l+a+4)%4)!==c)}else f.point(u[0],u[1])}function l(i,s){return i>=e&&n>=i&&s>=t&&r>=s}function c(e,t){l(e,t)&&u.point(e,t)}function h(){A.point=d,m&&m.push(g=[]),T=!0,x=!1,E=S=0/0}function p(){v&&(d(y,b),w&&x&&k.rejoin(),v.push(k.buffer())),A.point=c,x&&u.lineEnd()}function d(e,t){e=Math.max(-Aa,Math.min(Aa,e)),t=Math.max(-Aa,Math.min(Aa,t));var n=l(e,t);if(m&&g.push([e,t]),T)y=e,b=t,w=n,T=!1,n&&(u.lineStart(),u.point(e,t));else if(n&&x)u.point(e,t);else{var r={a:{x:E,y:S},b:{x:e,y:t}};L(r)?(x||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),N=!1):n&&(u.lineStart(),u.point(e,t),N=!1)}E=e,S=t,x=n}var v,m,g,y,b,w,E,S,x,T,N,C=u,k=Pn(),L=Rn(e,t,n,r),A={point:c,lineStart:h,lineEnd:p,polygonStart:function(){u=k,v=[],m=[],N=!0},polygonEnd:function(){u=C,v=Ko.merge(v);var t=a([e,r]),n=N&&t,i=v.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),f(null,null,1,u),u.lineEnd()),i&&An(v,s,t,f,u),u.polygonEnd()),v=m=g=null}};return A}}function zn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Wn(e){var t=0,n=Cu/3,r=or(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Cu/180,n=e[1]*Cu/180):[180*(t/Cu),180*(n/Cu)]},i}function Xn(e,t){function n(e,t){var n=Math.sqrt(s-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,s=1+r*(2*i-r),o=Math.sqrt(s)/i;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,G((s-(e*e+n*n)*i*i)/(2*i))]},n}function Vn(){function e(e,t){Ma+=i*e-r*t,r=e,i=t}var t,n,r,i;Ba.point=function(s,o){Ba.point=e,t=r=s,n=i=o},Ba.lineEnd=function(){e(t,n)}}function $n(e,t){_a>e&&(_a=e),e>Pa&&(Pa=e),Da>t&&(Da=t),t>Ha&&(Ha=t)}function Jn(){function e(e,t){o.push("M",e,",",t,s)}function t(e,t){o.push("M",e,",",t),u.point=n}function n(e,t){o.push("L",e,",",t)}function r(){u.point=e}function i(){o.push("Z")}var s=Kn(4.5),o=[],u={point:e,lineStart:function(){u.point=t},lineEnd:r,polygonStart:function(){u.lineEnd=i},polygonEnd:function(){u.lineEnd=r,u.point=e},pointRadius:function(e){return s=Kn(e),u},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return u}function Kn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Qn(e,t){ya+=e,ba+=t,++wa}function Gn(){function e(e,r){var i=e-t,s=r-n,o=Math.sqrt(i*i+s*s);Ea+=o*(t+e)/2,Sa+=o*(n+r)/2,xa+=o,Qn(t=e,n=r)}var t,n;Fa.point=function(r,i){Fa.point=e,Qn(t=r,n=i)}}function Yn(){Fa.point=Qn}function Zn(){function e(e,t){var n=e-r,s=t-i,o=Math.sqrt(n*n+s*s);Ea+=o*(r+e)/2,Sa+=o*(i+t)/2,xa+=o,o=i*e-r*t,Ta+=o*(r+e),Na+=o*(i+t),Ca+=3*o,Qn(r=e,i=t)}var t,n,r,i;Fa.point=function(s,o){Fa.point=e,Qn(t=r=s,n=i=o)},Fa.lineEnd=function(){e(t,n)}}function er(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,o,0,ku)}function n(t,n){e.moveTo(t,n),u.point=r}function r(t,n){e.lineTo(t,n)}function i(){u.point=t}function s(){e.closePath()}var o=4.5,u={point:t,lineStart:function(){u.point=n},lineEnd:i,polygonStart:function(){u.lineEnd=s},polygonEnd:function(){u.lineEnd=i,u.point=t},pointRadius:function(e){return o=e,u},result:v};return u}function tr(e){function t(e){return(u?r:n)(e)}function n(t){return ir(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=0/0,T.point=s,t.lineStart()}function s(n,r){var s=vn([n,r]),o=e(n,r);i(b,w,y,E,S,x,b=o[0],w=o[1],y=n,E=s[0],S=s[1],x=s[2],u,t),t.point(b,w)}function o(){T.point=n,t.lineEnd()}function a(){r(),T.point=f,T.lineEnd=l}function f(e,t){s(c=e,h=t),p=b,d=w,v=E,m=S,g=x,T.point=s}function l(){i(b,w,y,E,S,x,p,d,c,v,m,g,u,t),T.lineEnd=o,o()}var c,h,p,d,v,m,g,y,b,w,E,S,x,T={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),T.lineStart=a},polygonEnd:function(){t.polygonEnd(),T.lineStart=r}};return T}function i(t,n,r,u,a,f,l,c,h,p,d,v,m,g){var y=l-t,b=c-n,w=y*y+b*b;if(w>4*s&&m--){var E=u+p,S=a+d,x=f+v,T=Math.sqrt(E*E+S*S+x*x),N=Math.asin(x/=T),C=fu(fu(x)-1)<Au||fu(r-h)<Au?(r+h)/2:Math.atan2(S,E),k=e(C,N),L=k[0],A=k[1],O=L-t,M=A-n,_=b*O-y*M;(_*_/w>s||fu((y*O+b*M)/w-.5)>.3||o>u*p+a*d+f*v)&&(i(t,n,r,u,a,f,L,A,C,E/=T,S/=T,x,m,g),g.point(L,A),i(L,A,C,E,S,x,l,c,h,p,d,v,m,g))}}var s=.5,o=Math.cos(30*Mu),u=16;return t.precision=function(e){return arguments.length?(u=(s=e*e)>0&&16,t):Math.sqrt(s)},t}function nr(e){var t=tr(function(t,n){return e([t*_u,n*_u])});return function(e){return ur(t(e))}}function rr(e){this.stream=e}function ir(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function sr(e){return or(function(){return e})()}function or(e){function t(e){return e=u(e[0]*Mu,e[1]*Mu),[e[0]*h+a,f-e[1]*h]}function n(e){return e=u.invert((e[0]-a)/h,(f-e[1])/h),e&&[e[0]*_u,e[1]*_u]}function r(){u=zn(o=lr(g,y,b),s);var e=s(v,m);return a=p-e[0]*h,f=d+e[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),t}var s,o,u,a,f,l,c=tr(function(e,t){return e=s(e,t),[e[0]*h+a,f-e[1]*h]}),h=150,p=480,d=250,v=0,m=0,g=0,y=0,b=0,w=La,E=kt,S=null,x=null;return t.stream=function(e){return l&&(l.valid=!1),l=ur(w(o,c(E(e)))),l.valid=!0,l},t.clipAngle=function(e){return arguments.length?(w=null==e?(S=e,La):qn((S=+e)*Mu),i()):S},t.clipExtent=function(e){return arguments.length?(x=e,E=e?Un(e[0][0],e[0][1],e[1][0],e[1][1]):kt,i()):x},t.scale=function(e){return arguments.length?(h=+e,r()):h},t.translate=function(e){return arguments.length?(p=+e[0],d=+e[1],r()):[p,d]},t.center=function(e){return arguments.length?(v=e[0]%360*Mu,m=e[1]%360*Mu,r()):[v*_u,m*_u]},t.rotate=function(e){return arguments.length?(g=e[0]%360*Mu,y=e[1]%360*Mu,b=e.length>2?e[2]%360*Mu:0,r()):[g*_u,y*_u,b*_u]},Ko.rebind(t,c,"precision"),function(){return s=e.apply(this,arguments),t.invert=s.invert&&n,r()}}function ur(e){return ir(e,function(t,n){e.point(t*Mu,n*Mu)})}function ar(e,t){return[e,t]}function fr(e,t){return[e>Cu?e-ku:-Cu>e?e+ku:e,t]}function lr(e,t,n){return e?t||n?zn(hr(e),pr(t,n)):hr(e):t||n?pr(t,n):fr}function cr(e){return function(t,n){return t+=e,[t>Cu?t-ku:-Cu>t?t+ku:t,n]}}function hr(e){var t=cr(e);return t.invert=cr(-e),t}function pr(e,t){function n(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*r+u*i;return[Math.atan2(a*s-l*o,u*r-f*i),G(l*s+a*o)]}var r=Math.cos(e),i=Math.sin(e),s=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*s-a*o;return[Math.atan2(a*s+f*o,u*r+l*i),G(l*r-u*i)]},n}function dr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,o,u){var a=o*t;null!=i?(i=vr(n,i),s=vr(n,s),(o>0?s>i:i>s)&&(i+=o*ku)):(i=e+o*ku,s=e-.5*a);for(var f,l=i;o>0?l>s:s>l;l-=a)u.point((f=En([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}function vr(e,t){var n=vn(t);n[0]-=e,wn(n);var r=Q(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Au)%(2*Math.PI)}function mr(e,t,n){var r=Ko.range(e,t-Au,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function gr(e,t,n){var r=Ko.range(e,t-Au,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function yr(e){return e.source}function br(e){return e.target}function wr(e,t,n,r){var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),a=i*Math.cos(e),f=i*Math.sin(e),l=o*Math.cos(n),c=o*Math.sin(n),h=2*Math.asin(Math.sqrt(tt(r-t)+i*o*tt(n-e))),p=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*l,i=n*f+t*c,o=n*s+t*u;return[Math.atan2(i,r)*_u,Math.atan2(o,Math.sqrt(r*r+i*i))*_u]}:function(){return[e*_u,t*_u]};return d.distance=h,d}function Er(){function e(e,i){var s=Math.sin(i*=Mu),o=Math.cos(i),u=fu((e*=Mu)-t),a=Math.cos(u);Ia+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=r*s-n*o*a)*u),n*s+r*o*a),t=e,n=s,r=o}var t,n,r;qa.point=function(i,s){t=i*Mu,n=Math.sin(s*=Mu),r=Math.cos(s),qa.point=e},qa.lineEnd=function(){qa.point=qa.lineEnd=v}}function Sr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]},n}function xr(e,t){function n(e,t){o>0?-Lu+Au>t&&(t=-Lu+Au):t>Lu-Au&&(t=Lu-Au);var n=o/Math.pow(i(t),s);return[n*Math.sin(s*e),o-n*Math.cos(s*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Cu/4+e/2)},s=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),s)/s;return s?(n.invert=function(e,t){var n=o-t,r=J(s)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/s,2*Math.atan(Math.pow(o/r,1/s))-Lu]},n):Nr}function Tr(e,t){function n(e,t){var n=s-t;return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),s=r/i+e;return fu(i)<Au?ar:(n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/i,s-J(i)*Math.sqrt(e*e+n*n)]},n)}function Nr(e,t){return[e,Math.log(Math.tan(Cu/4+t/2))]}function Cr(e){var t,n=sr(e),r=n.scale,i=n.translate,s=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=s.apply(n,arguments);if(o===n){if(t=null==e){var u=Cu*r(),a=i();s([[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]])}}else t&&(o=null);return o},n.clipExtent(null)}function kr(e,t){return[Math.log(Math.tan(Cu/4+t/2)),-e]}function Lr(e){return e[0]}function Ar(e){return e[1]}function Or(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&K(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Mr(e,t){return e[0]-t[0]||e[1]-t[1]}function _r(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Dr(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function Pr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Hr(){ni(this),this.edge=this.site=this.circle=null}function Br(e){var t=Ya.pop()||new Hr;return t.site=e,t}function jr(e){$r(e),Ka.remove(e),Ya.push(e),ni(e)}function Fr(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},s=e.P,o=e.N,u=[e];jr(e);for(var a=s;a.circle&&fu(n-a.circle.x)<Au&&fu(r-a.circle.cy)<Au;)s=a.P,u.unshift(a),jr(a),a=s;u.unshift(a),$r(a);for(var f=o;f.circle&&fu(n-f.circle.x)<Au&&fu(r-f.circle.cy)<Au;)o=f.N,u.push(f),jr(f),f=o;u.push(f),$r(f);var l,c=u.length;for(l=1;c>l;++l)f=u[l],a=u[l-1],Zr(f.edge,a.site,f.site,i);a=u[0],f=u[c-1],f.edge=Gr(a.site,f.site,null,i),Vr(a),Vr(f)}function Ir(e){for(var t,n,r,i,s=e.x,o=e.y,u=Ka._;u;)if(r=qr(u,o)-s,r>Au)u=u.L;else{if(i=s-Rr(u,o),!(i>Au)){r>-Au?(t=u.P,n=u):i>-Au?(t=u,n=u.N):t=n=u;break}if(!u.R){t=u;break}u=u.R}var a=Br(e);if(Ka.insert(t,a),t||n){if(t===n)return $r(t),n=Br(t.site),Ka.insert(a,n),a.edge=n.edge=Gr(t.site,a.site),Vr(t),Vr(n),void 0;if(!n)return a.edge=Gr(t.site,a.site),void 0;$r(t),$r(n);var f=t.site,l=f.x,c=f.y,h=e.x-l,p=e.y-c,d=n.site,v=d.x-l,m=d.y-c,g=2*(h*m-p*v),y=h*h+p*p,b=v*v+m*m,w={x:(m*y-p*b)/g+l,y:(h*b-v*y)/g+c};Zr(n.edge,f,d,w),a.edge=Gr(f,e,null,w),n.edge=Gr(e,d,null,w),Vr(t),Vr(n)}}function qr(e,t){var n=e.site,r=n.x,i=n.y,s=i-t;if(!s)return r;var o=e.P;if(!o)return-1/0;n=o.site;var u=n.x,a=n.y,f=a-t;if(!f)return u;var l=u-r,c=1/s-1/f,h=l/f;return c?(-h+Math.sqrt(h*h-2*c*(l*l/(-2*f)-a+f/2+i-s/2)))/c+r:(r+u)/2}function Rr(e,t){var n=e.N;if(n)return qr(n,t);var r=e.site;return r.y===t?r.x:1/0}function Ur(e){this.site=e,this.edges=[]}function zr(e){for(var t,n,r,i,s,o,u,a,f,l,c=e[0][0],h=e[1][0],p=e[0][1],d=e[1][1],v=Ja,m=v.length;m--;)if(s=v[m],s&&s.prepare())for(u=s.edges,a=u.length,o=0;a>o;)l=u[o].end(),r=l.x,i=l.y,f=u[++o%a].start(),t=f.x,n=f.y,(fu(r-t)>Au||fu(i-n)>Au)&&(u.splice(o,0,new ei(Yr(s.site,l,fu(r-c)<Au&&d-i>Au?{x:c,y:fu(t-c)<Au?n:d}:fu(i-d)<Au&&h-r>Au?{x:fu(n-d)<Au?t:h,y:d}:fu(r-h)<Au&&i-p>Au?{x:h,y:fu(t-h)<Au?n:p}:fu(i-p)<Au&&r-c>Au?{x:fu(n-p)<Au?t:c,y:p}:null),s.site,null)),++a)}function Wr(e,t){return t.angle-e.angle}function Xr(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,s=n.site;if(r!==s){var o=i.x,u=i.y,a=r.x-o,f=r.y-u,l=s.x-o,c=s.y-u,h=2*(a*c-f*l);if(!(h>=-Ou)){var p=a*a+f*f,d=l*l+c*c,v=(c*p-f*d)/h,m=(a*d-l*p)/h,c=m+u,g=Za.pop()||new Xr;g.arc=e,g.site=i,g.x=v+o,g.y=c+Math.sqrt(v*v+m*m),g.cy=c,e.circle=g;for(var y=null,b=Ga._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Ga.insert(y,g),y||(Qa=g)}}}}function $r(e){var t=e.circle;t&&(t.P||(Qa=t.N),Ga.remove(t),Za.push(t),ni(t),e.circle=null)}function Jr(e){for(var t,n=$a,r=Rn(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Kr(t,e)||!r(t)||fu(t.a.x-t.b.x)<Au&&fu(t.a.y-t.b.y)<Au)&&(t.a=t.b=null,n.splice(i,1))}function Kr(e,t){var n=e.b;if(n)return!0;var r,i,s=e.a,o=t[0][0],u=t[1][0],a=t[0][1],f=t[1][1],l=e.l,c=e.r,h=l.x,p=l.y,d=c.x,v=c.y,m=(h+d)/2,g=(p+v)/2;if(v===p){if(o>m||m>=u)return;if(h>d){if(s){if(s.y>=f)return}else s={x:m,y:a};n={x:m,y:f}}else{if(s){if(s.y<a)return}else s={x:m,y:f};n={x:m,y:a}}}else if(r=(h-d)/(v-p),i=g-r*m,-1>r||r>1)if(h>d){if(s){if(s.y>=f)return}else s={x:(a-i)/r,y:a};n={x:(f-i)/r,y:f}}else{if(s){if(s.y<a)return}else s={x:(f-i)/r,y:f};n={x:(a-i)/r,y:a}}else if(v>p){if(s){if(s.x>=u)return}else s={x:o,y:r*o+i};n={x:u,y:r*u+i}}else{if(s){if(s.x<o)return}else s={x:u,y:r*u+i};n={x:o,y:r*o+i}}return e.a=s,e.b=n,!0}function Qr(e,t){this.l=e,this.r=t,this.a=this.b=null}function Gr(e,t,n,r){var i=new Qr(e,t);return $a.push(i),n&&Zr(i,e,t,n),r&&Zr(i,t,e,r),Ja[e.i].edges.push(new ei(i,e,t)),Ja[t.i].edges.push(new ei(i,t,e)),i}function Yr(e,t,n){var r=new Qr(e,null);return r.a=t,r.b=n,$a.push(r),r}function Zr(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ei(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ti(){this._=null}function ni(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ri(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ii(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function si(e){for(;e.L;)e=e.L;return e}function oi(e,t){var n,r,i,s=e.sort(ui).pop();for($a=[],Ja=new Array(e.length),Ka=new ti,Ga=new ti;;)if(i=Qa,s&&(!i||s.y<i.y||s.y===i.y&&s.x<i.x))(s.x!==n||s.y!==r)&&(Ja[s.i]=new Ur(s),Ir(s),n=s.x,r=s.y),s=e.pop();else{if(!i)break;Fr(i.arc)}t&&(Jr(t),zr(t));var o={cells:Ja,edges:$a};return Ka=Ga=$a=Ja=null,o}function ui(e,t){return t.y-e.y||t.x-e.x}function ai(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function fi(e){return e.x}function li(e){return e.y}function ci(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hi(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=.5*(n+i),u=.5*(r+s),a=t.nodes;a[0]&&hi(e,a[0],n,r,o,u),a[1]&&hi(e,a[1],o,r,i,u),a[2]&&hi(e,a[2],n,u,o,s),a[3]&&hi(e,a[3],o,u,i,s)}}function pi(e,t){e=Ko.rgb(e),t=Ko.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+wt(Math.round(n+s*e))+wt(Math.round(r+o*e))+wt(Math.round(i+u*e))}}function di(e,t){var n,r={},i={};for(n in e)n in t?r[n]=gi(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function vi(e,t){return t-=e=+e,function(n){return e+t*n}}function mi(e,t){var n,r,i,s=tf.lastIndex=nf.lastIndex=0,o=-1,u=[],a=[];for(e+="",t+="";(n=tf.exec(e))&&(r=nf.exec(t));)(i=r.index)>s&&(i=t.substring(s,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,a.push({i:o,x:vi(n,r)})),s=nf.lastIndex;return s<t.length&&(i=t.substring(s),u[o]?u[o]+=i:u[++o]=i),u.length<2?a[0]?(t=a[0].x,function(e){return t(e)+""}):function(){return t}:(t=a.length,function(e){for(var n,r=0;t>r;++r)u[(n=a[r]).i]=n.x(e);return u.join("")})}function gi(e,t){for(var n,r=Ko.interpolators.length;--r>=0&&!(n=Ko.interpolators[r](e,t)););return n}function yi(e,t){var n,r=[],i=[],s=e.length,o=t.length,u=Math.min(e.length,t.length);for(n=0;u>n;++n)r.push(gi(e[n],t[n]));for(;s>n;++n)i[n]=e[n];for(;o>n;++n)i[n]=t[n];return function(e){for(n=0;u>n;++n)i[n]=r[n](e);return i}}function bi(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function wi(e){return function(t){return 1-e(1-t)}}function Ei(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Si(e){return e*e}function xi(e){return e*e*e}function Ti(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Ni(e){return function(t){return Math.pow(t,e)}}function Ci(e){return 1-Math.cos(e*Lu)}function ki(e){return Math.pow(2,10*(e-1))}function Li(e){return 1-Math.sqrt(1-e*e)}function Ai(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/ku*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*ku/t)}}function Oi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Mi(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function _i(e,t){e=Ko.hcl(e),t=Ko.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return at(n+s*e,r+o*e,i+u*e)+""}}function Di(e,t){e=Ko.hsl(e),t=Ko.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return st(n+s*e,r+o*e,i+u*e)+""}}function Pi(e,t){e=Ko.lab(e),t=Ko.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return ct(n+s*e,r+o*e,i+u*e)+""}}function Hi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Bi(e){var t=[e.a,e.b],n=[e.c,e.d],r=Fi(t),i=ji(t,n),s=Fi(Ii(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*_u,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*_u:0}function ji(e,t){return e[0]*t[0]+e[1]*t[1]}function Fi(e){var t=Math.sqrt(ji(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Ii(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function qi(e,t){var n,r=[],i=[],s=Ko.transform(e),o=Ko.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:vi(u[0],a[0])},{i:3,x:vi(u[1],a[1])})):a[0]||a[1]?r.push("translate("+a+")"):r.push(""),f!=l?(f-l>180?l+=360:l-f>180&&(f+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vi(f,l)})):l&&r.push(r.pop()+"rotate("+l+")"),c!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vi(c,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:vi(p[0],d[0])},{i:n-2,x:vi(p[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(e){for(var t,s=-1;++s<n;)r[(t=i[s]).i]=t.x(e);return r.join("")}}function Ri(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Ui(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function zi(e){for(var t=e.source,n=e.target,r=Xi(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var s=i.length;n!==r;)i.splice(s,0,n),n=n.parent;return i}function Wi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Xi(e,t){if(e===t)return e;for(var n=Wi(e),r=Wi(t),i=n.pop(),s=r.pop(),o=null;i===s;)o=i,i=n.pop(),s=r.pop();return o}function Vi(e){e.fixed|=2}function $i(e){e.fixed&=-7}function Ji(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ki(e){e.fixed&=-5}function Qi(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var s,o=e.nodes,u=o.length,a=-1;++a<u;)s=o[a],null!=s&&(Qi(s,t,n),e.charge+=s.charge,r+=s.charge*s.cx,i+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Gi(e,t){return Ko.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=rs,e}function Yi(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Zi(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(s=e.children)&&(i=s.length))for(var i,s,o=-1;++o<i;)n.push(s[o]);for(;null!=(e=r.pop());)t(e)}function es(e){return e.children}function ts(e){return e.value}function ns(e,t){return t.value-e.value}function rs(e){return Ko.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function is(e){return e.x}function ss(e){return e.y}function os(e,t,n){e.y0=t,e.y=n}function us(e){return Ko.range(e.length)}function as(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function fs(e){for(var t,n=1,r=0,i=e[0][1],s=e.length;s>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function ls(e){return e.reduce(cs,0)}function cs(e,t){return e+t[1]}function hs(e,t){return ps(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ps(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];++n<=t;)s[n]=i*n+r;return s}function ds(e){return[Ko.min(e),Ko.max(e)]}function vs(e,t){return e.value-t.value}function ms(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function gs(e,t){e._pack_next=t,t._pack_prev=e}function ys(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function bs(e){function t(e){l=Math.min(e.x-e.r,l),c=Math.max(e.x+e.r,c),h=Math.min(e.y-e.r,h),p=Math.max(e.y+e.r,p)}if((n=e.children)&&(f=n.length)){var n,r,i,s,o,u,a,f,l=1/0,c=-1/0,h=1/0,p=-1/0;if(n.forEach(ws),r=n[0],r.x=-r.r,r.y=0,t(r),f>1&&(i=n[1],i.x=i.r,i.y=0,t(i),f>2))for(s=n[2],xs(r,i,s),t(s),ms(r,s),r._pack_prev=s,ms(s,i),i=r._pack_next,o=3;f>o;o++){xs(r,i,s=n[o]);var d=0,v=1,m=1;for(u=i._pack_next;u!==i;u=u._pack_next,v++)if(ys(u,s)){d=1;break}if(1==d)for(a=r._pack_prev;a!==u._pack_prev&&!ys(a,s);a=a._pack_prev,m++);d?(m>v||v==m&&i.r<r.r?gs(r,i=u):gs(r=a,i),o--):(ms(r,s),i=s,t(s))}var g=(l+c)/2,y=(h+p)/2,b=0;for(o=0;f>o;o++)s=n[o],s.x-=g,s.y-=y,b=Math.max(b,s.r+Math.sqrt(s.x*s.x+s.y*s.y));e.r=b,n.forEach(Es)}}function ws(e){e._pack_next=e._pack_prev=e}function Es(e){delete e._pack_next,delete e._pack_prev}function Ss(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var s=-1,o=i.length;++s<o;)Ss(i[s],t,n,r)}function xs(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function Ts(e,t){return e.parent==t.parent?1:2}function Ns(e){var t=e.children;return t.length?t[0]:e.t}function Cs(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ks(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ls(e){for(var t,n=0,r=0,i=e.children,s=i.length;--s>=0;)t=i[s],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function As(e,t,n){return e.a.parent===t.parent?e.a:n}function Os(e){return 1+Ko.max(e,function(e){return e.y})}function Ms(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function _s(e){var t=e.children;return t&&t.length?_s(t[0]):e}function Ds(e){var t,n=e.children;return n&&(t=n.length)?Ds(n[t-1]):e}function Ps(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Hs(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>s&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function Bs(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function js(e){return e.rangeExtent?e.rangeExtent():Bs(e.range())}function Fs(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Is(e,t){var n,r=0,i=e.length-1,s=e[r],o=e[i];return s>o&&(n=r,r=i,i=n,n=s,s=o,o=n),e[r]=t.floor(s),e[i]=t.ceil(o),e}function qs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:df}function Rs(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=u;)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=Ko.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function Us(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Rs:Fs,a=r?Ui:Ri;return o=i(e,t,a,n),u=i(t,e,a,gi),s}function s(e){return o(e)}var o,u;return s.invert=function(e){return u(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},s.range=function(e){return arguments.length?(t=e,i()):t},s.rangeRound=function(e){return s.range(e).interpolate(Hi)},s.clamp=function(e){return arguments.length?(r=e,i()):r},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return Vs(e,t)},s.tickFormat=function(t,n){return $s(e,t,n)},s.nice=function(t){return Ws(e,t),i()},s.copy=function(){return Us(e,t,n,r)},i()}function zs(e,t){return Ko.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ws(e,t){return Is(e,qs(Xs(e,t)[2]))}function Xs(e,t){null==t&&(t=10);var n=Bs(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return.15>=s?i*=10:.35>=s?i*=5:.75>=s&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Vs(e,t){return Ko.range.apply(Ko,Xs(e,t))}function $s(e,t,n){var r=Xs(e,t);if(n){var i=ta.exec(n);if(i.shift(),"s"===i[8]){var s=Ko.formatPrefix(Math.max(fu(r[0]),fu(r[1])));return i[7]||(i[7]="."+Js(s.scale(r[2]))),i[8]="f",n=Ko.format(i.join("")),function(e){return n(s.scale(e))+s.symbol}}i[7]||(i[7]="."+Ks(i[8],r)),n=i.join("")}else n=",."+Js(r[2])+"f";return Ko.format(n)}function Js(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ks(e,t){var n=Js(t[2]);return e in vf?Math.abs(n-Js(Math.max(fu(t[0]),fu(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Qs(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function s(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(i(t))}return o.invert=function(t){return s(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=Is(r.map(i),n?Math:gf);return e.domain(t),r=t.map(s),o},o.ticks=function(){var e=Bs(r),o=[],u=e[0],a=e[1],f=Math.floor(i(u)),l=Math.ceil(i(a)),c=t%1?2:t;if(isFinite(l-f)){if(n){for(;l>f;f++)for(var h=1;c>h;h++)o.push(s(f)*h);o.push(s(f))}else for(o.push(s(f));f++<l;)for(var h=c-1;h>0;h--)o.push(s(f)*h);for(f=0;o[f]<u;f++);for(l=o.length;o[l-1]>a;l--);o=o.slice(f,l)}return o},o.tickFormat=function(e,t){if(!arguments.length)return mf;arguments.length<2?t=mf:"function"!=typeof t&&(t=Ko.format(t));var r,u=Math.max(.1,e/o.ticks().length),a=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/s(a(i(e)+r))<=u?t(e):""}},o.copy=function(){return Qs(e.copy(),t,n,r)},zs(o,e)}function Gs(e,t,n){function r(t){return e(i(t))}var i=Ys(t),s=Ys(1/t);return r.invert=function(t){return s(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Vs(n,e)},r.tickFormat=function(e,t){return $s(n,e,t)},r.nice=function(e){return r.domain(Ws(n,e))},r.exponent=function(o){return arguments.length?(i=Ys(t=o),s=Ys(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Gs(e.copy(),t,n)},zs(r,e)}function Ys(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Zs(e,t){function n(n){return s[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):0/0))-1)%s.length]}function r(t,n){return Ko.range(e.length).map(function(e){return t+n*e})}var i,s,u;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new o;for(var s,u=-1,a=r.length;++u<a;)i.has(s=r[u])||i.set(s,e.push(s));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(s=e,u=0,t={t:"range",a:arguments},n):s},n.rangePoints=function(i,o){arguments.length<2&&(o=0);var a=i[0],f=i[1],l=(f-a)/(Math.max(1,e.length-1)+o);return s=r(e.length<2?(a+f)/2:a+l*o/2,l),u=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=(c-l)/(e.length-o+2*a);return s=r(l+h*a,h),f&&s.reverse(),u=h*(1-o),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=Math.floor((c-l)/(e.length-o+2*a)),p=c-l-(e.length-o)*h;return s=r(l+Math.round(p/2),h),f&&s.reverse(),u=Math.round(h*(1-o)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return u},n.rangeExtent=function(){return Bs(t.a[0])},n.copy=function(){return Zs(e,t)},n.domain(e)}function eo(n,r){function i(){var e=0,t=r.length;for(o=[];++e<t;)o[e-1]=Ko.quantile(n,e/t);return s}function s(e){return isNaN(e=+e)?void 0:r[Ko.bisect(o,e)]}var o;return s.domain=function(r){return arguments.length?(n=r.filter(t).sort(e),i()):n},s.range=function(e){return arguments.length?(r=e,i()):r},s.quantiles=function(){return o},s.invertExtent=function(e){return e=r.indexOf(e),0>e?[0/0,0/0]:[e>0?o[e-1]:n[0],e<o.length?o[e]:n[n.length-1]]},s.copy=function(){return eo(n,r)},i()}function to(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),o=n.length-1,r}var s,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/s+e,[t,t+1/s]},r.copy=function(){return to(e,t,n)},i()}function no(e,t){function n(n){return n>=n?t[Ko.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return no(e,t)},n}function ro(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Vs(e,t)},t.tickFormat=function(t,n){return $s(e,t,n)},t.copy=function(){return ro(e)},t}function io(e){return e.innerRadius}function so(e){return e.outerRadius}function oo(e){return e.startAngle}function uo(e){return e.endAngle}function ao(e){function t(t){function o(){f.push("M",s(e(l),u))}for(var a,f=[],l=[],c=-1,h=t.length,p=Ct(n),d=Ct(r);++c<h;)i.call(this,a=t[c],c)?l.push([+p.call(this,a,c),+d.call(this,a,c)]):l.length&&(o(),l=[]);return l.length&&o(),f.length?f.join(""):null}var n=Lr,r=Ar,i=Ln,s=fo,o=s.key,u=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?s=e:(s=Tf.get(e)||fo).key,t):o},t.tension=function(e){return arguments.length?(u=e,t):u},t}function fo(e){return e.join("L")}function lo(e){return fo(e)+"Z"}function co(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ho(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function po(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function vo(e,t){return e.length<4?fo(e):e[1]+yo(e.slice(1,e.length-1),bo(e,t))}function mo(e,t){return e.length<3?fo(e):e[0]+yo((e.push(e[0]),e),bo([e[e.length-2]].concat(e,[e[1]]),t))}function go(e,t){return e.length<3?fo(e):e[0]+yo(e,bo(e,t))}function yo(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return fo(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;if(n&&(r+="Q"+(s[0]-2*o[0]/3)+","+(s[1]-2*o[1]/3)+","+s[0]+","+s[1],i=e[1],a=2),t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+2*u[0]/3)+","+(s[1]+2*u[1]/3)+","+l[0]+","+l[1]}return r}function bo(e,t){for(var n,r=[],i=(1-t)/2,s=e[0],o=e[1],u=1,a=e.length;++u<a;)n=s,s=o,o=e[u],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function wo(e){if(e.length<3)return fo(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s,"L",To(kf,o),",",To(kf,u)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),No(a,o,u);return e.pop(),a.push("L",r),a.join("")}function Eo(e){if(e.length<4)return fo(e);for(var t,n=[],r=-1,i=e.length,s=[0],o=[0];++r<3;)t=e[r],s.push(t[0]),o.push(t[1]);for(n.push(To(kf,s)+","+To(kf,o)),--r;++r<i;)t=e[r],s.shift(),s.push(t[0]),o.shift(),o.push(t[1]),No(n,s,o);return n.join("")}function So(e){for(var t,n,r=-1,i=e.length,s=i+4,o=[],u=[];++r<4;)n=e[r%i],o.push(n[0]),u.push(n[1]);for(t=[To(kf,o),",",To(kf,u)],--r;++r<s;)n=e[r%i],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),No(t,o,u);return t.join("")}function xo(e,t){var n=e.length-1;if(n)for(var r,i,s=e[0][0],o=e[0][1],u=e[n][0]-s,a=e[n][1]-o,f=-1;++f<=n;)r=e[f],i=f/n,r[0]=t*r[0]+(1-t)*(s+i*u),r[1]=t*r[1]+(1-t)*(o+i*a);return wo(e)}function To(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function No(e,t,n){e.push("C",To(Nf,t),",",To(Nf,n),",",To(Cf,t),",",To(Cf,n),",",To(kf,t),",",To(kf,n))}function Co(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ko(e){for(var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Co(i,s);++t<n;)r[t]=(o+(o=Co(i=s,s=e[t+1])))/2;return r[t]=o,r}function Lo(e){for(var t,n,r,i,s=[],o=ko(e),u=-1,a=e.length-1;++u<a;)t=Co(e[u],e[u+1]),fu(t)<Au?o[u]=o[u+1]=0:(n=o[u]/t,r=o[u+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),o[u]=i*n,o[u+1]=i*r));for(u=-1;++u<=a;)i=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),s.push([i||0,o[u]*i||0]);return s}function Ao(e){return e.length<3?fo(e):e[0]+yo(e,Lo(e))}function Oo(e){for(var t,n,r,i=-1,s=e.length;++i<s;)t=e[i],n=t[0],r=t[1]+Sf,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Mo(e){function t(t){function a(){v.push("M",u(e(g),c),l,f(e(m.reverse()),c),"Z")}for(var h,p,d,v=[],m=[],g=[],y=-1,b=t.length,w=Ct(n),E=Ct(i),S=n===r?function(){return p}:Ct(r),x=i===s?function(){return d}:Ct(s);++y<b;)o.call(this,h=t[y],y)?(m.push([p=+w.call(this,h,y),d=+E.call(this,h,y)]),g.push([+S.call(this,h,y),+x.call(this,h,y)])):m.length&&(a(),m=[],g=[]);return m.length&&a(),v.length?v.join(""):null}var n=Lr,r=Lr,i=0,s=Ar,o=Ln,u=fo,a=u.key,f=u,l="L",c=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=s=e,t):s},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(s=e,t):s},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?u=e:(u=Tf.get(e)||fo).key,f=u.reverse||u,l=u.closed?"M":"L",t):a},t.tension=function(e){return arguments.length?(c=e,t):c},t}function _o(e){return e.radius}function Do(e){return[e.x,e.y]}function Po(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Sf;return[n*Math.cos(r),n*Math.sin(r)]}}function Ho(){return 64}function Bo(){return"circle"}function jo(e){var t=Math.sqrt(e/Cu);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Fo(e,t){return du(e,Df),e.id=t,e}function Io(e,t,n,r){var i=e.id;return B(e,"function"==typeof n?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function qo(e){return null==e&&(e=""),function(){this.textContent=e}}function Ro(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),s=i[n];if(!s){var u=r.time;s=i[n]={tween:new o,time:u,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Ko.timer(function(r){function o(r){return i.active>n?f():(i.active=n,s.event&&s.event.start.call(e,l,t),s.tween.forEach(function(n,r){(r=r.call(e,l,t))&&v.push(r)}),Ko.timer(function(){return d.c=a(r||1)?Ln:a,1},0,u),void 0)}function a(r){if(i.active!==n)return f();for(var o=r/p,u=c(o),a=v.length;a>0;)v[--a].call(e,u);return o>=1?(s.event&&s.event.end.call(e,l,t),f()):void 0}function f(){return--i.count?delete i[n]:delete e.__transition__,1}var l=e.__data__,c=s.ease,h=s.delay,p=s.duration,d=Yu,v=[];return d.t=h+u,r>=h?o(r-h):(d.c=o,void 0)},0,u)}}function Uo(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function zo(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Wo(e){return e.toISOString()}function Xo(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,s=Ko.bisect(Uf,i);return s==Uf.length?[t.year,Xs(e.map(function(e){return e/31536e6}),n)[2]]:s?t[i/Uf[s-1]<Uf[s]/i?s-1:s]:[Xf,Xs(e,n)[2]]}return r.invert=function(t){return Vo(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Vo)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Vo(+n+1),t).length}var s=r.domain(),o=Bs(s),u=null==e?i(o,10):"number"==typeof e&&i(o,e);return u&&(e=u[0],t=u[1]),r.domain(Is(s,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Vo(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Vo(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Bs(r.domain()),s=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return s&&(e=s[0],t=s[1]),e.range(n[0],Vo(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Xo(e.copy(),t,n)},zs(r,e)}function Vo(e){return new Date(e)}function $o(e){return JSON.parse(e.responseText)}function Jo(e){var t=Yo.createRange();return t.selectNode(Yo.body),t.createContextualFragment(e.responseText)}var Ko={version:"3.4.8"};Date.now||(Date.now=function(){return+(new Date)});var Qo=[].slice,Go=function(e){return Qo.call(e)},Yo=document,Zo=Yo.documentElement,eu=window;try{Go(Zo.childNodes)[0].nodeType}catch(tu){Go=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{Yo.createElement("div").style.setProperty("opacity",0,"")}catch(nu){var ru=eu.Element.prototype,iu=ru.setAttribute,su=ru.setAttributeNS,ou=eu.CSSStyleDeclaration.prototype,uu=ou.setProperty;ru.setAttribute=function(e,t){iu.call(this,e,t+"")},ru.setAttributeNS=function(e,t,n){su.call(this,e,t,n+"")},ou.setProperty=function(e,t,n){uu.call(this,e,t+"",n)}}Ko.ascending=e,Ko.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},Ko.min=function(e,t){var n,r,i=-1,s=e.length;if(1===arguments.length){for(;++i<s&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<s;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<s&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<s;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},Ko.max=function(e,t){var n,r,i=-1,s=e.length;if(1===arguments.length){for(;++i<s&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<s;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<s&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<s;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},Ko.extent=function(e,t){var n,r,i,s=-1,o=e.length;if(1===arguments.length){for(;++s<o&&!(null!=(n=i=e[s])&&n>=n);)n=i=void 0;for(;++s<o;)null!=(r=e[s])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++s<o&&!(null!=(n=i=t.call(e,e[s],s))&&n>=n);)n=void 0;for(;++s<o;)null!=(r=t.call(e,e[s],s))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},Ko.sum=function(e,t){var n,r=0,i=e.length,s=-1;if(1===arguments.length)for(;++s<i;)isNaN(n=+e[s])||(r+=n);else for(;++s<i;)isNaN(n=+t.call(e,e[s],s))||(r+=n);return r},Ko.mean=function(e,n){var r,i=0,s=e.length,o=-1,u=s;if(1===arguments.length)for(;++o<s;)t(r=e[o])?i+=r:--u;else for(;++o<s;)t(r=n.call(e,e[o],o))?i+=r:--u;return u?i/u:void 0},Ko.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i},Ko.median=function(n,r){return arguments.length>1&&(n=n.map(r)),n=n.filter(t),n.length?Ko.quantile(n.sort(e),.5):void 0};var au=n(e);Ko.bisectLeft=au.left,Ko.bisect=Ko.bisectRight=au.right,Ko.bisector=function(t){return n(1===t.length?function(n,r){return e(t(n),r)}:t)},Ko.shuffle=function(e){for(var t,n,r=e.length;r;)n=0|Math.random()*r--,t=e[r],e[r]=e[n],e[n]=t;return e},Ko.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},Ko.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],s=new Array(0>r?0:r);r>n;)s[n]=[t=i,i=e[++n]];return s},Ko.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=Ko.min(arguments,r),n=new Array(t);++e<t;)for(var i,s=-1,o=n[e]=new Array(i);++s<i;)o[s]=arguments[s][e];return n},Ko.transpose=function(e){return Ko.zip.apply(Ko,e)},Ko.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Ko.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Ko.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Ko.merge=function(e){for(var t,n,r,i=e.length,s=-1,o=0;++s<i;)o+=e[s].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n};var fu=Math.abs;Ko.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/n)throw new Error("infinite range");var r,s=[],o=i(fu(n)),u=-1;if(e*=o,t*=o,n*=o,0>n)for(;(r=e+n*++u)>t;)s.push(r/o);else for(;(r=e+n*++u)<t;)s.push(r/o);return s},Ko.map=function(e){var t=new o;if(e instanceof o)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},s(o,{has:u,get:function(e){return this[lu+e]},set:function(e,t){return this[lu+e]=t},remove:a,keys:f,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:l,empty:c,forEach:function(e){for(var t in this)t.charCodeAt(0)===cu&&e.call(this,t.substring(1),this[t])}});var lu="\0",cu=lu.charCodeAt(0);Ko.nest=function(){function e(t,u,a){if(a>=s.length)return r?r.call(i,u):n?u.sort(n):u;for(var f,l,c,h,p=-1,d=u.length,v=s[a++],m=new o;++p<d;)(h=m.get(f=v(l=u[p])))?h.push(l):m.set(f,[l]);return t?(l=t(),c=function(n,r){l.set(n,e(t,r,a))}):(l={},c=function(n,r){l[n]=e(t,r,a)}),m.forEach(c),l}function t(e,n){if(n>=s.length)return e;var r=[],i=u[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},s=[],u=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(Ko.map,n,0),0)},i.key=function(e){return s.push(e),i},i.sortKeys=function(e){return u[s.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},Ko.set=function(e){var t=new h;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},s(h,{has:u,add:function(e){return this[lu+e]=!0,e},remove:function(e){return e=lu+e,e in this&&delete this[e]},values:f,size:l,empty:c,forEach:function(e){for(var t in this)t.charCodeAt(0)===cu&&e.call(this,t.substring(1))}}),Ko.behavior={},Ko.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=p(e,t,t[n]);return e};var hu=["webkit","ms","moz","Moz","o","O"];Ko.dispatch=function(){for(var e=new m,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=g(e);return e},m.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.substring(n+1),e=e.substring(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},Ko.event=null,Ko.requote=function(e){return e.replace(pu,"\\$&")};var pu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,du={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},vu=function(e,t){return t.querySelector(e)},mu=function(e,t){return t.querySelectorAll(e)},gu=Zo[d(Zo,"matchesSelector")],yu=function(e,t){return gu.call(e,t)};"function"==typeof Sizzle&&(vu=function(e,t){return Sizzle(e,t)[0]||null},mu=Sizzle,yu=Sizzle.matchesSelector),Ko.selection=function(){return Su};var bu=Ko.selection.prototype=[];bu.select=function(e){var t,n,r,i,s=[];e=S(e);for(var o=-1,u=this.length;++o<u;){s.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var a=-1,f=r.length;++a<f;)(i=r[a])?(t.push(n=e.call(i,i.__data__,a,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return E(s)},bu.selectAll=function(e){var t,n,r=[];e=x(e);for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)(n=o[u])&&(r.push(t=Go(e.call(n,n.__data__,u,i))),t.parentNode=n);return E(r)};var wu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ko.ns={prefix:wu,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),wu.hasOwnProperty(n)?{space:wu[n],local:e}:e}},bu.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=Ko.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(T(t,e[t]));return this}return this.each(T(e,t))},bu.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=k(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!C(e[i]).test(t))return!1;return!0}for(t in e)this.each(L(t,e[t]));return this}return this.each(L(e,t))},bu.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(O(n,e[n],t));return this}if(2>r)return eu.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(O(e,t,n))},bu.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(M(t,e[t]));return this}return this.each(M(e,t))},bu.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},bu.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},bu.append=function(e){return e=_(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},bu.insert=function(e,t){return e=_(e),t=S(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},bu.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},bu.data=function(e,t){function n(e,n){var r,i,s,u=e.length,c=n.length,h=Math.min(u,c),p=new Array(c),d=new Array(c),v=new Array(u);if(t){var m,g=new o,y=new o,b=[];for(r=-1;++r<u;)m=t.call(i=e[r],i.__data__,r),g.has(m)?v[r]=i:g.set(m,i),b.push(m);for(r=-1;++r<c;)m=t.call(n,s=n[r],r),(i=g.get(m))?(p[r]=i,i.__data__=s):y.has(m)||(d[r]=D(s)),y.set(m,s),g.remove(m);for(r=-1;++r<u;)g.has(b[r])&&(v[r]=e[r])}else{for(r=-1;++r<h;)i=e[r],s=n[r],i?(i.__data__=s,p[r]=i):d[r]=D(s);for(;c>r;++r)d[r]=D(n[r]);for(;u>r;++r)v[r]=e[r]}d.update=p,d.parentNode=p.parentNode=v.parentNode=e.parentNode,a.push(d),f.push(p),l.push(v)}var r,i,s=-1,u=this.length;if(!arguments.length){for(e=new Array(u=(r=this[0]).length);++s<u;)(i=r[s])&&(e[s]=i.__data__);return e}var a=j([]),f=E([]),l=E([]);if("function"==typeof e)for(;++s<u;)n(r=this[s],e.call(r,r.parentNode.__data__,s));else for(;++s<u;)n(r=this[s],e);return f.enter=function(){return a},f.exit=function(){return l},f},bu.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},bu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=P(e));for(var s=0,o=this.length;o>s;s++){i.push(t=[]),t.parentNode=(n=this[s]).parentNode;for(var u=0,a=n.length;a>u;u++)(r=n[u])&&e.call(r,r.__data__,u,s)&&t.push(r)}return E(i)},bu.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,s=r[i];--i>=0;)(n=r[i])&&(s&&s!==n.nextSibling&&s.parentNode.insertBefore(n,s),s=n);return this},bu.sort=function(e){e=H.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},bu.each=function(e){return B(this,function(t,n,r){e.call(t,t.__data__,n,r)})},bu.call=function(e){var t=Go(arguments);return e.apply(t[0]=this,t),this},bu.empty=function(){return!this.node()},bu.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var s=n[r];if(s)return s}return null},bu.size=function(){var e=0;return this.each(function(){++e}),e};var Eu=[];Ko.selection.enter=j,Ko.selection.enter.prototype=Eu,Eu.append=bu.append,Eu.empty=bu.empty,Eu.node=bu.node,Eu.call=bu.call,Eu.size=bu.size,Eu.select=function(e){for(var t,n,r,i,s,o=[],u=-1,a=this.length;++u<a;){r=(i=this[u]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var f=-1,l=i.length;++f<l;)(s=i[f])?(t.push(r[f]=n=e.call(i.parentNode,s.__data__,f,u)),n.__data__=s.__data__):t.push(null)}return E(o)},Eu.insert=function(e,t){return arguments.length<2&&(t=F(this)),bu.insert.call(this,e,t)},bu.transition=function(){for(var e,t,n=Af||++Pf,r=[],i=Of||{time:Date.now(),ease:Ti,delay:0,duration:250},s=-1,o=this.length;++s<o;){r.push(e=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(t=u[a])&&Ro(t,a,n,i),e.push(t)}return Fo(r,n)},bu.interrupt=function(){return this.each(I)},Ko.select=function(e){var t=["string"==typeof e?vu(e,Yo):e];return t.parentNode=Zo,E([t])},Ko.selectAll=function(e){var t=Go("string"==typeof e?mu(e,Yo):e);return t.parentNode=Zo,E([t])};var Su=Ko.select(Zo);bu.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(q(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(q(e,t,n))};var xu=Ko.map({mouseenter:"mouseover",mouseleave:"mouseout"});xu.forEach(function(e){"on"+e in Yo&&xu.remove(e)});var Tu="onselectstart"in Yo?null:d(Zo.style,"userSelect"),Nu=0;Ko.mouse=function(e){return W(e,b())},Ko.touches=function(e,t){return arguments.length<2&&(t=b().touches),t?Go(t).map(function(t){var n=W(e,t);return n.identifier=t.identifier,n}):[]},Ko.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",s)}function t(e,t,i,s,o){return function(){function u(){var e,n,r=t(h,v);r&&(e=r[0]-b[0],n=r[1]-b[1],d|=e|n,b=r,p({type:"drag",x:r[0]+f[0],y:r[1]+f[1],dx:e,dy:n}))}function a(){t(h,v)&&(g.on(s+m,null).on(o+m,null),y(d&&Ko.event.target===c),p({type:"dragend"}))}var f,l=this,c=Ko.event.target,h=l.parentNode,p=n.of(l,arguments),d=0,v=e(),m=".drag"+(null==v?"":"-"+v),g=Ko.select(i()).on(s+m,u).on(o+m,a),y=z(),b=t(h,v);r?(f=r.apply(l,arguments),f=[f.x-b[0],f.y-b[1]]):f=[0,0],p({type:"dragstart"})}}var n=w(e,"drag","dragstart","dragend"),r=null,i=t(v,Ko.mouse,$,"mousemove","mouseup"),s=t(X,Ko.touch,V,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},Ko.rebind(e,n,"on")};var Cu=Math.PI,ku=2*Cu,Lu=Cu/2,Au=1e-6,Ou=Au*Au,Mu=Cu/180,_u=180/Cu,Du=Math.SQRT2,Pu=2,Hu=4;Ko.interpolateZoom=function(e,t){function n(e){var t=e*y;if(g){var n=Z(v),o=s/(Pu*h)*(n*et(Du*t+v)-Y(v));return[r+o*f,i+o*l,s*n/Z(Du*t+v)]}return[r+e*f,i+e*l,s*Math.exp(Du*t)]}var r=e[0],i=e[1],s=e[2],o=t[0],u=t[1],a=t[2],f=o-r,l=u-i,c=f*f+l*l,h=Math.sqrt(c),p=(a*a-s*s+Hu*c)/(2*s*Pu*h),d=(a*a-s*s-Hu*c)/(2*a*Pu*h),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(d*d+1)-d),g=m-v,y=(g||Math.log(a/s))/Du;return n.duration=1e3*y,n},Ko.behavior.zoom=function(){function e(e){e.on(k,f).on(Fu+".zoom",c).on(L,h).on("dblclick.zoom",p).on(O,l)}function t(e){return[(e[0]-T.x)/T.k,(e[1]-T.y)/T.k]}function n(e){return[e[0]*T.k+T.x,e[1]*T.k+T.y]}function r(e){T.k=Math.max(C[0],Math.min(C[1],e))}function i(e,t){t=n(t),T.x+=e[0]-t[0],T.y+=e[1]-t[1]}function s(){E&&E.domain(b.range().map(function(e){return(e-T.x)/T.k}).map(b.invert)),x&&x.domain(S.range().map(function(e){return(e-T.y)/T.k}).map(S.invert))}function o(e){e({type:"zoomstart"})}function u(e){s(),e({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function a(e){e({type:"zoomend"})}function f(){function e(){l=1,i(Ko.mouse(r),p),u(f)}function n(){c.on(L,eu===r?h:null).on(A,null),d(l&&Ko.event.target===s),a(f)}var r=this,s=Ko.event.target,f=M.of(r,arguments),l=0,c=Ko.select(eu).on(L,e).on(A,n),p=t(Ko.mouse(r)),d=z();I.call(r),o(f)}function l(){function e(){var e=Ko.touches(p);return h=T.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=t(e))}),e}function n(){var t=Ko.event.target;Ko.select(t).on(w,s).on(E,c),S.push(t);for(var n=Ko.event.changedTouches,o=0,a=n.length;a>o;++o)v[n[o].identifier]=null;var f=e(),l=Date.now();if(1===f.length){if(500>l-g){var h=f[0],p=v[h.identifier];r(2*T.k),i(h,p),y(),u(d)}g=l}else if(f.length>1){var h=f[0],b=f[1],x=h[0]-b[0],N=h[1]-b[1];m=x*x+N*N}}function s(){for(var e,t,n,s,o=Ko.touches(p),a=0,f=o.length;f>a;++a,s=null)if(n=o[a],s=v[n.identifier]){if(t)break;e=n,t=s}if(s){var l=(l=n[0]-e[0])*l+(l=n[1]-e[1])*l,c=m&&Math.sqrt(l/m);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+s[0])/2,(t[1]+s[1])/2],r(c*h)}g=null,i(e,t),u(d)}function c(){if(Ko.event.touches.length){for(var t=Ko.event.changedTouches,n=0,r=t.length;r>n;++n)delete v[t[n].identifier];for(var i in v)return void e()}Ko.selectAll(S).on(b,null),x.on(k,f).on(O,l),N(),a(d)}var h,p=this,d=M.of(p,arguments),v={},m=0,b=".zoom-"+Ko.event.changedTouches[0].identifier,w="touchmove"+b,E="touchend"+b,S=[],x=Ko.select(p).on(k,null).on(O,n),N=z();I.call(p),n(),o(d)}function c(){var e=M.of(this,arguments);m?clearTimeout(m):(I.call(this),o(e)),m=setTimeout(function(){m=null,a(e)},50),y();var n=v||Ko.mouse(this);d||(d=t(n)),r(Math.pow(2,.002*Bu())*T.k),i(n,d),u(e)}function h(){d=null}function p(){var e=M.of(this,arguments),n=Ko.mouse(this),s=t(n),f=Math.log(T.k)/Math.LN2;o(e),r(Math.pow(2,Ko.event.shiftKey?Math.ceil(f)-1:Math.floor(f)+1)),i(n,s),u(e),a(e)}var d,v,m,g,b,E,S,x,T={x:0,y:0,k:1},N=[960,500],C=ju,k="mousedown.zoom",L="mousemove.zoom",A="mouseup.zoom",O="touchstart.zoom",M=w(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=M.of(this,arguments),t=T;Af?Ko.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},o(e)}).tween("zoom:zoom",function(){var n=N[0],r=N[1],i=n/2,s=r/2,o=Ko.interpolateZoom([(i-T.x)/T.k,(s-T.y)/T.k,n/T.k],[(i-t.x)/t.k,(s-t.y)/t.k,n/t.k]);return function(t){var r=o(t),a=n/r[2];this.__chart__=T={x:i-r[0]*a,y:s-r[1]*a,k:a},u(e)}}).each("end.zoom",function(){a(e)}):(this.__chart__=T,o(e),u(e),a(e))})},e.translate=function(t){return arguments.length?(T={x:+t[0],y:+t[1],k:T.k},s(),e):[T.x,T.y]},e.scale=function(t){return arguments.length?(T={x:T.x,y:T.y,k:+t},s(),e):T.k},e.scaleExtent=function(t){return arguments.length?(C=null==t?ju:[+t[0],+t[1]],e):C},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(N=t&&[+t[0],+t[1]],e):N},e.x=function(t){return arguments.length?(E=t,b=t.copy(),T={x:0,y:0,k:1},e):E},e.y=function(t){return arguments.length?(x=t,S=t.copy(),T={x:0,y:0,k:1},e):x},Ko.rebind(e,M,"on")};var Bu,ju=[0,1/0],Fu="onwheel"in Yo?(Bu=function(){return-Ko.event.deltaY*(Ko.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Yo?(Bu=function(){return Ko.event.wheelDelta},"mousewheel"):(Bu=function(){return-Ko.event.detail},"MozMousePixelScroll");nt.prototype.toString=function(){return this.rgb()+""},Ko.hsl=function(e,t,n){return 1===arguments.length?e instanceof it?rt(e.h,e.s,e.l):Et(""+e,St,rt):rt(+e,+t,+n)};var Iu=it.prototype=new nt;Iu.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),rt(this.h,this.s,this.l/e)},Iu.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),rt(this.h,this.s,e*this.l)},Iu.rgb=function(){return st(this.h,this.s,this.l)},Ko.hcl=function(e,t,n){return 1===arguments.length?e instanceof ut?ot(e.h,e.c,e.l):e instanceof lt?ht(e.l,e.a,e.b):ht((e=xt((e=Ko.rgb(e)).r,e.g,e.b)).l,e.a,e.b):ot(+e,+t,+n)};var qu=ut.prototype=new nt;qu.brighter=function(e){return ot(this.h,this.c,Math.min(100,this.l+Ru*(arguments.length?e:1)))},qu.darker=function(e){return ot(this.h,this.c,Math.max(0,this.l-Ru*(arguments.length?e:1)))},qu.rgb=function(){return at(this.h,this.c,this.l).rgb()},Ko.lab=function(e,t,n){return 1===arguments.length?e instanceof lt?ft(e.l,e.a,e.b):e instanceof ut?at(e.l,e.c,e.h):xt((e=Ko.rgb(e)).r,e.g,e.b):ft(+e,+t,+n)};var Ru=18,Uu=.95047,zu=1,Wu=1.08883,Xu=lt.prototype=new nt;Xu.brighter=function(e){return ft(Math.min(100,this.l+Ru*(arguments.length?e:1)),this.a,this.b)},Xu.darker=function(e){return ft(Math.max(0,this.l-Ru*(arguments.length?e:1)),this.a,this.b)},Xu.rgb=function(){return ct(this.l,this.a,this.b)},Ko.rgb=function(e,t,n){return 1===arguments.length?e instanceof bt?yt(e.r,e.g,e.b):Et(""+e,yt,st):yt(~~e,~~t,~~n)};var Vu=bt.prototype=new nt;Vu.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),yt(Math.min(255,~~(t/e)),Math.min(255,~~(n/e)),Math.min(255,~~(r/e)))):yt(i,i,i)},Vu.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),yt(~~(e*this.r),~~(e*this.g),~~(e*this.b))},Vu.hsl=function(){return St(this.r,this.g,this.b)},Vu.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var $u=Ko.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$u.forEach(function(e,t){$u.set(e,mt(t))}),Ko.functor=Ct,Ko.xhr=Lt(kt),Ko.dsv=function(e,t){function n(e,n,s){arguments.length<3&&(s=n,n=null);var o=At(e,t,null==n?r:i(n),s);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:i(e)):n},o}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function s(t){return t.map(o).join(e)}function o(e){return u.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var u=new RegExp('["'+e+"\n]"),a=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(l>=f)return o;if(i)return i=!1,s;var t=l;if(34===e.charCodeAt(t)){for(var n=t;n++<f;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}l=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++l):10===r&&(i=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;f>l;){var r=e.charCodeAt(l++),u=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(l)&&(++l,++u);else if(r!==a)continue;return e.substring(t,l-u)}return e.substring(t)}for(var r,i,s={},o={},u=[],f=e.length,l=0,c=0;(r=n())!==o;){for(var h=[];r!==s&&r!==o;)h.push(r),r=n();(!t||(h=t(h,c++)))&&u.push(h)}return u},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new h,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(s).join("\n")},n},Ko.csv=Ko.dsv(",","text/csv"),Ko.tsv=Ko.dsv("	","text/tab-separated-values"),Ko.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=b().changedTouches),t)for(var r,i=0,s=t.length;s>i;++i)if((r=t[i]).identifier===n)return W(e,r)};var Ju,Ku,Qu,Gu,Yu,Zu=eu[d(eu,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Ko.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,s={c:e,t:i,f:!1,n:null};Ku?Ku.n=s:Ju=s,Ku=s,Qu||(Gu=clearTimeout(Gu),Qu=1,Zu(Mt))},Ko.timer.flush=function(){_t(),Dt()},Ko.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ea=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ht);Ko.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=Ko.round(e,Pt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ea[8+n/3]};var ta=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,na=Ko.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Ko.round(e,Pt(e,t))).toFixed(Math.max(0,Math.min(20,Pt(e*(1+1e-15),t))))}}),ra=Ko.time={},ia=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){sa.setUTCDate.apply(this._,arguments)},setDay:function(){sa.setUTCDay.apply(this._,arguments)},setFullYear:function(){sa.setUTCFullYear.apply(this._,arguments)},setHours:function(){sa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){sa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){sa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){sa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){sa.setUTCSeconds.apply(this._,arguments)},setTime:function(){sa.setTime.apply(this._,arguments)}};var sa=Date.prototype;ra.year=It(function(e){return e=ra.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ra.years=ra.year.range,ra.years.utc=ra.year.utc.range,ra.day=It(function(e){var t=new ia(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ra.days=ra.day.range,ra.days.utc=ra.day.utc.range,ra.dayOfYear=function(e){var t=ra.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ra[e]=It(function(e){return(e=ra.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ra.year(e).getDay();return Math.floor((ra.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ra[e+"s"]=n.range,ra[e+"s"].utc=n.utc.range,ra[e+"OfYear"]=function(e){var n=ra.year(e).getDay();return Math.floor((ra.dayOfYear(e)+(n+t)%7)/7)}}),ra.week=ra.sunday,ra.weeks=ra.sunday.range,ra.weeks.utc=ra.sunday.utc.range,ra.weekOfYear=ra.sundayOfYear;var oa={"-":"",_:" ",0:"0"},ua=/^\s*\d+/,aa=/^%/;Ko.locale=function(e){return{numberFormat:Bt(e),timeFormat:Rt(e)}};var fa=Ko.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ko.format=fa.numberFormat,Ko.geo={},fn.prototype={s:0,t:0,add:function(e){ln(e,this.t,la),ln(la.s,this.s,this),this.s?this.t+=la.t:this.s=la.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var la=new fn;Ko.geo.stream=function(e,t){e&&ca.hasOwnProperty(e.type)?ca[e.type](e,t):cn(e,t)};var ca={Feature:function(e,t){cn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)cn(n[r].geometry,t)}},ha={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){hn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)hn(n[r],t,0)},Polygon:function(e,t){pn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)cn(n[r],t)}};Ko.geo.area=function(e){return pa=0,Ko.geo.stream(e,va),pa};var pa,da=new fn,va={sphere:function(){pa+=4*Cu},point:v,lineStart:v,lineEnd:v,polygonStart:function(){da.reset(),va.lineStart=dn},polygonEnd:function(){var e=2*da;pa+=0>e?4*Cu+e:e,va.lineStart=va.lineEnd=va.point=v}};Ko.geo.bounds=function(){function e(e,t){b.push(w=[l=e,h=e]),c>t&&(c=t),t>p&&(p=t)}function t(t,n){var r=vn([t*Mu,n*Mu]);if(g){var i=gn(g,r),s=[i[1],-i[0],0],o=gn(s,i);wn(o),o=En(o);var a=t-d,f=a>0?1:-1,v=o[0]*_u*f,m=fu(a)>180;if(m^(v>f*d&&f*t>v)){var y=o[1]*_u;y>p&&(p=y)}else if(v=(v+360)%360-180,m^(v>f*d&&f*t>v)){var y=-o[1]*_u;c>y&&(c=y)}else c>n&&(c=n),n>p&&(p=n);m?d>t?u(l,t)>u(l,h)&&(h=t):u(t,h)>u(l,h)&&(l=t):h>=l?(l>t&&(l=t),t>h&&(h=t)):t>d?u(l,t)>u(l,h)&&(h=t):u(t,h)>u(l,h)&&(l=t)}else e(t,n);g=r,d=t}function n(){E.point=t}function r(){w[0]=l,w[1]=h,E.point=e,g=null}function i(e,n){if(g){var r=e-d;y+=fu(r)>180?r+(r>0?360:-360):r}else v=e,m=n;va.point(e,n),t(e,n)}function s(){va.lineStart()}function o(){i(v,m),va.lineEnd(),fu(y)>Au&&(l=-(h=180)),w[0]=l,w[1]=h,g=null}function u(e,t){return(t-=e)<0?t+360:t}function a(e,t){return e[0]-t[0]}function f(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var l,c,h,p,d,v,m,g,y,b,w,E={point:e,lineStart:n,lineEnd:r,polygonStart:function(){E.point=i,E.lineStart=s,E.lineEnd=o,y=0,va.polygonStart()},polygonEnd:function(){va.polygonEnd(),E.point=e,E.lineStart=n,E.lineEnd=r,0>da?(l=-(h=180),c=-(p=90)):y>Au?p=90:-Au>y&&(c=-90),w[0]=l,w[1]=h}};return function(e){p=h=-(l=c=1/0),b=[],Ko.geo.stream(e,E);var t=b.length;if(t){b.sort(a);for(var n,r=1,i=b[0],s=[i];t>r;++r)n=b[r],f(n[0],i)||f(n[1],i)?(u(i[0],n[1])>u(i[0],i[1])&&(i[1]=n[1]),u(n[0],i[1])>u(i[0],i[1])&&(i[0]=n[0])):s.push(i=n);for(var o,n,d=-1/0,t=s.length-1,r=0,i=s[t];t>=r;i=n,++r)n=s[r],(o=u(i[1],n[0]))>d&&(d=o,l=n[0],h=i[1])}return b=w=null,1/0===l||1/0===c?[[0/0,0/0],[0/0,0/0]]:[[l,c],[h,p]]}}(),Ko.geo.centroid=function(e){ma=ga=ya=ba=wa=Ea=Sa=xa=Ta=Na=Ca=0,Ko.geo.stream(e,ka);var t=Ta,n=Na,r=Ca,i=t*t+n*n+r*r;return Ou>i&&(t=Ea,n=Sa,r=xa,Au>ga&&(t=ya,n=ba,r=wa),i=t*t+n*n+r*r,Ou>i)?[0/0,0/0]:[Math.atan2(n,t)*_u,G(r/Math.sqrt(i))*_u]};var ma,ga,ya,ba,wa,Ea,Sa,xa,Ta,Na,Ca,ka={sphere:v,point:xn,lineStart:Nn,lineEnd:Cn,polygonStart:function(){ka.lineStart=kn},polygonEnd:function(){ka.lineStart=Nn}},La=_n(Ln,jn,In,[-Cu,-Cu/2]),Aa=1e9;Ko.geo.clipExtent=function(){var e,t,n,r,i,s,o={stream:function(e){return i&&(i.valid=!1),i=s(e),i.valid=!0,i},extent:function(u){return arguments.length?(s=Un(e=+u[0][0],t=+u[0][1],n=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(Ko.geo.conicEqualArea=function(){return Wn(Xn)}).raw=Xn,Ko.geo.albers=function(){return Ko.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ko.geo.albersUsa=function(){function e(e){var s=e[0],o=e[1];return t=null,n(s,o),t||(r(s,o),t)||i(s,o),t}var t,n,r,i,s=Ko.geo.albers(),o=Ko.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Ko.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-0.425&&-0.214>r?o:i>=.166&&.234>i&&r>=-0.214&&-0.115>r?u:s).invert(e)},e.stream=function(e){var t=s.stream(e),n=o.stream(e),r=u.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(s.precision(t),o.precision(t),u.precision(t),e):s.precision()},e.scale=function(t){return arguments.length?(s.scale(t),o.scale(.35*t),u.scale(t),e.translate(s.translate())):s.scale()},e.translate=function(t){if(!arguments.length)return s.translate();var f=s.scale(),l=+t[0],c=+t[1];return n=s.translate(t).clipExtent([[l-.455*f,c-.238*f],[l+.455*f,c+.238*f]]).stream(a).point,r=o.translate([l-.307*f,c+.201*f]).clipExtent([[l-.425*f+Au,c+.12*f+Au],[l-.214*f-Au,c+.234*f-Au]]).stream(a).point,i=u.translate([l-.205*f,c+.212*f]).clipExtent([[l-.214*f+Au,c+.166*f+Au],[l-.115*f-Au,c+.234*f-Au]]).stream(a).point,e},e.scale(1070)};var Oa,Ma,_a,Da,Pa,Ha,Ba={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Ma=0,Ba.lineStart=Vn},polygonEnd:function(){Ba.lineStart=Ba.lineEnd=Ba.point=v,Oa+=fu(Ma/2)}},ja={point:$n,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Fa={point:Qn,lineStart:Gn,lineEnd:Yn,polygonStart:function(){Fa.lineStart=Zn},polygonEnd:function(){Fa.point=Qn,Fa.lineStart=Gn,Fa.lineEnd=Yn}};Ko.geo.path=function(){function e(e){return e&&("function"==typeof u&&s.pointRadius(+u.apply(this,arguments)),o&&o.valid||(o=i(s)),Ko.geo.stream(e,o)),s.result()}function t(){return o=null,e}var n,r,i,s,o,u=4.5;return e.area=function(e){return Oa=0,Ko.geo.stream(e,i(Ba)),Oa},e.centroid=function(e){return ya=ba=wa=Ea=Sa=xa=Ta=Na=Ca=0,Ko.geo.stream(e,i(Fa)),Ca?[Ta/Ca,Na/Ca]:xa?[Ea/xa,Sa/xa]:wa?[ya/wa,ba/wa]:[0/0,0/0]},e.bounds=function(e){return Pa=Ha=-(_a=Da=1/0),Ko.geo.stream(e,i(ja)),[[_a,Da],[Pa,Ha]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||nr(e):kt,t()):n},e.context=function(e){return arguments.length?(s=null==(r=e)?new Jn:new er(e),"function"!=typeof u&&s.pointRadius(u),t()):r},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(s.pointRadius(+t),+t),e):u},e.projection(Ko.geo.albersUsa()).context(null)},Ko.geo.transform=function(e){return{stream:function(t){var n=new rr(t);for(var r in e)n[r]=e[r];return n}}},rr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ko.geo.projection=sr,Ko.geo.projectionMutator=or,(Ko.geo.equirectangular=function(){return sr(ar)}).raw=ar.invert=ar,Ko.geo.rotation=function(e){function t(t){return t=e(t[0]*Mu,t[1]*Mu),t[0]*=_u,t[1]*=_u,t}return e=lr(e[0]%360*Mu,e[1]*Mu,e.length>2?e[2]*Mu:0),t.invert=function(t){return t=e.invert(t[0]*Mu,t[1]*Mu),t[0]*=_u,t[1]*=_u,t},t},fr.invert=ar,Ko.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=lr(-e[0]*Mu,-e[1]*Mu,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=_u,e[1]*=_u}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=dr((t=+r)*Mu,i*Mu),e):t},e.precision=function(r){return arguments.length?(n=dr(t*Mu,(i=+r)*Mu),e):i},e.angle(90)},Ko.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Mu,i=e[1]*Mu,s=t[1]*Mu,o=Math.sin(r),u=Math.cos(r),a=Math.sin(i),f=Math.cos(i),l=Math.sin(s),c=Math.cos(s);return Math.atan2(Math.sqrt((n=c*o)*n+(n=f*l-a*c*u)*n),a*l+f*c*u)},Ko.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Ko.range(Math.ceil(s/m)*m,i,m).map(h).concat(Ko.range(Math.ceil(f/g)*g,a,g).map(p)).concat(Ko.range(Math.ceil(r/d)*d,n,d).filter(function(e){return fu(e%m)>Au}).map(l)).concat(Ko.range(Math.ceil(u/v)*v,o,v).filter(function(e){return fu(e%g)>Au}).map(c))}var n,r,i,s,o,u,a,f,l,c,h,p,d=10,v=d,m=90,g=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(s).concat(p(a).slice(1),h(i).reverse().slice(1),p(f).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(s=+t[0][0],i=+t[1][0],f=+t[0][1],a=+t[1][1],s>i&&(t=s,s=i,i=t),f>a&&(t=f,f=a,a=t),e.precision(y)):[[s,f],[i,a]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),u>o&&(t=u,u=o,o=t),e.precision(y)):[[r,u],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],g=+t[1],e):[m,g]},e.minorStep=function(t){return arguments.length?(d=+t[0],v=+t[1],e):[d,v]},e.precision=function(t){return arguments.length?(y=+t,l=mr(u,o,90),c=gr(r,n,y),h=mr(f,a,90),p=gr(s,i,y),e):y},e.majorExtent([[-180,-90+Au],[180,90-Au]]).minorExtent([[-180,-80-Au],[180,80+Au]])},Ko.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=yr,i=br;return e.distance=function(){return Ko.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},Ko.geo.interpolate=function(e,t){return wr(e[0]*Mu,e[1]*Mu,t[0]*Mu,t[1]*Mu)},Ko.geo.length=function(e){return Ia=0,Ko.geo.stream(e,qa),Ia};var Ia,qa={sphere:v,point:v,lineStart:Er,lineEnd:v,polygonStart:v,polygonEnd:v},Ra=Sr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Ko.geo.azimuthalEqualArea=function(){return sr(Ra)}).raw=Ra;var Ua=Sr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},kt);(Ko.geo.azimuthalEquidistant=function(){return sr(Ua)}).raw=Ua,(Ko.geo.conicConformal=function(){return Wn(xr)}).raw=xr,(Ko.geo.conicEquidistant=function(){return Wn(Tr)}).raw=Tr;var za=Sr(function(e){return 1/e},Math.atan);(Ko.geo.gnomonic=function(){return sr(za)}).raw=za,Nr.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Lu]},(Ko.geo.mercator=function(){return Cr(Nr)}).raw=Nr;var Wa=Sr(function(){return 1},Math.asin);(Ko.geo.orthographic=function(){return sr(Wa)}).raw=Wa;var Xa=Sr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(Ko.geo.stereographic=function(){return sr(Xa)}).raw=Xa,kr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Lu]},(Ko.geo.transverseMercator=function(){var e=Cr(kr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[-e[1],e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},e.rotate([0,0])}).raw=kr,Ko.geom={},Ko.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ct(n),s=Ct(r),o=e.length,u=[],a=[];for(t=0;o>t;t++)u.push([+i.call(this,e[t],t),+s.call(this,e[t],t),t]);for(u.sort(Mr),t=0;o>t;t++)a.push([u[t][0],-u[t][1]]);var f=Or(u),l=Or(a),c=l[0]===f[0],h=l[l.length-1]===f[f.length-1],p=[];for(t=f.length-1;t>=0;--t)p.push(e[u[f[t]][2]]);for(t=+c;t<l.length-h;++t)p.push(e[u[l[t]][2]]);return p}var n=Lr,r=Ar;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},Ko.geom.polygon=function(e){return du(e,Va),e};var Va=Ko.geom.polygon.prototype=[];Va.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Va.centroid=function(e){var t,n,r=-1,i=this.length,s=0,o=0,u=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=u,u=this[r],n=t[0]*u[1]-u[0]*t[1],s+=(t[0]+u[0])*n,o+=(t[1]+u[1])*n;return[s*e,o*e]},Va.clip=function(e){for(var t,n,r,i,s,o,u=Pr(e),a=-1,f=this.length-Pr(this),l=this[f-1];++a<f;){for(t=e.slice(),e.length=0,i=this[a],s=t[(r=t.length-u)-1],n=-1;++n<r;)o=t[n],_r(o,l,i)?(_r(s,l,i)||e.push(Dr(s,o,l,i)),e.push(o)):_r(s,l,i)&&e.push(Dr(s,o,l,i)),s=o;u&&e.push(e[0]),l=i}return e};var $a,Ja,Ka,Qa,Ga,Ya=[],Za=[];Ur.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Wr),t.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ti.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=si(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ri(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ii(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ii(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ri(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,s=e.L,o=e.R;if(n=s?o?si(o):s:o,i?i.L===e?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=e.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return e.C=!1,void 0;do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ri(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ii(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ri(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ii(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ri(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ii(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},Ko.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=u[0][0],i=u[0][1],s=u[1][0],o=u[1][1];return oi(n(e),u).cells.forEach(function(n,u){var a=n.edges,f=n.site,l=t[u]=a.length?a.map(function(e){var t=e.start();return[t.x,t.y]}):f.x>=r&&f.x<=s&&f.y>=i&&f.y<=o?[[r,o],[s,o],[s,i],[r,i]]:[];l.point=e[u]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(s(e,t)/Au)*Au,y:Math.round(o(e,t)/Au)*Au,i:t}})}var r=Lr,i=Ar,s=r,o=i,u=ef;return e?t(e):(t.links=function(e){return oi(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return oi(n(e)).cells.forEach(function(n,r){for(var i,s,o=n.site,u=n.edges.sort(Wr),a=-1,f=u.length,l=u[f-1].edge,c=l.l===o?l.r:l.l;++a<f;)i=l,s=c,l=u[a].edge,c=l.l===o?l.r:l.l,r<s.i&&r<c.i&&ai(o,s,c)<0&&t.push([e[r],e[s.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(s=Ct(r=e),t):r},t.y=function(e){return arguments.length?(o=Ct(i=e),t):i},t.clipExtent=function(e){return arguments.length?(u=null==e?ef:e,t):u===ef?null:u},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):u===ef?null:u&&u[1]},t)};var ef=[[-1e6,-1e6],[1e6,1e6]];Ko.geom.delaunay=function(e){return Ko.geom.voronoi().triangles(e)},Ko.geom.quadtree=function(e,t,n,r,i){function s(e){function s(e,t,n,r,i,s,o,u){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var a=e.x,l=e.y;if(null!=a)if(fu(a-n)+fu(l-r)<.01)f(e,t,n,r,i,s,o,u);else{var c=e.point;e.x=e.y=e.point=null,f(e,c,a,l,i,s,o,u),f(e,t,n,r,i,s,o,u)}else e.x=n,e.y=r,e.point=t}else f(e,t,n,r,i,s,o,u)}function f(e,t,n,r,i,o,u,a){var f=.5*(i+u),l=.5*(o+a),c=n>=f,h=r>=l,p=(h<<1)+c;e.leaf=!1,e=e.nodes[p]||(e.nodes[p]=ci()),c?i=f:u=f,h?o=l:a=l,s(e,t,n,r,i,o,u,a)}var l,c,h,p,d,v,m,g,y,b=Ct(u),w=Ct(a);if(null!=t)v=t,m=n,g=r,y=i;else if(g=y=-(v=m=1/0),c=[],h=[],d=e.length,o)for(p=0;d>p;++p)l=e[p],l.x<v&&(v=l.x),l.y<m&&(m=l.y),l.x>g&&(g=l.x),l.y>y&&(y=l.y),c.push(l.x),h.push(l.y);else for(p=0;d>p;++p){var E=+b(l=e[p],p),S=+w(l,p);v>E&&(v=E),m>S&&(m=S),E>g&&(g=E),S>y&&(y=S),c.push(E),h.push(S)}var x=g-v,T=y-m;x>T?y=m+x:g=v+T;var N=ci();if(N.add=function(e){s(N,e,+b(e,++p),+w(e,p),v,m,g,y)},N.visit=function(e){hi(e,N,v,m,g,y)},p=-1,null==t){for(;++p<d;)s(N,e[p],c[p],h[p],v,m,g,y);--p}else e.forEach(N.add);return c=h=e=l=null,N}var o,u=Lr,a=Ar;return(o=arguments.length)?(u=fi,a=li,3===o&&(i=n,r=t,n=t=0),s(e)):(s.x=function(e){return arguments.length?(u=e,s):u},s.y=function(e){return arguments.length?(a=e,s):a},s.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),s):null==t?null:[[t,n],[r,i]]},s.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),s):null==t?null:[r-t,i-n]},s)},Ko.interpolateRgb=pi,Ko.interpolateObject=di,Ko.interpolateNumber=vi,Ko.interpolateString=mi;var tf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nf=new RegExp(tf.source,"g");Ko.interpolate=gi,Ko.interpolators=[function(e,t){var n=typeof t;return("string"===n?$u.has(t)||/^(#|rgb\(|hsl\()/.test(t)?pi:mi:t instanceof nt?pi:Array.isArray(t)?yi:"object"===n&&isNaN(t)?di:vi)(e,t)}],Ko.interpolateArray=yi;var rf=function(){return kt},sf=Ko.map({linear:rf,poly:Ni,quad:function(){return Si},cubic:function(){return xi},sin:function(){return Ci},exp:function(){return ki},circle:function(){return Li},elastic:Ai,back:Oi,bounce:function(){return Mi}}),of=Ko.map({"in":kt,out:wi,"in-out":Ei,"out-in":function(e){return Ei(wi(e))}});Ko.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=sf.get(n)||rf,r=of.get(r)||kt,bi(r(n.apply(null,Qo.call(arguments,1))))},Ko.interpolateHcl=_i,Ko.interpolateHsl=Di,Ko.interpolateLab=Pi,Ko.interpolateRound=Hi,Ko.transform=function(e){var t=Yo.createElementNS(Ko.ns.prefix.svg,"g");return(Ko.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Bi(n?n.matrix:uf)})(e)},Bi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var uf={a:1,b:0,c:0,d:1,e:0,f:0};Ko.interpolateTransform=qi,Ko.layout={},Ko.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(zi(e[n]));return t}},Ko.layout.chord=function(){function e(){var e,f,c,h,p,d={},v=[],m=Ko.range(s),g=[];for(n=[],r=[],e=0,h=-1;++h<s;){for(f=0,p=-1;++p<s;)f+=i[h][p];v.push(f),g.push(Ko.range(s)),e+=f}for(o&&m.sort(function(e,t){return o(v[e],v[t])}),u&&g.forEach(function(e,t){e.sort(function(e,n){return u(i[t][e],i[t][n])})}),e=(ku-l*s)/e,f=0,h=-1;++h<s;){for(c=f,p=-1;++p<s;){var y=m[h],b=g[y][p],w=i[y][b],E=f,S=f+=w*e;d[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}r[y]={index:y,startAngle:c,endAngle:f,value:(f-c)/e},f+=l}for(h=-1;++h<s;)for(p=h-1;++p<s;){var x=d[h+"-"+p],T=d[p+"-"+h];(x.value||T.value)&&n.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}a&&t()}function t(){n.sort(function(e,t){return a((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,s,o,u,a,f={},l=0;return f.matrix=function(e){return arguments.length?(s=(i=e)&&i.length,n=r=null,f):i},f.padding=function(e){return arguments.length?(l=e,n=r=null,f):l},f.sortGroups=function(e){return arguments.length?(o=e,n=r=null,f):o},f.sortSubgroups=function(e){return arguments.length?(u=e,n=null,f):u},f.sortChords=function(e){return arguments.length?(a=e,n&&t(),f):a},f.chords=function(){return n||e(),n},f.groups=function(){return r||e(),r},f},Ko.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=i-n,a=s*s+o*o;if(a>u*u/m){if(d>a){var f=t.charge/a;e.px-=s*f,e.py-=o*f}return!0}if(t.point&&a&&d>a){var f=t.pointCharge/a;e.px-=s*f,e.py-=o*f}}return!t.charge}}function t(e){e.px=Ko.event.x,e.py=Ko.event.y,u.resume()}var n,r,i,s,o,u={},a=Ko.dispatch("start","tick","end"),f=[1,1],l=.9,c=af,h=ff,p=-30,d=lf,v=.1,m=.64,g=[],y=[];return u.tick=function(){if((r*=.99)<.005)return a.end({type:"end",alpha:r=0}),!0;var t,n,u,c,h,d,m,b,w,E=g.length,S=y.length;for(n=0;S>n;++n)u=y[n],c=u.source,h=u.target,b=h.x-c.x,w=h.y-c.y,(d=b*b+w*w)&&(d=r*s[n]*((d=Math.sqrt(d))-i[n])/d,b*=d,w*=d,h.x-=b*(m=c.weight/(h.weight+c.weight)),h.y-=w*m,c.x+=b*(m=1-m),c.y+=w*m);if((m=r*v)&&(b=f[0]/2,w=f[1]/2,n=-1,m))for(;++n<E;)u=g[n],u.x+=(b-u.x)*m,u.y+=(w-u.y)*m;if(p)for(Qi(t=Ko.geom.quadtree(g),r,o),n=-1;++n<E;)(u=g[n]).fixed||t.visit(e(u));for(n=-1;++n<E;)u=g[n],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*l,u.y-=(u.py-(u.py=u.y))*l);a.tick({type:"tick",alpha:r})},u.nodes=function(e){return arguments.length?(g=e,u):g},u.links=function(e){return arguments.length?(y=e,u):y},u.size=function(e){return arguments.length?(f=e,u):f},u.linkDistance=function(e){return arguments.length?(c="function"==typeof e?e:+e,u):c},u.distance=u.linkDistance,u.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,u):h},u.friction=function(e){return arguments.length?(l=+e,u):l},u.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,u):p},u.chargeDistance=function(e){return arguments.length?(d=e*e,u):Math.sqrt(d)},u.gravity=function(e){return arguments.length?(v=+e,u):v},u.theta=function(e){return arguments.length?(m=e*e,u):Math.sqrt(m)},u.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(a.start({type:"start",alpha:r=e}),Ko.timer(u.tick)),u):r},u.start=function(){function e(e,r){if(!n){for(n=new Array(a),u=0;a>u;++u)n[u]=[];for(u=0;f>u;++u){var i=y[u];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var s,o=n[t],u=-1,f=o.length;++u<f;)if(!isNaN(s=o[u][e]))return s;return Math.random()*r}var t,n,r,a=g.length,l=y.length,d=f[0],v=f[1];for(t=0;a>t;++t)(r=g[t]).index=t,r.weight=0;for(t=0;l>t;++t)r=y[t],"number"==typeof r.source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(t=0;a>t;++t)r=g[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof c)for(t=0;l>t;++t)i[t]=+c.call(this,y[t],t);else for(t=0;l>t;++t)i[t]=c;if(s=[],"function"==typeof h)for(t=0;l>t;++t)s[t]=+h.call(this,y[t],t);else for(t=0;l>t;++t)s[t]=h;if(o=[],"function"==typeof p)for(t=0;a>t;++t)o[t]=+p.call(this,g[t],t);else for(t=0;a>t;++t)o[t]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return n||(n=Ko.behavior.drag().origin(kt).on("dragstart.force",Vi).on("drag.force",t).on("dragend.force",$i)),arguments.length?(this.on("mouseover.force",Ji).on("mouseout.force",Ki).call(n),void 0):n},Ko.rebind(u,a,"on")};var af=20,ff=1,lf=1/0;Ko.layout.hierarchy=function(){function e(i){var s,o=[i],u=[];for(i.depth=0;null!=(s=o.pop());)if(u.push(s),(f=n.call(e,s,s.depth))&&(a=f.length)){for(var a,f,l;--a>=0;)o.push(l=f[a]),l.parent=s,l.depth=s.depth+1;r&&(s.value=0),s.children=f}else r&&(s.value=+r.call(e,s,s.depth)||0),delete s.children;return Zi(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),u}var t=ns,n=es,r=ts;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Yi(t,function(e){e.children&&(e.value=0)}),Zi(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},Ko.layout.partition=function(){function e(t,n,r,i){var s=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,s&&(o=s.length)){var o,u,a,f=-1;for(r=t.value?r/t.value:0;++f<o;)e(u=s[f],n,a=u.value*r,i),n+=a}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,s=-1;++s<i;)r=Math.max(r,t(n[s]));return 1+r}function n(n,s){var o=r.call(this,n,s);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=Ko.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Gi(n,r)},Ko.layout.pie=function(){function e(s){var o=s.map(function(n,r){return+t.call(e,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),a=(("function"==typeof i?i.apply(this,arguments):i)-u)/Ko.sum(o),f=Ko.range(s.length);null!=n&&f.sort(n===cf?function(e,t){return o[t]-o[e]}:function(e,t){return n(s[e],s[t])});var l=[];return f.forEach(function(e){var t;l[e]={data:s[e],value:t=o[e],startAngle:u,endAngle:u+=t*a}}),l}var t=Number,n=cf,r=0,i=ku;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var cf={};Ko.layout.stack=function(){function e(u,a){var f=u.map(function(n,r){return t.call(e,n,r)}),l=f.map(function(t){return t.map(function(t,n){return[s.call(e,t,n),o.call(e,t,n)]})}),c=n.call(e,l,a);f=Ko.permute(f,c),l=Ko.permute(l,c);var h,p,d,v=r.call(e,l,a),m=f.length,g=f[0].length;for(p=0;g>p;++p)for(i.call(e,f[0][p],d=v[p],l[0][p][1]),h=1;m>h;++h)i.call(e,f[h][p],d+=l[h-1][p][1],l[h][p][1]);return u}var t=kt,n=us,r=as,i=os,s=is,o=ss;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:hf.get(t)||us,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:pf.get(t)||as,e):r},e.x=function(t){return arguments.length?(s=t,e):s},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(i=t,e):i},e};var hf=Ko.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(fs),s=e.map(ls),o=Ko.range(r).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(t=0;r>t;++t)n=o[t],a>u?(u+=s[n],f.push(n)):(a+=s[n],l.push(n));return l.reverse().concat(f)},reverse:function(e){return Ko.range(e.length).reverse()},"default":us}),pf=Ko.map({silhouette:function(e){var t,n,r,i=e.length,s=e[0].length,o=[],u=0,a=[];for(n=0;s>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>u&&(u=r),o.push(r)}for(n=0;s>n;++n)a[n]=(u-o[n])/2;return a},wiggle:function(e){var t,n,r,i,s,o,u,a,f,l=e.length,c=e[0],h=c.length,p=[];for(p[0]=a=f=0,n=1;h>n;++n){for(t=0,i=0;l>t;++t)i+=e[t][n][1];for(t=0,s=0,u=c[n][0]-c[n-1][0];l>t;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*u);t>r;++r)o+=(e[r][n][1]-e[r][n-1][1])/u;s+=o*e[t][n][1]}p[n]=a-=i?s/i*u:0,f>a&&(f=a)}for(n=0;h>n;++n)p[n]-=f;return p},expand:function(e){var t,n,r,i=e.length,s=e[0].length,o=1/i,u=[];for(n=0;s>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=o}for(n=0;s>n;++n)u[n]=0;return u},zero:as});Ko.layout.histogram=function(){function e(e,s){for(var o,u,a=[],f=e.map(n,this),l=r.call(this,f,s),c=i.call(this,l,f,s),s=-1,h=f.length,p=c.length-1,d=t?1:1/h;++s<p;)o=a[s]=[],o.dx=c[s+1]-(o.x=c[s]),o.y=0;if(p>0)for(s=-1;++s<h;)u=f[s],u>=l[0]&&u<=l[1]&&(o=a[Ko.bisect(c,u,1,p)-1],o.y+=d,o.push(e[s]));return a}var t=!0,n=Number,r=ds,i=hs;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ct(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return ps(e,t)}:Ct(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Ko.layout.pack=function(){function e(e,s){var o=n.call(this,e,s),u=o[0],a=i[0],f=i[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(u.x=u.y=0,Zi(u,function(e){e.r=+l(e.value)}),Zi(u,bs),r){var c=r*(t?1:Math.max(2*u.r/a,2*u.r/f))/2;Zi(u,function(e){e.r+=c}),Zi(u,bs),Zi(u,function(e){e.r-=c})}return Ss(u,a/2,f/2,t?1:1/Math.max(2*u.r/a,2*u.r/f)),o}var t,n=Ko.layout.hierarchy().sort(vs),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Gi(e,n)},Ko.layout.tree=function(){function e(e,i){var l=o.call(this,e,i),c=l[0],h=t(c);if(Zi(h,n),h.parent.m=-h.z,Yi(h,r),f)Yi(c,s);else{var p=c,d=c,v=c;Yi(c,function(e){e.x<p.x&&(p=e),e.x>d.x&&(d=e),e.depth>v.depth&&(v=e)});var m=u(p,d)/2-p.x,g=a[0]/(d.x+u(d,p)/2+m),y=a[1]/(v.depth||1);Yi(c,function(e){e.x=(e.x+m)*g,e.y=e.depth*y})}return l}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,s=t.children,o=0,u=s.length;u>o;++o)r.push((s[o]=i={_:s[o],parent:t,children:(i=s[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Ls(e);var s=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+u(e._,r._),e.m=e.z-s):e.z=s}else r&&(e.z=r.z+u(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,s=e,o=t,a=i.parent.children[0],f=i.m,l=s.m,c=o.m,h=a.m;o=Cs(o),i=Ns(i),o&&i;)a=Ns(a),s=Cs(s),s.a=e,r=o.z+c-i.z-f+u(o._,i._),r>0&&(ks(As(o,e,n),e,r),f+=r,l+=r),c+=o.m,f+=i.m,h+=a.m,l+=s.m;o&&!Cs(s)&&(s.t=o,s.m+=c-l),i&&!Ns(a)&&(a.t=i,a.m+=f-h,n=e)}return n}function s(e){e.x*=a[0],e.y=e.depth*a[1]}var o=Ko.layout.hierarchy().sort(null).value(null),u=Ts,a=[1,1],f=null;return e.separation=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(f=null==(a=t)?s:null,e):f?null:a},e.nodeSize=function(t){return arguments.length?(f=null==(a=t)?null:s,e):f?a:null},Gi(e,o)},Ko.layout.cluster=function(){function e(e,s){var o,u=t.call(this,e,s),a=u[0],f=0;Zi(a,function(e){var t=e.children;t&&t.length?(e.x=Ms(t),e.y=Os(t)):(e.x=o?f+=n(e,o):0,e.y=0,o=e)});var l=_s(a),c=Ds(a),h=l.x-n(l,c)/2,p=c.x+n(c,l)/2;return Zi(a,i?function(e){e.x=(e.x-a.x)*r[0],e.y=(a.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(a.y?e.y/a.y:1))*r[1]}),u}var t=Ko.layout.hierarchy().sort(null).value(null),n=Ts,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},Gi(e,t)},Ko.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,s=e.length;++i<s;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var s=n.children;if(s&&s.length){var o,u,a,f=c(n),l=[],h=s.slice(),d=1/0,v="slice"===p?f.dx:"dice"===p?f.dy:"slice-dice"===p?1&n.depth?f.dy:f.dx:Math.min(f.dx,f.dy);for(e(h,f.dx*f.dy/n.value),l.area=0;(a=h.length)>0;)l.push(o=h[a-1]),l.area+=o.area,"squarify"!==p||(u=r(l,v))<=d?(h.pop(),d=u):(l.area-=l.pop().area,i(l,v,f,!1),v=Math.min(f.dx,f.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,v,f,!0),l.length=l.area=0),s.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var s,o=c(t),u=r.slice(),a=[];for(e(u,o.dx*o.dy/t.value),a.area=0;s=u.pop();)a.push(s),a.area+=s.area,null!=s.z&&(i(a,s.z?o.dx:o.dy,o,!u.length),a.length=a.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,s=1/0,o=-1,u=e.length;++o<u;)(n=e[o].area)&&(s>n&&(s=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*d/r,r/(t*s*d)):1/0}function i(e,t,n,r){var i,s=-1,o=e.length,u=n.x,f=n.y,l=t?a(e.area/t):0;if(t==n.dx){for((r||l>n.dy)&&(l=n.dy);++s<o;)i=e[s],i.x=u,i.y=f,i.dy=l,u+=i.dx=Math.min(n.x+n.dx-u,l?a(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-u,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++s<o;)i=e[s],i.x=u,i.y=f,i.dx=l,f+=i.dy=Math.min(n.y+n.dy-f,l?a(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-f,n.x+=l,n.dx-=l}}function s(r){var i=o||u(r),s=i[0];return s.x=0,s.y=0,s.dx=f[0],s.dy=f[1],o&&u.revalue(s),e([s],s.dx*s.dy/s.value),(o?n:t)(s),h&&(o=i),i}var o,u=Ko.layout.hierarchy(),a=Math.round,f=[1,1],l=null,c=Ps,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return s.size=function(e){return arguments.length?(f=e,s):f},s.padding=function(e){function t(t){var n=e.call(s,t,t.depth);return null==n?Ps(t):Hs(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Hs(t,e)}if(!arguments.length)return l;var r;return c=null==(l=e)?Ps:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,s},s.round=function(e){return arguments.length?(a=e?Math.round:Number,s):a!=Number},s.sticky=function(e){return arguments.length?(h=e,o=null,s):h},s.ratio=function(e){return arguments.length?(d=e,s):d},s.mode=function(e){return arguments.length?(p=e+"",s):p},Gi(s,u)},Ko.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=Ko.random.normal.apply(Ko,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=Ko.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},Ko.scale={};var df={floor:kt,ceil:kt};Ko.scale.linear=function(){return Us([0,1],[0,1],gi,!1)};var vf={s:1,g:1,p:1,r:1,e:1};Ko.scale.log=function(){return Qs(Ko.scale.linear().domain([0,1]),10,!0,[1,10])};var mf=Ko.format(".0e"),gf={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};Ko.scale.pow=function(){return Gs(Ko.scale.linear(),1,[0,1])},Ko.scale.sqrt=function(){return Ko.scale.pow().exponent(.5)},Ko.scale.ordinal=function(){return Zs([],{t:"range",a:[[]]})},Ko.scale.category10=function(){return Ko.scale.ordinal().range(yf)},Ko.scale.category20=function(){return Ko.scale.ordinal().range(bf)},Ko.scale.category20b=function(){return Ko.scale.ordinal().range(wf)},Ko.scale.category20c=function(){return Ko.scale.ordinal().range(Ef)};var yf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),bf=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),wf=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),Ef=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);Ko.scale.quantile=function(){return eo([],[])},Ko.scale.quantize=function(){return to(0,1,[0,1])},Ko.scale.threshold=function(){return no([.5],[0,1])},Ko.scale.identity=function(){return ro([0,1])},Ko.svg={},Ko.svg.arc=function(){function e(){var e=t.apply(this,arguments),s=n.apply(this,arguments),o=r.apply(this,arguments)+Sf,u=i.apply(this,arguments)+Sf,a=(o>u&&(a=o,o=u,u=a),u-o),f=Cu>a?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=xf?e?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+ -e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":e?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+e*h+","+e*p+"A"+e+","+e+" 0 "+f+",0 "+e*l+","+e*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var t=io,n=so,r=oo,i=uo;return e.innerRadius=function(n){return arguments.length?(t=Ct(n),e):t},e.outerRadius=function(t){return arguments.length?(n=Ct(t),e):n},e.startAngle=function(t){return arguments.length?(r=Ct(t),e):r},e.endAngle=function(t){return arguments.length?(i=Ct(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,s=(r.apply(this,arguments)+i.apply(this,arguments))/2+Sf;return[Math.cos(s)*e,Math.sin(s)*e]},e};var Sf=-Lu,xf=ku-Au;Ko.svg.line=function(){return ao(kt)};var Tf=Ko.map({linear:fo,"linear-closed":lo,step:co,"step-before":ho,"step-after":po,basis:wo,"basis-open":Eo,"basis-closed":So,bundle:xo,cardinal:go,"cardinal-open":vo,"cardinal-closed":mo,monotone:Ao});Tf.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Nf=[0,2/3,1/3,0],Cf=[0,1/3,2/3,0],kf=[0,1/6,2/3,1/6];Ko.svg.line.radial=function(){var e=ao(Oo);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},ho.reverse=po,po.reverse=ho,Ko.svg.area=function(){return Mo(kt)},Ko.svg.area.radial=function(){var e=Mo(Oo);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Ko.svg.chord=function(){function e(e,u){var a=t(this,s,e,u),f=t(this,o,e,u);return"M"+a.p0+r(a.r,a.p1,a.a1-a.a0)+(n(a,f)?i(a.r,a.p1,a.r,a.p0):i(a.r,a.p1,f.r,f.p0)+r(f.r,f.p1,f.a1-f.a0)+i(f.r,f.p1,a.r,a.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),s=u.call(e,i,r),o=a.call(e,i,r)+Sf,l=f.call(e,i,r)+Sf;return{r:s,a0:o,a1:l,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(l),s*Math.sin(l)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Cu)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var s=yr,o=br,u=_o,a=oo,f=uo;return e.radius=function(t){return arguments.length?(u=Ct(t),e):u},e.source=function(t){return arguments.length?(s=Ct(t),e):s},e.target=function(t){return arguments.length?(o=Ct(t),e):o},e.startAngle=function(t){return arguments.length?(a=Ct(t),e):a},e.endAngle=function(t){return arguments.length?(f=Ct(t),e):f},e},Ko.svg.diagonal=function(){function e(e,i){var s=t.call(this,e,i),o=n.call(this,e,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(r),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var t=yr,n=br,r=Do;return e.source=function(n){return arguments.length?(t=Ct(n),e):t},e.target=function(t){return arguments.length?(n=Ct(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},Ko.svg.diagonal.radial=function(){var e=Ko.svg.diagonal(),t=Do,n=e.projection;return e.projection=function(e){return arguments.length?n(Po(t=e)):t},e},Ko.svg.symbol=function(){function e(e,r){return(Lf.get(t.call(this,e,r))||jo)(n.call(this,e,r))}var t=Bo,n=Ho;return e.type=function(n){return arguments.length?(t=Ct(n),e):t},e.size=function(t){return arguments.length?(n=Ct(t),e):n},e};var Lf=Ko.map({circle:jo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*_f)),n=t*_f;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Mf),n=t*Mf/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Mf),n=t*Mf/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});Ko.svg.symbolTypes=Lf.keys();var Af,Of,Mf=Math.sqrt(3),_f=Math.tan(30*Mu),Df=[],Pf=0;Df.call=bu.call,Df.empty=bu.empty,Df.node=bu.node,Df.size=bu.size,Ko.transition=function(e){return arguments.length?Af?e.transition():e:Su.transition()},Ko.transition.prototype=Df,Df.select=function(e){var t,n,r,i=this.id,s=[];e=S(e);for(var o=-1,u=this.length;++o<u;){s.push(t=[]);for(var a=this[o],f=-1,l=a.length;++f<l;)(r=a[f])&&(n=e.call(r,r.__data__,f,o))?("__data__"in r&&(n.__data__=r.__data__),Ro(n,f,i,r.__transition__[i]),t.push(n)):t.push(null)}return Fo(s,i)},Df.selectAll=function(e){var t,n,r,i,s,o=this.id,u=[];e=x(e);for(var a=-1,f=this.length;++a<f;)for(var l=this[a],c=-1,h=l.length;++c<h;)if(r=l[c]){s=r.__transition__[o],n=e.call(r,r.__data__,c,a),u.push(t=[]);for(var p=-1,d=n.length;++p<d;)(i=n[p])&&Ro(i,p,o,s),t.push(i)}return Fo(u,o)},Df.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=P(e));for(var s=0,o=this.length;o>s;s++){i.push(t=[]);for(var n=this[s],u=0,a=n.length;a>u;u++)(r=n[u])&&e.call(r,r.__data__,u,s)&&t.push(r)}return Fo(i,this.id)},Df.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):B(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})},Df.attr=function(e,t){function n(){this.removeAttribute(u)}function r(){this.removeAttributeNS(u.space,u.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(u);return n!==e&&(t=o(n,e),function(e){this.setAttribute(u,t(e))})})}function s(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(u.space,u.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(u.space,u.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?qi:gi,u=Ko.ns.qualify(e);return Io(this,"attr."+e,t,u.local?s:i)},Df.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=Ko.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Df.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=eu.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=gi(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var s=arguments.length;if(3>s){if("string"!=typeof e){2>s&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Io(this,"style."+e,t,i)},Df.styleTween=function(e,t,n){function r(r,i){var s=t.call(this,r,i,eu.getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Df.text=function(e){return Io(this,"text",e,qo)},Df.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Df.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=Ko.ease.apply(Ko,arguments)),B(this,function(n){n.__transition__[t].ease=e}))},Df.delay=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:B(this,"function"==typeof e?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},Df.duration=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:B(this,"function"==typeof e?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},Df.each=function(e,t){var n=this.id;if(arguments.length<2){var r=Of,i=Af;Af=n,B(this,function(t,r,i){Of=t.__transition__[n],e.call(t,t.__data__,r,i)}),Of=r,Af=i}else B(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Ko.dispatch("start","end"))).on(e,t)});return this},Df.transition=function(){for(var e,t,n,r,i=this.id,s=++Pf,o=[],u=0,a=this.length;a>u;u++){o.push(e=[]);for(var t=this[u],f=0,l=t.length;l>f;f++)(n=t[f])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,Ro(n,f,s,r)),e.push(n)}return Fo(o,s)},Ko.svg.axis=function(){function e(e){e.each(function(){var e,f=Ko.select(this),l=this.__chart__||n,c=this.__chart__=n.copy(),h=null==a?c.ticks?c.ticks.apply(c,u):c.domain():a,p=null==t?c.tickFormat?c.tickFormat.apply(c,u):kt:t,d=f.selectAll(".tick").data(h,c),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Au),m=Ko.transition(d.exit()).style("opacity",Au).remove(),g=Ko.transition(d.order()).style("opacity",1),y=js(c),b=f.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Ko.transition(b));v.append("line"),v.append("text");var E=v.select("line"),S=g.select("line"),x=d.select("text").text(p),T=v.select("text"),N=g.select("text");switch(r){case"bottom":e=Uo,E.attr("y2",i),T.attr("y",Math.max(i,0)+o),S.attr("x2",0).attr("y2",i),N.attr("x",0).attr("y",Math.max(i,0)+o),x.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+s+"V0H"+y[1]+"V"+s);break;case"top":e=Uo,E.attr("y2",-i),T.attr("y",-(Math.max(i,0)+o)),S.attr("x2",0).attr("y2",-i),N.attr("x",0).attr("y",-(Math.max(i,0)+o)),x.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+ -s+"V0H"+y[1]+"V"+ -s);break;case"left":e=zo,E.attr("x2",-i),T.attr("x",-(Math.max(i,0)+o)),S.attr("x2",-i).attr("y2",0),N.attr("x",-(Math.max(i,0)+o)).attr("y",0),x.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+ -s+","+y[0]+"H0V"+y[1]+"H"+ -s);break;case"right":e=zo,E.attr("x2",i),T.attr("x",Math.max(i,0)+o),S.attr("x2",i).attr("y2",0),N.attr("x",Math.max(i,0)+o).attr("y",0),x.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+s+","+y[0]+"H0V"+y[1]+"H"+s)}if(c.rangeBand){var C=c,k=C.rangeBand()/2;l=c=function(e){return C(e)+k}}else l.rangeBand?l=c:m.call(e,c);v.call(e,l),g.call(e,c)})}var t,n=Ko.scale.linear(),r=Hf,i=6,s=6,o=3,u=[10],a=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Bf?t+"":Hf,e):r},e.ticks=function(){return arguments.length?(u=arguments,e):u},e.tickValues=function(t){return arguments.length?(a=t,e):a},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,s=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(s=+t,e):s},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Hf="bottom",Bf={top:1,right:1,bottom:1,left:1};Ko.svg.brush=function(){function e(s){s.each(function(){var s=Ko.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=s.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=s.selectAll(".resize").data(d,kt);u.exit().remove(),u.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return jf[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),u.style("display",e.empty()?"none":null);var l,c=Ko.transition(s),h=Ko.transition(o);a&&(l=js(a),h.attr("x",l[0]).attr("width",l[1]-l[0]),n(c)),f&&(l=js(f),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(c)),t(c)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+l[+/e$/.test(e)]+","+c[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",l[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function r(e){e.select(".extent").attr("y",c[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function i(){function i(){32==Ko.event.keyCode&&(L||(b=null,O[0]-=l[1],O[1]-=c[1],L=2),y())}function d(){32==Ko.event.keyCode&&2==L&&(O[0]+=l[1],O[1]+=c[1],L=0,y())}function v(){var e=Ko.mouse(E),i=!1;w&&(e[0]+=w[0],e[1]+=w[1]),L||(Ko.event.altKey?(b||(b=[(l[0]+l[1])/2,(c[0]+c[1])/2]),O[0]=l[+(e[0]<b[0])],O[1]=c[+(e[1]<b[1])]):b=null),C&&m(e,a,0)&&(n(T),i=!0),k&&m(e,f,1)&&(r(T),i=!0),i&&(t(T),x({type:"brush",mode:L?"move":"resize"}))}function m(e,t,n){var r,i,u=js(t),a=u[0],f=u[1],d=O[n],v=n?c:l,m=v[1]-v[0];return L&&(a-=d,f-=m+d),r=(n?p:h)?Math.max(a,Math.min(f,e[n])):e[n],L?i=(r+=d)+m:(b&&(d=Math.max(a,Math.min(f,2*b[n]-r))),r>d?(i=r,r=d):i=d),v[0]!=r||v[1]!=i?(n?o=null:s=null,v[0]=r,v[1]=i,!0):void 0}function g(){v(),T.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Ko.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),x({type:"brushend"})}var b,w,E=this,S=Ko.select(Ko.event.target),x=u.of(E,arguments),T=Ko.select(E),N=S.datum(),C=!/^(n|s)$/.test(N)&&a,k=!/^(e|w)$/.test(N)&&f,L=S.classed("extent"),A=z(),O=Ko.mouse(E),M=Ko.select(eu).on("keydown.brush",i).on("keyup.brush",d);if(Ko.event.changedTouches?M.on("touchmove.brush",v).on("touchend.brush",g):M.on("mousemove.brush",v).on("mouseup.brush",g),T.interrupt().selectAll("*").interrupt(),L)O[0]=l[0]-O[0],O[1]=c[0]-O[1];else if(N){var _=+/w$/.test(N),D=+/^n/.test(N);w=[l[1-_]-O[0],c[1-D]-O[1]],O[0]=l[_],O[1]=c[D]}else Ko.event.altKey&&(b=O.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),Ko.select("body").style("cursor",S.style("cursor")),x({type:"brushstart"}),v()}var s,o,u=w(e,"brushstart","brush","brushend"),a=null,f=null,l=[0,0],c=[0,0],h=!0,p=!0,d=Ff[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:l,y:c,i:s,j:o},n=this.__chart__||t;this.__chart__=t,Af?Ko.select(this).transition().each("start.brush",function(){s=n.i,o=n.j,l=n.x,c=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=yi(l,t.x),r=yi(c,t.y);return s=o=null,function(i){l=t.x=n(i),c=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=t.i,o=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(a=t,d=Ff[!a<<1|!f],e):a},e.y=function(t){return arguments.length?(f=t,d=Ff[!a<<1|!f],e):f},e.clamp=function(t){return arguments.length?(a&&f?(h=!!t[0],p=!!t[1]):a?h=!!t:f&&(p=!!t),e):a&&f?[h,p]:a?h:f?p:null},e.extent=function(t){var n,r,i,u,h;return arguments.length?(a&&(n=t[0],r=t[1],f&&(n=n[0],r=r[0]),s=[n,r],a.invert&&(n=a(n),r=a(r)),n>r&&(h=n,n=r,r=h),(n!=l[0]||r!=l[1])&&(l=[n,r])),f&&(i=t[0],u=t[1],a&&(i=i[1],u=u[1]),o=[i,u],f.invert&&(i=f(i),u=f(u)),i>u&&(h=i,i=u,u=h),(i!=c[0]||u!=c[1])&&(c=[i,u])),e):(a&&(s?(n=s[0],r=s[1]):(n=l[0],r=l[1],a.invert&&(n=a.invert(n),r=a.invert(r)),n>r&&(h=n,n=r,r=h))),f&&(o?(i=o[0],u=o[1]):(i=c[0],u=c[1],f.invert&&(i=f.invert(i),u=f.invert(u)),i>u&&(h=i,i=u,u=h))),a&&f?[[n,i],[r,u]]:a?[n,r]:f&&[i,u])},e.clear=function(){return e.empty()||(l=[0,0],c=[0,0],s=o=null),e},e.empty=function(){return!!a&&l[0]==l[1]||!!f&&c[0]==c[1]},Ko.rebind(e,u,"on")};var jf={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ff=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],If=ra.format=fa.timeFormat,qf=If.utc,Rf=qf("%Y-%m-%dT%H:%M:%S.%LZ");If.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?Wo:Rf,Wo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Wo.toString=Rf.toString,ra.second=It(function(e){return new ia(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ra.seconds=ra.second.range,ra.seconds.utc=ra.second.utc.range,ra.minute=It(function(e){return new ia(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ra.minutes=ra.minute.range,ra.minutes.utc=ra.minute.utc.range,ra.hour=It(function(e){var t=e.getTimezoneOffset()/60;return new ia(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ra.hours=ra.hour.range,ra.hours.utc=ra.hour.utc.range,ra.month=It(function(e){return e=ra.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ra.months=ra.month.range,ra.months.utc=ra.month.utc.range;var Uf=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],zf=[[ra.second,1],[ra.second,5],[ra.second,15],[ra.second,30],[ra.minute,1],[ra.minute,5],[ra.minute,15],[ra.minute,30],[ra.hour,1],[ra.hour,3],[ra.hour,6],[ra.hour,12],[ra.day,1],[ra.day,2],[ra.week,1],[ra.month,1],[ra.month,3],[ra.year,1]],Wf=If.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Ln]]),Xf={range:function(e,t,n){return Ko.range(Math.ceil(e/n)*n,+t,n).map(Vo)},floor:kt,ceil:kt};zf.year=ra.year,ra.scale=function(){return Xo(Ko.scale.linear(),zf,Wf)};var Vf=zf.map(function(e){return[e[0].utc,e[1]]}),$f=qf.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Ln]]);Vf.year=ra.year.utc,ra.scale.utc=function(){return Xo(Ko.scale.linear(),Vf,$f)},Ko.text=Lt(function(e){return e.responseText}),Ko.json=function(e,t){return At(e,"application/json",$o,t)},Ko.html=function(e,t){return At(e,"text/html",Jo,t)},Ko.xml=Lt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define("d3",Ko):"object"==typeof module&&module.exports?module.exports=Ko:this.d3=Ko}(),!function(e){function t(e){this.owner=e}function n(e,t){if(Object.create)t.prototype=Object.create(e.prototype);else{var n=function(){};n.prototype=e.prototype,t.prototype=new n}return t.prototype.constructor=t,t}function r(e){var t=this.internal=new i(this);t.loadConfig(e),t.init(),function n(e,t,r){Object.keys(e).forEach(function(i){t[i]=e[i].bind(r),Object.keys(e[i]).length>0&&n(e[i],t[i],r)})}(u,this,this)}function i(t){var n=this;n.d3=e.d3?e.d3:"undefined"!=typeof require?require("d3"):void 0,n.api=t,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function s(e){t.call(this,e)}function o(e,t){function n(e,t){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+w)+", 0)"})}function r(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})}function i(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function s(e){var t,n,r=[];if(e.ticks)return e.ticks.apply(e,p);for(n=e.domain(),t=Math.ceil(n[0]);t<n[1];t++)r.push(t);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r}function o(){var e,n=v.copy();return t.isCategory&&(e=v.domain(),n.domain([e[0],e[1]-1])),n}function u(e){var t=h?h(e):e;return"undefined"!=typeof t?t:""}function a(e){if(N)return N;var t={h:11.5,w:5.5};return e.select("text").text(u).each(function(e){var n=this.getBoundingClientRect(),r=u(e),i=n.height,s=r?n.width/r.length:void 0;i&&s&&(t.h=i,t.w=s)}).text(""),N=t,t}function f(n){return t.withoutTransition?n:e.transition(n)}function l(h){h.each(function(){function h(e,n){function r(e,t){s=void 0;for(var u=1;u<t.length;u++)if(" "===t.charAt(u)&&(s=u),i=t.substr(0,u+1),o=K.w*i.length,o>n)return r(e.concat(t.substr(0,s?s:u)),t.slice(s?s+1:u));return e.concat(t)}var i,s,o,a=u(e),f=[];return"[object Array]"===Object.prototype.toString.call(a)?a:((!n||0>=n)&&(n=Y?95:t.isCategory?Math.ceil(_(D[1])-_(D[0]))-12:110),r(f,a+""))}function p(e,t){var n=K.h;return 0===t&&(n="left"===m||"right"===m?-((Q[e.index]-1)*(K.h/2)-3):".71em"),n}function E(e){var t=v(e)+(d?0:w);return I[0]<t&&t<I[1]?g:0}function S(e){return e?e>0?"start":"end":"middle"}function x(e){return e?"rotate("+e+")":""}function T(e){return e?8*Math.sin(Math.PI*(e/180)):0}function N(e){return e?11.5-2.5*(e/15)*(e>0?1:-1):G}var C,L,A,O=l.g=e.select(this),M=this.__chart__||v,_=this.__chart__=o(),D=b?b:s(_),P=O.selectAll(".tick").data(D,_),H=P.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),B=P.exit().remove(),F=f(P).style("opacity",1),I=v.rangeExtent?v.rangeExtent():i(v.range()),R=O.selectAll(".domain").data([0]),U=(R.enter().append("path").attr("class","domain"),f(R));H.append("line"),H.append("text");var z=H.select("line"),W=F.select("line"),X=H.select("text"),V=F.select("text");t.isCategory?(w=Math.ceil((_(1)-_(0))/2),L=d?0:w,A=d?w:0):w=L=0;var $,J,K=a(O.select(".tick")),Q=[],G=Math.max(g,0)+y,Y="left"===m||"right"===m;$=P.select("text"),J=$.selectAll("tspan").data(function(e,n){var r=t.tickMultiline?h(e,t.tickWidth):[].concat(u(e));return Q[n]=r.length,r.map(function(e){return{index:n,splitted:e}})}),J.enter().append("tspan"),J.exit().remove(),J.text(function(e){return e.splitted});var Z=t.tickTextRotate;switch(m){case"bottom":C=n,z.attr("y2",g),X.attr("y",G),W.attr("x1",L).attr("x2",L).attr("y2",E),V.attr("x",0).attr("y",N(Z)).style("text-anchor",S(Z)).attr("transform",x(Z)),J.attr("x",0).attr("dy",p).attr("dx",T(Z)),U.attr("d","M"+I[0]+","+c+"V0H"+I[1]+"V"+c);break;case"top":C=n,z.attr("y2",-g),X.attr("y",-G),W.attr("x2",0).attr("y2",-g),V.attr("x",0).attr("y",-G),$.style("text-anchor","middle"),J.attr("x",0).attr("dy","0em"),U.attr("d","M"+I[0]+","+ -c+"V0H"+I[1]+"V"+ -c);break;case"left":C=r,z.attr("x2",-g),X.attr("x",-G),W.attr("x2",-g).attr("y1",A).attr("y2",A),V.attr("x",-G).attr("y",w),$.style("text-anchor","end"),J.attr("x",-G).attr("dy",p),U.attr("d","M"+ -c+","+I[0]+"H0V"+I[1]+"H"+ -c);break;case"right":C=r,z.attr("x2",g),X.attr("x",G),W.attr("x2",g).attr("y2",0),V.attr("x",G).attr("y",0),$.style("text-anchor","start"),J.attr("x",G).attr("dy",p),U.attr("d","M"+c+","+I[0]+"H0V"+I[1]+"H"+c)}if(_.rangeBand){var et=_,tt=et.rangeBand()/2;M=_=function(e){return et(e)+tt}}else M.rangeBand?M=_:B.call(C,_);H.call(C,M),F.call(C,_)})}var c,h,p,d,v=e.scale.linear(),m="bottom",g=6,y=3,b=null,w=0,E=!0;return t=t||{},c=t.withOuterTick?6:0,l.scale=function(e){return arguments.length?(v=e,l):v},l.orient=function(e){return arguments.length?(m=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",l):m},l.tickFormat=function(e){return arguments.length?(h=e,l):h},l.tickCentered=function(e){return arguments.length?(d=e,l):d},l.tickOffset=function(){return w},l.tickInterval=function(){var e,n;return t.isCategory?e=2*w:(n=l.g.select("path.domain").node().getTotalLength()-2*c,e=n/l.g.selectAll("line").size()),1/0===e?0:e},l.ticks=function(){return arguments.length?(p=arguments,l):p},l.tickCulling=function(e){return arguments.length?(E=e,l):E},l.tickValues=function(e){if("function"==typeof e)b=function(){return e(v.domain())};else{if(!arguments.length)return b;b=e}return l},l}var u,a,f,l={version:"0.4.10"};l.generate=function(e){return new r(e)},l.chart={fn:r.prototype,internal:{fn:i.prototype,axis:{fn:s.prototype}}},u=l.chart.fn,a=l.chart.internal.fn,f=l.chart.internal.axis.fn,a.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},a.initParams=function(){var e=this,t=e.d3,n=e.config;e.clipId="c3-"+ +(new Date)+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=n.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=n.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=n.axis_rotated?"left":"bottom",e.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",e.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",e.subXOrient=n.axis_rotated?"left":"bottom",e.isLegendRight="right"===n.legend_position,e.isLegendInset="inset"===n.legend_position,e.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,e.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},a.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},a.initWithData=function(t){var n,r,i=this,o=i.d3,u=i.config,a=!0;i.axis=new s(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),i.selectChart=u.bindto?"function"==typeof u.bindto.node?u.bindto:o.select(u.bindto):o.selectAll([]),i.selectChart.empty()&&(i.selectChart=o.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),u.data_filter&&(i.data.targets=i.data.targets.filter(u.data_filter)),u.data_hide&&i.addHiddenTargetIds(u.data_hide===!0?i.mapToIds(i.data.targets):u.data_hide),u.legend_hide&&i.addHiddenLegendIds(u.legend_hide===!0?i.mapToIds(i.data.targets):u.legend_hide),i.hasType("gauge")&&(u.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(o.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),u.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return u.onmouseover.call(i)}).on("mouseleave",function(){return u.onmouseout.call(i)}),n=i.svg.append("defs"),i.clipChart=i.appendClip(n,i.clipId),i.clipXAxis=i.appendClip(n,i.clipIdForXAxis),i.clipYAxis=i.appendClip(n,i.clipIdForYAxis),i.clipGrid=i.appendClip(n,i.clipIdForGrid),i.clipSubchart=i.appendClip(n,i.clipIdForSubchart),i.updateSvgSize(),r=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),r.append("text").attr("class",c.text+" "+c.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),r.append("g").attr("clip-path",i.clipPath).attr("class",c.chart),u.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),r.insert("rect",u.zoom_privileged?null:"g."+c.regions).attr("class",c.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),u.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==e.onresize&&(e.onresize=i.generateResize()),e.onresize.add&&(e.onresize.add(function(){u.onresize.call(i)}),e.onresize.add(function(){i.api.flush()}),e.onresize.add(function(){u.onresized.call(i)})),i.api.element=i.selectChart.node()},a.smoothLines=function(e,t){var n=this;"grid"===t&&e.each(function(){var e=n.d3.select(this),t=e.attr("x1"),r=e.attr("x2"),i=e.attr("y1"),s=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(s)})})},a.updateSizes=function(){var e=this,t=e.config,n=e.legend?e.getLegendHeight():0,r=e.legend?e.getLegendWidth():0,i=e.isLegendRight||e.isLegendInset?0:n,s=e.hasArcType(),o=t.axis_rotated||s?0:e.getHorizontalAxisHeight("x"),u=t.subchart_show&&!s?t.subchart_size_height+o:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:s?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+i+e.getCurrentPaddingBottom(),left:u+(s?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:s?0:e.getCurrentPaddingRight(),bottom:o+u+i+e.getCurrentPaddingBottom(),left:s?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:0/0,bottom:20+i,left:e.rotated_padding_left}:{top:e.currentHeight-u-i,right:0/0,bottom:o+i,left:e.margin.left},e.margin3={top:0,right:0/0,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(n,r),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?r+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&s&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},a.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},a.showTargets=function(){var e=this;e.svg.selectAll("."+c.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},a.redraw=function(e,t){var n,r,i,s,o,u,a,f,l,h,p,d,v,m,g,y,b,w,E,x,T,N,C,k,L,A,O,M,_,D=this,P=D.main,H=D.d3,B=D.config,j=D.getShapeIndices(D.isAreaType),F=D.getShapeIndices(D.isBarType),I=D.getShapeIndices(D.isLineType),q=D.hasArcType(),R=D.filterTargetsToShow(D.data.targets),U=D.xv.bind(D);if(e=e||{},n=S(e,"withY",!0),r=S(e,"withSubchart",!0),i=S(e,"withTransition",!0),u=S(e,"withTransform",!1),a=S(e,"withUpdateXDomain",!1),f=S(e,"withUpdateOrgXDomain",!1),l=S(e,"withTrimXDomain",!0),v=S(e,"withUpdateXAxis",a),h=S(e,"withLegend",!1),p=S(e,"withEventRect",!0),d=S(e,"withDimension",!0),s=S(e,"withTransitionForExit",i),o=S(e,"withTransitionForAxis",i),E=i?B.transition_duration:0,x=s?E:0,T=o?E:0,t=t||D.axis.generateTransitions(T),h&&B.legend_show?D.updateLegend(D.mapToIds(D.data.targets),e,t):d&&D.updateDimension(!0),D.isCategorized()&&0===R.length&&D.x.domain([0,D.axes.x.selectAll(".tick").size()]),R.length?(D.updateXDomain(R,a,f,l),B.axis_x_tick_values||(k=D.axis.updateXAxisTickValues(R))):(D.xAxis.tickValues([]),D.subXAxis.tickValues([])),B.zoom_rescale&&!e.flow&&(O=D.x.orgDomain()),D.y.domain(D.getYDomain(R,"y",O)),D.y2.domain(D.getYDomain(R,"y2",O)),!B.axis_y_tick_values&&B.axis_y_tick_count&&D.yAxis.tickValues(D.axis.generateTickValues(D.y.domain(),B.axis_y_tick_count)),!B.axis_y2_tick_values&&B.axis_y2_tick_count&&D.y2Axis.tickValues(D.axis.generateTickValues(D.y2.domain(),B.axis_y2_tick_count)),D.axis.redraw(t,q),D.axis.updateLabels(i),(a||v)&&R.length)if(B.axis_x_tick_culling&&k){for(L=1;L<k.length;L++)if(k.length/L<B.axis_x_tick_culling_max){A=L;break}D.svg.selectAll("."+c.axisX+" .tick text").each(function(e){var t=k.indexOf(e);t>=0&&H.select(this).style("display",t%A?"none":"block")})}else D.svg.selectAll("."+c.axisX+" .tick text").style("display","block");m=D.generateDrawArea?D.generateDrawArea(j,!1):void 0,g=D.generateDrawBar?D.generateDrawBar(F):void 0,y=D.generateDrawLine?D.generateDrawLine(I,!1):void 0,b=D.generateXYForText(j,F,I,!0),w=D.generateXYForText(j,F,I,!1),n&&(D.subY.domain(D.getYDomain(R,"y")),D.subY2.domain(D.getYDomain(R,"y2"))),D.tooltip.style("display","none"),D.updateXgridFocus(),P.select("text."+c.text+"."+c.empty).attr("x",D.width/2).attr("y",D.height/2).text(B.data_empty_label_text).transition().style("opacity",R.length?0:1),D.updateGrid(E),D.updateRegion(E),D.updateBar(x),D.updateLine(x),D.updateArea(x),D.updateCircle(),D.hasDataLabel()&&D.updateText(x),D.redrawArc&&D.redrawArc(E,x,u),D.redrawSubchart&&D.redrawSubchart(r,t,E,x,j,F,I),P.selectAll("."+c.selectedCircles).filter(D.isBarType.bind(D)).selectAll("circle").remove(),B.interaction_enabled&&!e.flow&&p&&(D.redrawEventRect(),D.updateZoom&&D.updateZoom()),D.updateCircleY(),M=(D.config.axis_rotated?D.circleY:D.circleX).bind(D),_=(D.config.axis_rotated?D.circleX:D.circleY).bind(D),e.flow&&(C=D.generateFlow({targets:R,flow:e.flow,duration:e.flow.duration,drawBar:g,drawLine:y,drawArea:m,cx:M,cy:_,xv:U,xForText:b,yForText:w})),(E||C)&&D.isTabVisible()?H.transition().duration(E).each(function(){var t=[];[D.redrawBar(g,!0),D.redrawLine(y,!0),D.redrawArea(m,!0),D.redrawCircle(M,_,!0),D.redrawText(b,w,e.flow,!0),D.redrawRegion(!0),D.redrawGrid(!0)].forEach(function(e){e.forEach(function(e){t.push(e)})}),N=D.generateWait(),t.forEach(function(e){N.add(e)})}).call(N,function(){C&&C(),B.onrendered&&B.onrendered.call(D)}):(D.redrawBar(g),D.redrawLine(y),D.redrawArea(m),D.redrawCircle(M,_),D.redrawText(b,w,e.flow),D.redrawRegion(),D.redrawGrid(),B.onrendered&&B.onrendered.call(D)),D.mapToIds(D.data.targets).forEach(function(e){D.withoutFadeIn[e]=!0})},a.updateAndRedraw=function(e){var t,n=this,r=n.config;e=e||{},e.withTransition=S(e,"withTransition",!0),e.withTransform=S(e,"withTransform",!1),e.withLegend=S(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=S(e,"withTransitionForTransform",e.withTransition),n.updateSizes(),e.withLegend&&r.legend_show||(t=n.axis.generateTransitions(e.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(e.withTransitionForTransform,t)),n.redraw(e,t)},a.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},a.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},a.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},a.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||E(t.data_xs))},a.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},a.getTranslate=function(e){var t,n,r=this,i=r.config;return"main"===e?(t=y(r.margin.left),n=y(r.margin.top)):"context"===e?(t=y(r.margin2.left),n=y(r.margin2.top)):"legend"===e?(t=r.margin3.left,n=r.margin3.top):"x"===e?(t=0,n=i.axis_rotated?0:r.height):"y"===e?(t=0,n=i.axis_rotated?r.height:0):"y2"===e?(t=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===e?(t=0,n=i.axis_rotated?0:r.height2):"arc"===e&&(t=r.arcWidth/2,n=r.arcHeight/2),"translate("+t+","+n+")"},a.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},a.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},a.opacityForCircle=function(e){var t=this.config.point_show?1:0;return h(e.value)?this.isScatterType(e)?.5:t:0},a.opacityForText=function(){return this.hasDataLabel()?1:0},a.xx=function(e){return e?this.x(e.x):null},a.xv=function(e){var t=this,n=e.value;return t.isTimeSeries()?n=t.parseDate(e.value):t.isCategorized()&&"string"==typeof e.value&&(n=t.config.axis_x_categories.indexOf(e.value)),Math.ceil(t.x(n))},a.yv=function(e){var t=this,n=e.axis&&"y2"===e.axis?t.y2:t.y;return Math.ceil(n(e.value))},a.subxx=function(e){return e?this.subX(e.x):null},a.transformMain=function(e,t){var n,r,i,s=this;t&&t.axisX?n=t.axisX:(n=s.main.select("."+c.axisX),e&&(n=n.transition())),t&&t.axisY?r=t.axisY:(r=s.main.select("."+c.axisY),e&&(r=r.transition())),t&&t.axisY2?i=t.axisY2:(i=s.main.select("."+c.axisY2),e&&(i=i.transition())),(e?s.main.transition():s.main).attr("transform",s.getTranslate("main")),n.attr("transform",s.getTranslate("x")),r.attr("transform",s.getTranslate("y")),i.attr("transform",s.getTranslate("y2")),s.main.select("."+c.chartArcs).attr("transform",s.getTranslate("arc"))},a.transformAll=function(e,t){var n=this;n.transformMain(e,t),n.config.subchart_show&&n.transformContext(e,t),n.legend&&n.transformLegend(e)},a.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+c.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},a.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},a.observeInserted=function(t){var n,r=this;return"undefined"==typeof MutationObserver?void e.console.error("MutationObserver not defined."):(n=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(n.disconnect(),r.intervalForObserveInserted=e.setInterval(function(){t.node().parentNode&&(e.clearInterval(r.intervalForObserveInserted),r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})}),void n.observe(t.node(),{attributes:!0,childList:!0,characterData:!0}))},a.generateResize=function(){function e(){t.forEach(function(e){e()})}var t=[];return e.add=function(e){t.push(e)},e},a.endall=function(e,t){var n=0;e.each(function(){++n}).each("end",function(){--n||t.apply(this,arguments)})},a.generateWait=function(){var e=[],t=function(t,n){var r=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty())return void (t+=1);try{e.transition()}catch(n){t+=1}}),t===e.length&&(clearInterval(r),n&&n())},10)};return t.add=function(t){e.push(t)},t},a.parseDate=function(t){var n,r=this;return t instanceof Date?n=t:"string"==typeof t?n=r.dataTimeFormat(r.config.data_xFormat).parse(t):"number"!=typeof t&&isNaN(t)||(n=new Date(+t)),(!n||isNaN(+n))&&e.console.error("Failed to parse x '"+t+"' to Date object"),n},a.isTabVisible=function(){var e;return"undefined"!=typeof document.hidden?e="hidden":"undefined"!=typeof document.mozHidden?e="mozHidden":"undefined"!=typeof document.msHidden?e="msHidden":"undefined"!=typeof document.webkitHidden&&(e="webkitHidden"),document[e]?!1:!0},a.getDefaultConfig=function(){var e={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,n,r){return this.getTooltipContent?this.getTooltipContent(e,t,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},a.additionalConfig={},a.loadConfig=function(e){function t(){var e=r.shift();return e&&n&&"object"==typeof n&&e in n?(n=n[e],t()):e?void 0:n}var n,r,i,s=this.config;Object.keys(s).forEach(function(o){n=e,r=o.split("_"),i=t(),m(i)&&(s[o]=i)})},a.getScale=function(e,t,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},a.getX=function(e,t,n,r){var i,s=this,o=s.getScale(e,t,s.isTimeSeries()),u=n?o.domain(n):o;s.isCategorized()?(r=r||function(){return 0},o=function(e,t){var n=u(e)+r(e);return t?n:Math.ceil(n)}):o=function(e,t){var n=u(e);return t?n:Math.ceil(n)};for(i in u)o[i]=u[i];return o.orgDomain=function(){return u.domain()},s.isCategorized()&&(o.domain=function(e){return arguments.length?(u.domain(e),o):(e=this.orgDomain(),[e[0],e[1]+1])}),o},a.getY=function(e,t,n){var r=this.getScale(e,t,this.isTimeSeriesY());return n&&r.domain(n),r},a.getYScale=function(e){return"y2"===this.axis.getId(e)?this.y2:this.y},a.getSubYScale=function(e){return"y2"===this.axis.getId(e)?this.subY2:this.subY},a.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},a.getYDomainMin=function(e){var t,n,r,i,s,o,u=this,a=u.config,f=u.mapToIds(e),l=u.getValuesAsIdKeyed(e);if(a.data_groups.length>0)for(o=u.hasNegativeValueInTargets(e),t=0;t<a.data_groups.length;t++)if(i=a.data_groups[t].filter(function(e){return f.indexOf(e)>=0}),0!==i.length)for(r=i[0],o&&l[r]&&l[r].forEach(function(e,t){l[r][t]=0>e?e:0}),n=1;n<i.length;n++)s=i[n],l[s]&&l[s].forEach(function(e,t){u.axis.getId(s)!==u.axis.getId(r)||!l[r]||o&&+e>0||(l[r][t]+=+e)});return u.d3.min(Object.keys(l).map(function(e){return u.d3.min(l[e])}))},a.getYDomainMax=function(e){var t,n,r,i,s,o,u=this,a=u.config,f=u.mapToIds(e),l=u.getValuesAsIdKeyed(e);if(a.data_groups.length>0)for(o=u.hasPositiveValueInTargets(e),t=0;t<a.data_groups.length;t++)if(i=a.data_groups[t].filter(function(e){return f.indexOf(e)>=0}),0!==i.length)for(r=i[0],o&&l[r]&&l[r].forEach(function(e,t){l[r][t]=e>0?e:0}),n=1;n<i.length;n++)s=i[n],l[s]&&l[s].forEach(function(e,t){u.axis.getId(s)!==u.axis.getId(r)||!l[r]||o&&0>+e||(l[r][t]+=+e)});return u.d3.max(Object.keys(l).map(function(e){return u.d3.max(l[e])}))},a.getYDomain=function(e,t,n){var r,i,s,o,u,a,f,l,c,p,d,v=this,m=v.config,g=e.filter(function(e){return v.axis.getId(e.id)===t}),y=n?v.filterByXDomain(g,n):g,w="y2"===t?m.axis_y2_min:m.axis_y_min,S="y2"===t?m.axis_y2_max:m.axis_y_max,x=v.getYDomainMin(y),T=v.getYDomainMax(y),N="y2"===t?m.axis_y2_center:m.axis_y_center,C=v.hasType("bar",y)&&m.bar_zerobased||v.hasType("area",y)&&m.area_zerobased,k="y2"===t?m.axis_y2_inverted:m.axis_y_inverted,L=v.hasDataLabel()&&m.axis_rotated,A=v.hasDataLabel()&&!m.axis_rotated;return x=h(w)?w:h(S)?S>x?x:S-10:x,T=h(S)?S:h(w)?T>w?T:w+10:T,0===y.length?"y2"===t?v.y2.domain():v.y.domain():(isNaN(x)&&(x=0),isNaN(T)&&(T=x),x===T&&(0>x?T=0:x=0),p=x>=0&&T>=0,d=0>=x&&0>=T,(h(w)&&p||h(S)&&d)&&(C=!1),C&&(p&&(x=0),d&&(T=0)),i=Math.abs(T-x),s=o=u=.1*i,"undefined"!=typeof N&&(a=Math.max(Math.abs(x),Math.abs(T)),T=N+a,x=N-a),L?(f=v.getDataLabelLength(x,T,"width"),l=b(v.y.range()),c=[f[0]/l,f[1]/l],o+=i*(c[1]/(1-c[0]-c[1])),u+=i*(c[0]/(1-c[0]-c[1]))):A&&(f=v.getDataLabelLength(x,T,"height"),o+=v.axis.convertPixelsToAxisPadding(f[1],i),u+=v.axis.convertPixelsToAxisPadding(f[0],i)),"y"===t&&E(m.axis_y_padding)&&(o=v.axis.getPadding(m.axis_y_padding,"top",o,i),u=v.axis.getPadding(m.axis_y_padding,"bottom",u,i)),"y2"===t&&E(m.axis_y2_padding)&&(o=v.axis.getPadding(m.axis_y2_padding,"top",o,i),u=v.axis.getPadding(m.axis_y2_padding,"bottom",u,i)),C&&(p&&(u=x),d&&(o=-T)),r=[x-u,T+o],k?r.reverse():r)},a.getXDomainMin=function(e){var t=this,n=t.config;return m(n.axis_x_min)?t.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},a.getXDomainMax=function(e){var t=this,n=t.config;return m(n.axis_x_max)?t.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},a.getXDomainPadding=function(e){var t,n,r,i,s=this,o=s.config,u=e[1]-e[0];return s.isCategorized()?n=0:s.hasType("bar")?(t=s.getMaxDataCount(),n=t>1?u/(t-1)/2:.5):n=.01*u,"object"==typeof o.axis_x_padding&&E(o.axis_x_padding)?(r=h(o.axis_x_padding.left)?o.axis_x_padding.left:n,i=h(o.axis_x_padding.right)?o.axis_x_padding.right:n):r=i="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:r,right:i}},a.getXDomain=function(e){var t=this,n=[t.getXDomainMin(e),t.getXDomainMax(e)],r=n[0],i=n[1],s=t.getXDomainPadding(n),o=0,u=0;return r-i!==0||t.isCategorized()||(t.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(o=t.isTimeSeries()?new Date(r.getTime()-s.left):r-s.left),(i||0===i)&&(u=t.isTimeSeries()?new Date(i.getTime()+s.right):i+s.right),[o,u]},a.updateXDomain=function(e,t,n,r,i){var s=this,o=s.config;return n&&(s.x.domain(i?i:s.d3.extent(s.getXDomain(e))),s.orgXDomain=s.x.domain(),o.zoom_enabled&&s.zoom.scale(s.x).updateScaleExtent(),s.subX.domain(s.x.domain()),s.brush&&s.brush.scale(s.subX)),t&&(s.x.domain(i?i:!s.brush||s.brush.empty()?s.orgXDomain:s.brush.extent()),o.zoom_enabled&&s.zoom.scale(s.x).updateScaleExtent()),r&&s.x.domain(s.trimXDomain(s.x.orgDomain())),s.x.domain()},a.trimXDomain=function(e){var t=this;return e[0]<=t.orgXDomain[0]&&(e[1]=+e[1]+(t.orgXDomain[0]-e[0]),e[0]=t.orgXDomain[0]),t.orgXDomain[1]<=e[1]&&(e[0]=+e[0]-(e[1]-t.orgXDomain[1]),e[1]=t.orgXDomain[1]),e},a.isX=function(e){var t=this,n=t.config;return n.data_x&&e===n.data_x||E(n.data_xs)&&x(n.data_xs,e)},a.isNotX=function(e){return!this.isX(e)},a.getXKey=function(e){var t=this,n=t.config;return n.data_x?n.data_x:E(n.data_xs)?n.data_xs[e]:null},a.getXValuesOfXKey=function(e,t){var n,r=this,i=t&&E(t)?r.mapToIds(t):[];return i.forEach(function(t){r.getXKey(t)===e&&(n=r.data.xs[t])}),n},a.getIndexByX=function(e){var t=this,n=t.filterByX(t.data.targets,e);return n.length?n[0].index:null},a.getXValue=function(e,t){var n=this;return e in n.data.xs&&n.data.xs[e]&&h(n.data.xs[e][t])?n.data.xs[e][t]:t},a.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},a.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},a.addXs=function(e){var t=this;Object.keys(e).forEach(function(n){t.config.data_xs[n]=e[n]})},a.hasMultipleX=function(e){return this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()>1},a.isMultipleX=function(){return E(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},a.addName=function(e){var t,n=this;return e&&(t=n.config.data_names[e.id],e.name=t?t:e.id),e},a.getValueOnIndex=function(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null},a.updateTargetX=function(e,t){var n=this;e.forEach(function(e){e.values.forEach(function(r,i){r.x=n.generateTargetX(t[i],e.id,i)}),n.data.xs[e.id]=t})},a.updateTargetXs=function(e,t){var n=this;e.forEach(function(e){t[e.id]&&n.updateTargetX([e],t[e.id])})},a.generateTargetX=function(e,t,n){var r,i=this;return r=i.isTimeSeries()?i.parseDate(e?e:i.getXValue(t,n)):i.isCustomX()&&!i.isCategorized()?h(e)?+e:i.getXValue(t,n):n},a.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},a.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},a.getPrevX=function(e){var t=this.xs[e-1];return"undefined"!=typeof t?t:null},a.getNextX=function(e){var t=this.xs[e+1];return"undefined"!=typeof t?t:null},a.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},a.getMaxDataCountTarget=function(e){var t,n=e.length,r=0;return n>1?e.forEach(function(e){e.values.length>r&&(t=e,r=e.values.length)}):t=n?e[0]:null,t},a.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},a.mapToIds=function(e){return e.map(function(e){return e.id})},a.mapToTargetIds=function(e){var t=this;return e?d(e)?[e]:e:t.mapToIds(t.data.targets)},a.hasTarget=function(e,t){var n,r=this.mapToIds(e);for(n=0;n<r.length;n++)if(r[n]===t)return!0;return!1},a.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},a.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},a.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},a.mapTargetsToUniqueXs=function(e){var t=this,n=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return n.map(t.isTimeSeries()?function(e){return new Date(+e)}:function(e){return+e})},a.addHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.concat(e)},a.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},a.addHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.concat(e)},a.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},a.getValuesAsIdKeyed=function(e){var t={};return e.forEach(function(e){t[e.id]=[],e.values.forEach(function(n){t[e.id].push(n.value)})}),t},a.checkValueInTargets=function(e,t){var n,r,i,s=Object.keys(e);for(n=0;n<s.length;n++)for(i=e[s[n]].values,r=0;r<i.length;r++)if(t(i[r].value))return!0;return!1},a.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return 0>e})},a.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e>0})},a.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},a.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},a.orderTargets=function(e){var t=this,n=t.config,r=t.isOrderAsc(),i=t.isOrderDesc();return r||i?e.sort(function(e,t){var n=function(e,t){return e+Math.abs(t.value)},i=e.values.reduce(n,0),s=t.values.reduce(n,0);return r?s-i:i-s}):p(n.data_order)&&e.sort(n.data_order),e},a.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t===0})},a.filterRemoveNull=function(e){return e.filter(function(e){return h(e.value)})},a.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},a.hasDataLabel=function(){var e=this.config;return"boolean"==typeof e.data_labels&&e.data_labels?!0:"object"==typeof e.data_labels&&E(e.data_labels)?!0:!1},a.getDataLabelLength=function(e,t,n){var r=this,i=[0,0],s=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return r.dataLabelFormat(e.id)(e)}).each(function(e,t){i[t]=this.getBoundingClientRect()[n]*s}).remove(),i},a.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},a.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},a.findSameXOfValues=function(e,t){var n,r=e[t].x,i=[];for(n=t-1;n>=0&&r===e[n].x;n--)i.push(e[n]);for(n=t;n<e.length&&r===e[n].x;n++)i.push(e[n]);return i},a.findClosestFromTargets=function(e,t){var n,r=this;return n=e.map(function(e){return r.findClosest(e.values,t)}),r.findClosest(n,t)},a.findClosest=function(e,t){var n,r=this,i=100;return e.filter(function(e){return e&&r.isBarType(e.id)}).forEach(function(e){var t=r.main.select("."+c.bars+r.getTargetSelectorSuffix(e.id)+" ."+c.bar+"-"+e.index).node();!n&&r.isWithinBar(t)&&(n=e)}),e.filter(function(e){return e&&!r.isBarType(e.id)}).forEach(function(e){var s=r.dist(e,t);i>s&&(i=s,n=e)}),n},a.dist=function(e,t){var n=this,r=n.config,i=r.axis_rotated?1:0,s=r.axis_rotated?0:1,o=n.circleY(e,e.index),u=n.x(e.x);return Math.pow(u-t[i],2)+Math.pow(o-t[s],2)},a.convertValuesToStep=function(e){var t,n=[].concat(e);if(!this.isCategorized())return e;for(t=e.length+1;t>0;t--)n[t]=n[t-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[e.length+1]={x:n[e.length].x+1,value:n[e.length].value,id:n[e.length].id},n},a.updateDataAttributes=function(e,t){var n=this,r=n.config,i=r["data_"+e];return"undefined"==typeof t?i:(Object.keys(t).forEach(function(e){i[e]=t[e]}),n.redraw({withLegend:!0}),i)},a.convertUrlToData=function(e,t,n,r){var i=this,s=t?t:"csv";i.d3.xhr(e,function(e,t){var o;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");o="json"===s?i.convertJsonToData(JSON.parse(t.response),n):"tsv"===s?i.convertTsvToData(t.response):i.convertCsvToData(t.response),r.call(i,o)})},a.convertXsvToData=function(e,t){var n,r=t.parseRows(e);return 1===r.length?(n=[{}],r[0].forEach(function(e){n[0][e]=null})):n=t.parse(e),n},a.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},a.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},a.convertJsonToData=function(e,t){var n,r,i=this,s=[];return t?(t.x?(n=t.value.concat(t.x),i.config.data_x=t.x):n=t.value,s.push(n),e.forEach(function(e){var t=[];n.forEach(function(n){var r=v(e[n])?null:e[n];t.push(r)}),s.push(t)}),r=i.convertRowsToData(s)):(Object.keys(e).forEach(function(t){s.push([t].concat(e[t]))}),r=i.convertColumnsToData(s)),r},a.convertRowsToData=function(e){var t,n,r=e[0],i={},s=[];for(t=1;t<e.length;t++){for(i={},n=0;n<e[t].length;n++){if(v(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");i[r[n]]=e[t][n]}s.push(i)}return s},a.convertColumnsToData=function(e){var t,n,r,i=[];for(t=0;t<e.length;t++)for(r=e[t][0],n=1;n<e[t].length;n++){if(v(i[n-1])&&(i[n-1]={}),v(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");i[n-1][r]=e[t][n]}return i},a.convertDataToTargets=function(e,t){var n,r=this,i=r.config,s=r.d3.keys(e[0]).filter(r.isNotX,r),o=r.d3.keys(e[0]).filter(r.isX,r);return s.forEach(function(n){var s=r.getXKey(n);r.isCustomX()||r.isTimeSeries()?o.indexOf(s)>=0?r.data.xs[n]=(t&&r.data.xs[n]?r.data.xs[n]:[]).concat(e.map(function(e){return e[s]}).filter(h).map(function(e,t){return r.generateTargetX(e,n,t)})):i.data_x?r.data.xs[n]=r.getOtherTargetXs():E(i.data_xs)&&(r.data.xs[n]=r.getXValuesOfXKey(s,r.data.targets)):r.data.xs[n]=e.map(function(e,t){return t})}),s.forEach(function(e){if(!r.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),n=s.map(function(t,n){var s=i.data_idConverter(t);return{id:s,id_org:t,values:e.map(function(e,o){var u=r.getXKey(t),a=e[u],f=r.generateTargetX(a,t,o);return r.isCustomX()&&r.isCategorized()&&0===n&&a&&(0===o&&(i.axis_x_categories=[]),i.axis_x_categories.push(a)),(v(e[t])||r.data.xs[t].length<=o)&&(f=void 0),{x:f,value:null===e[t]||isNaN(e[t])?null:+e[t],id:s}}).filter(function(e){return m(e.x)})}}),n.forEach(function(e){var t;i.data_xSort&&(e.values=e.values.sort(function(e,t){var n=e.x||0===e.x?e.x:1/0,r=t.x||0===t.x?t.x:1/0;return n-r})),t=0,e.values.forEach(function(e){e.index=t++}),r.data.xs[e.id].sort(function(e,t){return e-t})}),i.data_type&&r.setTargetType(r.mapToIds(n).filter(function(e){return!(e in i.data_types)}),i.data_type),n.forEach(function(e){r.addCache(e.id_org,e)}),n},a.load=function(e,t){var n=this;e&&(t.filter&&(e=e.filter(t.filter)),(t.type||t.types)&&e.forEach(function(e){var r=t.types&&t.types[e.id]?t.types[e.id]:t.type;n.setTargetType(e.id,r)}),n.data.targets.forEach(function(t){for(var n=0;n<e.length;n++)if(t.id===e[n].id){t.values=e[n].values,e.splice(n,1);break}}),n.data.targets=n.data.targets.concat(e)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()},a.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.keys,function(n){t.load(t.convertDataToTargets(n),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},a.unload=function(e,t){var n=this;return t||(t=function(){}),e=e.filter(function(e){return n.hasTarget(n.data.targets,e)}),e&&0!==e.length?(n.svg.selectAll(e.map(function(e){return n.selectorTarget(e)})).transition().style("opacity",0).remove().call(n.endall,t),void e.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+c.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):void t()},a.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},a.initEventRect=function(){var e=this;e.main.select("."+c.chart).append("g").attr("class",c.eventRects).style("fill-opacity",0)},a.redrawEventRect=function(){var e,t,n=this,r=n.config,i=n.isMultipleX(),s=n.main.select("."+c.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(c.eventRectsMultiple,i).classed(c.eventRectsSingle,!i);s.selectAll("."+c.eventRect).remove(),n.eventRect=s.selectAll("."+c.eventRect),i?(e=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(e.enter()),n.updateEventRect(e)):(t=n.getMaxDataCountTarget(n.data.targets),s.datum(t?t.values:[]),n.eventRect=s.selectAll("."+c.eventRect),e=n.eventRect.data(function(e){return e}),n.generateEventRectsForSingleX(e.enter()),n.updateEventRect(e),e.exit().remove())},a.updateEventRect=function(e){var t,n,r,i,s,o,u=this,a=u.config;e=e||u.eventRect.data(function(e){return e}),u.isMultipleX()?(t=0,n=0,r=u.width,i=u.height):(!u.isCustomX()&&!u.isTimeSeries()||u.isCategorized()?(s=u.getEventRectWidth(),o=function(e){return u.x(e.x)-s/2}):(u.updateXs(),s=function(e){var t=u.getPrevX(e.index),n=u.getNextX(e.index);return null===t&&null===n?a.axis_rotated?u.height:u.width:(null===t&&(t=u.x.domain()[0]),null===n&&(n=u.x.domain()[1]),Math.max(0,(u.x(n)-u.x(t))/2))},o=function(e){var t=u.getPrevX(e.index),n=u.getNextX(e.index),r=u.data.xs[e.id][e.index];return null===t&&null===n?0:(null===t&&(t=u.x.domain()[0]),(u.x(r)+u.x(t))/2)}),t=a.axis_rotated?0:o,n=a.axis_rotated?o:0,r=a.axis_rotated?u.width:s,i=a.axis_rotated?s:u.height),e.attr("class",u.classEvent.bind(u)).attr("x",t).attr("y",n).attr("width",r).attr("height",i)},a.generateEventRectsForSingleX=function(e){var t=this,n=t.d3,r=t.config;e.append("rect").attr("class",t.classEvent.bind(t)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(e){var n=e.index;t.dragging||t.flowing||t.hasArcType()||(r.point_focus_expand_enabled&&t.expandCircles(n,null,!0),t.expandBars(n,null,!0),t.main.selectAll("."+c.shape+"-"+n).each(function(e){r.data_onmouseover.call(t.api,e)}))}).on("mouseout",function(e){var n=e.index;t.config&&(t.hasArcType()||(t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars(),t.main.selectAll("."+c.shape+"-"+n).each(function(e){r.data_onmouseout.call(t.api,e)})))}).on("mousemove",function(e){var i,s=e.index,o=t.svg.select("."+c.eventRect+"-"+s);t.dragging||t.flowing||t.hasArcType()||(t.isStepType(e)&&"step-after"===t.config.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,s))&&(s-=1),i=t.filterTargetsToShow(t.data.targets).map(function(e){return t.addName(t.getValueOnIndex(e.values,s))}),r.tooltip_grouped&&(t.showTooltip(i,this),t.showXGridFocus(i)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&t.main.selectAll("."+c.shape+"-"+s).each(function(){n.select(this).classed(c.EXPANDED,!0),r.data_selection_enabled&&o.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(t.hideXGridFocus(),t.hideTooltip(),r.data_selection_grouped||(t.unexpandCircles(s),t.unexpandBars(s)))}).filter(function(e){return t.isWithinShape(this,e)}).each(function(e){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(e))&&o.style("cursor","pointer"),r.tooltip_grouped||(t.showTooltip([e],this),t.showXGridFocus([e]),r.point_focus_expand_enabled&&t.expandCircles(s,e.id,!0),t.expandBars(s,e.id,!0))}))}).on("click",function(e){var i=e.index;if(!t.hasArcType()&&t.toggleShape){if(t.cancelClick)return void (t.cancelClick=!1);t.isStepType(e)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,i))&&(i-=1),t.main.selectAll("."+c.shape+"-"+i).each(function(e){(r.data_selection_grouped||t.isWithinShape(this,e))&&(t.toggleShape(this,e,i),t.config.data_onclick.call(t.api,e,this))})}}).call(r.data_selection_draggable&&t.drag?n.behavior.drag().origin(Object).on("drag",function(){t.drag(n.mouse(this))}).on("dragstart",function(){t.dragstart(n.mouse(this))}).on("dragend",function(){t.dragend()}):function(){})},a.generateEventRectsForMultipleXs=function(e){function t(){n.svg.select("."+c.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,r=n.d3,i=n.config;e.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",c.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||t())}).on("mousemove",function(){var e,s,o,u,a=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(a)){if(e=r.mouse(this),s=n.findClosestFromTargets(a,e),!n.mouseover||s&&s.id===n.mouseover.id||(i.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!s)return void t();o=n.isScatterType(s)||!i.tooltip_grouped?[s]:n.filterByX(a,s.x),u=o.map(function(e){return n.addName(e)}),n.showTooltip(u,this),i.point_focus_expand_enabled&&n.expandCircles(s.index,s.id,!0),n.expandBars(s.index,s.id,!0),n.showXGridFocus(u),(n.isBarType(s.id)||n.dist(s,e)<100)&&(n.svg.select("."+c.eventRect).style("cursor","pointer"),n.mouseover||(i.data_onmouseover.call(n.api,s),n.mouseover=s))}}).on("click",function(){var e,t,s=n.filterTargetsToShow(n.data.targets);n.hasArcType(s)||(e=r.mouse(this),t=n.findClosestFromTargets(s,e),t&&(n.isBarType(t.id)||n.dist(t,e)<100)&&n.main.selectAll("."+c.shapes+n.getTargetSelectorSuffix(t.id)).selectAll("."+c.shape+"-"+t.index).each(function(){(i.data_selection_grouped||n.isWithinShape(this,t))&&(n.toggleShape(this,t,t.index),n.config.data_onclick.call(n.api,t,this))}))}).call(i.data_selection_draggable&&n.drag?r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},a.dispatchEvent=function(t,n,r){var i=this,s="."+c.eventRect+(i.isMultipleX()?"":"-"+n),o=i.main.select(s).node(),u=o.getBoundingClientRect(),a=u.left+(r?r[0]:0),f=u.top+(r?r[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,e,0,a,f,a,f,!1,!1,!1,!1,0,null),o.dispatchEvent(l)},a.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},a.getCurrentHeight=function(){var e=this,t=e.config,n=t.size_height?t.size_height:e.getParentHeight();return n>0?n:320/(e.hasType("gauge")?2:1)},a.getCurrentPaddingTop=function(){var e=this.config;return h(e.padding_top)?e.padding_top:0},a.getCurrentPaddingBottom=function(){var e=this.config;return h(e.padding_bottom)?e.padding_bottom:0},a.getCurrentPaddingLeft=function(e){var t=this,n=t.config;return h(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(g(t.getAxisWidthByAxisId("x",e)),40):1:!n.axis_y_show||n.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:g(t.getAxisWidthByAxisId("y",e))},a.getCurrentPaddingRight=function(){var e=this,t=e.config,n=10,r=e.isLegendRight?e.getLegendWidth()+20:0;return h(t.padding_right)?t.padding_right+1:t.axis_rotated?n+r:!t.axis_y2_show||t.axis_y2_inner?2+r+(e.axis.getY2AxisLabelPosition().isOuter?20:0):g(e.getAxisWidthByAxisId("y2"))+r},a.getParentRectValue=function(e){for(var t,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{t=n.getBoundingClientRect()[e]}catch(r){"width"===e&&(t=n.offsetWidth)}if(t)break;n=n.parentNode}return t},a.getParentWidth=function(){return this.getParentRectValue("width")},a.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},a.getSvgLeft=function(e){var t=this,n=t.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,i=n.axis_rotated?c.axisX:c.axisY,s=t.main.select("."+i).node(),o=s&&r?s.getBoundingClientRect():{right:0},u=t.selectChart.node().getBoundingClientRect(),a=t.hasArcType(),f=o.right-u.left-(a?0:t.getCurrentPaddingLeft(e));return f>0?f:0},a.getAxisWidthByAxisId=function(e,t){var n=this,r=n.axis.getLabelPositionById(e);return n.axis.getMaxTickWidth(e,t)+(r.isInner?20:40)},a.getHorizontalAxisHeight=function(e){var t=this,n=t.config,r=30;return"x"!==e||n.axis_x_show?"x"===e&&n.axis_x_height?n.axis_x_height:"y"!==e||n.axis_y_show?"y2"!==e||n.axis_y2_show?("x"===e&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),r+(t.axis.getLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):t.rotated_padding_top:!n.legend_show||t.isLegendRight||t.isLegendInset?1:10:8},a.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},a.getShapeIndices=function(e){var t,n,r=this,i=r.config,s={},o=0;return r.filterTargetsToShow(r.data.targets.filter(e,r)).forEach(function(e){for(t=0;t<i.data_groups.length;t++)if(!(i.data_groups[t].indexOf(e.id)<0))for(n=0;n<i.data_groups[t].length;n++)if(i.data_groups[t][n]in s){s[e.id]=s[i.data_groups[t][n]];break}v(s[e.id])&&(s[e.id]=o++)}),s.__max__=o-1,s},a.getShapeX=function(e,t,n,r){var i=this,s=r?i.subX:i.x;return function(r){var i=r.id in n?n[r.id]:0;return r.x||0===r.x?s(r.x)-e*(t/2-i):0}},a.getShapeY=function(e){var t=this;return function(n){var r=e?t.getSubYScale(n.id):t.getYScale(n.id);return r(n.value)}},a.getShapeOffset=function(e,t,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(e,r))),s=i.map(function(e){return e.id});return function(e,o){var u=n?r.getSubYScale(e.id):r.getYScale(e.id),a=u(0),f=a;return i.forEach(function(n){var i=r.isStepType(e)?r.convertValuesToStep(n.values):n.values;n.id!==e.id&&t[n.id]===t[e.id]&&s.indexOf(n.id)<s.indexOf(e.id)&&i[o].value*e.value>=0&&(f+=u(i[o].value)-a)}),f}},a.isWithinShape=function(e,t){var n,r=this,i=r.d3.select(e);return r.isTargetToShow(t.id)?"circle"===e.nodeName?n=r.isStepType(t)?r.isWithinStep(e,r.getYScale(t.id)(t.value)):r.isWithinCircle(e,1.5*r.pointSelectR(t)):"path"===e.nodeName&&(n=i.classed(c.bar)?r.isWithinBar(e):!0):n=!1,n},a.getInterpolate=function(e){var t=this;return t.isSplineType(e)?"cardinal":t.isStepType(e)?t.config.line_step_type:"linear"},a.initLine=function(){var e=this;e.main.select("."+c.chart).append("g").attr("class",c.chartLines)},a.updateTargetsForLine=function(e){var t,n,r=this,i=r.config,s=r.classChartLine.bind(r),o=r.classLines.bind(r),u=r.classAreas.bind(r),a=r.classCircles.bind(r),f=r.classFocus.bind(r);t=r.main.select("."+c.chartLines).selectAll("."+c.chartLine).data(e).attr("class",function(e){return s(e)+f(e)}),n=t.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o),n.append("g").attr("class",u),n.append("g").attr("class",function(e){return r.generateClass(c.selectedCircles,e.id)}),n.append("g").attr("class",a).style("cursor",function(e){return i.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(e){r.main.selectAll("."+c.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+c.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},a.updateLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+c.lines).selectAll("."+c.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},a.redrawLine=function(e,t){return[(t?this.mainLine.transition():this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},a.generateDrawLine=function(e,t){var n=this,r=n.config,i=n.d3.svg.line(),s=n.generateGetLinePoints(e,t),o=t?n.getSubYScale:n.getYScale,u=function(e){return(t?n.subxx:n.xx).call(n,e)},a=function(e,t){return r.data_groups.length>0?s(e,t)[0][1]:o.call(n,e.id)(e.value)};return i=r.axis_rotated?i.x(a).y(u):i.x(u).y(a),r.line_connectNull||(i=i.defined(function(e){return null!=e.value})),function(e){var s,u=r.line_connectNull?n.filterRemoveNull(e.values):e.values,a=t?n.x:n.subX,f=o.call(n,e.id),l=0,c=0;return n.isLineType(e)?r.data_regions[e.id]?s=n.lineWithRegions(u,a,f,r.data_regions[e.id]):(n.isStepType(e)&&(u=n.convertValuesToStep(u)),s=i.interpolate(n.getInterpolate(e))(u)):(u[0]&&(l=a(u[0].x),c=f(u[0].value)),s=r.axis_rotated?"M "+c+" "+l:"M "+l+" "+c),s?s:"M 0 0"}},a.generateGetLinePoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,s=n.getShapeX(0,i,e,!!t),o=n.getShapeY(!!t),u=n.getShapeOffset(n.isLineType,e,!!t),a=t?n.getSubYScale:n.getYScale;return function(e,t){var i=a.call(n,e.id)(0),f=u(e,t)||i,l=s(e),c=o(e);return r.axis_rotated&&(0<e.value&&i>c||e.value<0&&c>i)&&(c=i),[[l,c-(i-f)],[l,c-(i-f)],[l,c-(i-f)],[l,c-(i-f)]]}},a.lineWithRegions=function(e,t,n,r){function i(e,t){var n;for(n=0;n<t.length;n++)if(t[n].start<e&&e<=t[n].end)return!0;return!1}function s(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}var o,u,a,f,l,c,h,p,d,g,y,b,w=this,E=w.config,S=-1,x="M",T=w.isCategorized()?.5:0,N=[];if(m(r))for(o=0;o<r.length;o++)N[o]={},N[o].start=v(r[o].start)?e[0].x:w.isTimeSeries()?w.parseDate(r[o].start):r[o].start,N[o].end=v(r[o].end)?e[e.length-1].x:w.isTimeSeries()?w.parseDate(r[o].end):r[o].end;for(y=E.axis_rotated?function(e){return n(e.value)}:function(e){return t(e.x)},b=E.axis_rotated?function(e){return t(e.x)}:function(e){return n(e.value)},a=w.isTimeSeries()?function(e,r,i,o){var u,a=e.x.getTime(),f=r.x-e.x,c=new Date(a+f*i),h=new Date(a+f*(i+o));return u=E.axis_rotated?[[n(l(i)),t(c)],[n(l(i+o)),t(h)]]:[[t(c),n(l(i))],[t(h),n(l(i+o))]],s(u)}:function(e,r,i,o){var u;return u=E.axis_rotated?[[n(l(i),!0),t(f(i))],[n(l(i+o),!0),t(f(i+o))]]:[[t(f(i),!0),n(l(i))],[t(f(i+o),!0),n(l(i+o))]],s(u)},o=0;o<e.length;o++){if(v(N)||!i(e[o].x,N))x+=" "+y(e[o])+" "+b(e[o]);else for(f=w.getScale(e[o-1].x+T,e[o].x+T,w.isTimeSeries()),l=w.getScale(e[o-1].value,e[o].value),c=t(e[o].x)-t(e[o-1].x),h=n(e[o].value)-n(e[o-1].value),p=Math.sqrt(Math.pow(c,2)+Math.pow(h,2)),d=2/p,g=2*d,u=d;1>=u;u+=g)x+=a(e[o-1],e[o],u,d);S=e[o].x}return x},a.updateArea=function(e){var t=this,n=t.d3;t.mainArea=t.main.selectAll("."+c.areas).selectAll("."+c.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},a.redrawArea=function(e,t){return[(t?this.mainArea.transition():this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},a.generateDrawArea=function(e,t){var n=this,r=n.config,i=n.d3.svg.area(),s=n.generateGetAreaPoints(e,t),o=t?n.getSubYScale:n.getYScale,u=function(e){return(t?n.subxx:n.xx).call(n,e)},a=function(e,t){return r.data_groups.length>0?s(e,t)[0][1]:o.call(n,e.id)(n.getAreaBaseValue(e.id))},f=function(e,t){return r.data_groups.length>0?s(e,t)[1][1]:o.call(n,e.id)(e.value)};return i=r.axis_rotated?i.x0(a).x1(f).y(u):i.x(u).y0(a).y1(f),r.line_connectNull||(i=i.defined(function(e){return null!==e.value})),function(e){var t,s=r.line_connectNull?n.filterRemoveNull(e.values):e.values,o=0,u=0;return n.isAreaType(e)?(n.isStepType(e)&&(s=n.convertValuesToStep(s)),t=i.interpolate(n.getInterpolate(e))(s)):(s[0]&&(o=n.x(s[0].x),u=n.getYScale(e.id)(s[0].value)),t=r.axis_rotated?"M "+u+" "+o:"M "+o+" "+u),t?t:"M 0 0"}},a.getAreaBaseValue=function(){return 0},a.generateGetAreaPoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,s=n.getShapeX(0,i,e,!!t),o=n.getShapeY(!!t),u=n.getShapeOffset(n.isAreaType,e,!!t),a=t?n.getSubYScale:n.getYScale;return function(e,t){var i=a.call(n,e.id)(0),f=u(e,t)||i,l=s(e),c=o(e);return r.axis_rotated&&(0<e.value&&i>c||e.value<0&&c>i)&&(c=i),[[l,f],[l,c-(i-f)],[l,c-(i-f)],[l,f]]}},a.updateCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+c.circles).selectAll("."+c.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},a.redrawCircle=function(e,t,n){var r=this.main.selectAll("."+c.selectedCircle);return[(n?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",e).attr("cy",t),(n?r.transition():r).attr("cx",e).attr("cy",t)]},a.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},a.updateCircleY=function(){var e,t,n=this;n.config.data_groups.length>0?(e=n.getShapeIndices(n.isLineType),t=n.generateGetLinePoints(e),n.circleY=function(e,n){return t(e,n)[0][1]}):n.circleY=function(e){return n.getYScale(e.id)(e.value)}},a.getCircles=function(e,t){var n=this;return(t?n.main.selectAll("."+c.circles+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+c.circle+(h(e)?"-"+e:""))},a.expandCircles=function(e,t,n){var r=this,i=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(e,t).classed(c.EXPANDED,!0).attr("r",i)},a.unexpandCircles=function(e){var t=this,n=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(c.EXPANDED)}).classed(c.EXPANDED,!1).attr("r",n)},a.pointR=function(e){var t=this,n=t.config;return t.isStepType(e)?0:p(n.point_r)?n.point_r(e):n.point_r},a.pointExpandedR=function(e){var t=this,n=t.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},a.pointSelectR=function(e){var t=this,n=t.config;return n.point_select_r?n.point_select_r:4*t.pointR(e)},a.isWithinCircle=function(e,t){var n=this.d3,r=n.mouse(e),i=n.select(e),s=+i.attr("cx"),o=+i.attr("cy");return Math.sqrt(Math.pow(s-r[0],2)+Math.pow(o-r[1],2))<t},a.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},a.initBar=function(){var e=this;e.main.select("."+c.chart).append("g").attr("class",c.chartBars)},a.updateTargetsForBar=function(e){var t,n,r=this,i=r.config,s=r.classChartBar.bind(r),o=r.classBars.bind(r),u=r.classFocus.bind(r);t=r.main.select("."+c.chartBars).selectAll("."+c.chartBar).data(e).attr("class",function(e){return s(e)+u(e)}),n=t.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o).style("cursor",function(e){return i.data_selection_isselectable(e)?"pointer":null})},a.updateBar=function(e){var t=this,n=t.barData.bind(t),r=t.classBar.bind(t),i=t.initialOpacity.bind(t),s=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll("."+c.bars).selectAll("."+c.bar).data(n),t.mainBar.enter().append("path").attr("class",r).style("stroke",s).style("fill",s),t.mainBar.style("opacity",i),t.mainBar.exit().transition().duration(e).style("opacity",0).remove()},a.redrawBar=function(e,t){return[(t?this.mainBar.transition():this.mainBar).attr("d",e).style("fill",this.color).style("opacity",1)]},a.getBarW=function(e,t){var n=this,r=n.config,i="number"==typeof r.bar_width?r.bar_width:t?e.tickInterval()*r.bar_width_ratio/t:0;return r.bar_width_max&&i>r.bar_width_max?r.bar_width_max:i},a.getBars=function(e,t){var n=this;return(t?n.main.selectAll("."+c.bars+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+c.bar+(h(e)?"-"+e:""))},a.expandBars=function(e,t,n){var r=this;n&&r.unexpandBars(),r.getBars(e,t).classed(c.EXPANDED,!0)},a.unexpandBars=function(e){var t=this;t.getBars(e).classed(c.EXPANDED,!1)},a.generateDrawBar=function(e,t){var n=this,r=n.config,i=n.generateGetBarPoints(e,t);return function(e,t){var n=i(e,t),s=r.axis_rotated?1:0,o=r.axis_rotated?0:1,u="M "+n[0][s]+","+n[0][o]+" L"+n[1][s]+","+n[1][o]+" L"+n[2][s]+","+n[2][o]+" L"+n[3][s]+","+n[3][o]+" z";return u}},a.generateGetBarPoints=function(e,t){var n=this,r=t?n.subXAxis:n.xAxis,i=e.__max__+1,s=n.getBarW(r,i),o=n.getShapeX(s,i,e,!!t),u=n.getShapeY(!!t),a=n.getShapeOffset(n.isBarType,e,!!t),f=t?n.getSubYScale:n.getYScale;return function(e,t){var r=f.call(n,e.id)(0),i=a(e,t)||r,l=o(e),c=u(e);return n.config.axis_rotated&&(0<e.value&&r>c||e.value<0&&c>r)&&(c=r),[[l,i],[l,c-(r-i)],[l+s,c-(r-i)],[l+s,i]]}},a.isWithinBar=function(e){var t=this.d3.mouse(e),n=e.getBoundingClientRect(),r=e.pathSegList.getItem(0),i=e.pathSegList.getItem(1),s=Math.min(r.x,i.x),o=Math.min(r.y,i.y),u=n.width,a=n.height,f=2,l=s-f,c=s+u+f,h=o+a+f,p=o-f;return l<t[0]&&t[0]<c&&p<t[1]&&t[1]<h},a.initText=function(){var e=this;e.main.select("."+c.chart).append("g").attr("class",c.chartTexts),e.mainText=e.d3.selectAll([])},a.updateTargetsForText=function(e){var t,n,r=this,i=r.classChartText.bind(r),s=r.classTexts.bind(r),o=r.classFocus.bind(r);t=r.main.select("."+c.chartTexts).selectAll("."+c.chartText).data(e).attr("class",function(e){return i(e)+o(e)}),n=t.enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",s)},a.updateText=function(e){var t=this,n=t.config,r=t.barOrLineData.bind(t),i=t.classText.bind(t);t.mainText=t.main.selectAll("."+c.texts).selectAll("."+c.text).data(r),t.mainText.enter().append("text").attr("class",i).attr("text-anchor",function(e){return n.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return t.color(e)}).style("fill-opacity",0),t.mainText.text(function(e,n,r){return t.dataLabelFormat(e.id)(e.value,e.id,n,r)}),t.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},a.redrawText=function(e,t,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},a.getTextRect=function(e,t){var n,r=this.d3.select("body").append("div").classed("c3",!0),i=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);return i.selectAll(".dummy").data([e]).enter().append("text").classed(t?t:"",!0).text(e).each(function(){n=this.getBoundingClientRect()}),r.remove(),n},a.generateXYForText=function(e,t,n,r){var i=this,s=i.generateGetAreaPoints(e,!1),o=i.generateGetBarPoints(t,!1),u=i.generateGetLinePoints(n,!1),a=r?i.getXForText:i.getYForText;return function(e,t){var n=i.isAreaType(e)?s:i.isBarType(e)?o:u;return a.call(i,n(e,t),e,this)}},a.getXForText=function(e,t,n){var r,i,s=this,o=n.getBoundingClientRect();return s.config.axis_rotated?(i=s.isBarType(t)?4:6,r=e[2][1]+i*(t.value<0?-1:1)):r=s.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(r>s.width?r=s.width-o.width:0>r&&(r=4)),r},a.getYForText=function(e,t,n){var r,i=this,s=n.getBoundingClientRect();return i.config.axis_rotated?r=(e[0][0]+e[2][0]+.6*s.height)/2:(r=e[2][1],t.value<0?(r+=s.height,i.isBarType(t)&&i.isSafari()?r-=3:!i.isBarType(t)&&i.isChrome()&&(r+=3)):r+=i.isBarType(t)?-3:-6),null!==t.value||i.config.axis_rotated||(r<s.height?r=s.height:r>this.height&&(r=this.height-4)),r},a.setTargetType=function(e,t){var n=this,r=n.config;n.mapToTargetIds(e).forEach(function(e){n.withoutFadeIn[e]=t===r.data_types[e],r.data_types[e]=t}),e||(r.data_type=t)},a.hasType=function(e,t){var n=this,r=n.config.data_types,i=!1;return t=t||n.data.targets,t&&t.length?t.forEach(function(t){var n=r[t.id];(n&&n.indexOf(e)>=0||!n&&"line"===e)&&(i=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(t){r[t]===e&&(i=!0)}):i=n.config.data_type===e,i},a.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},a.isLineType=function(e){var t=this.config,n=d(e)?e:e.id;return!t.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[n])>=0},a.isStepType=function(e){var t=d(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[t])>=0},a.isSplineType=function(e){var t=d(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[t])>=0},a.isAreaType=function(e){var t=d(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[t])>=0},a.isBarType=function(e){var t=d(e)?e:e.id;return"bar"===this.config.data_types[t]},a.isScatterType=function(e){var t=d(e)?e:e.id;return"scatter"===this.config.data_types[t]},a.isPieType=function(e){var t=d(e)?e:e.id;return"pie"===this.config.data_types[t]},a.isGaugeType=function(e){var t=d(e)?e:e.id;return"gauge"===this.config.data_types[t]},a.isDonutType=function(e){var t=d(e)?e:e.id;return"donut"===this.config.data_types[t]},a.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},a.lineData=function(e){return this.isLineType(e)?[e]:[]},a.arcData=function(e){return this.isArcType(e.data)?[e]:[]},a.barData=function(e){return this.isBarType(e)?e.values:[]},a.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},a.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},a.initGrid=function(){var e=this,t=e.config,n=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",c.grid),t.grid_x_show&&e.grid.append("g").attr("class",c.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",c.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",c.xgridFocus).append("line").attr("class",c.xgridFocus),e.xgrid=n.selectAll([]),t.grid_lines_front||e.initGridLines()},a.initGridLines=function(){var e=this,t=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",c.grid+" "+c.gridLines),e.gridLines.append("g").attr("class",c.xgridLines),e.gridLines.append("g").attr("class",c.ygridLines),e.xgridLines=t.selectAll([])},a.updateXGrid=function(e){var t=this,n=t.config,r=t.d3,i=t.generateGridData(n.grid_x_type,t.x),s=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=n.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-s},y2:function(e){return t.x(e)-s}}:{x1:function(e){return t.x(e)+s},x2:function(e){return t.x(e)+s},y1:0,y2:t.height},t.xgrid=t.main.select("."+c.xgrids).selectAll("."+c.xgrid).data(i),t.xgrid.enter().append("line").attr("class",c.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},a.updateYGrid=function(){var e=this,t=e.config,n=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+c.ygrids).selectAll("."+c.ygrid).data(n),e.ygrid.enter().append("line").attr("class",c.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},a.gridTextAnchor=function(e){return e.position?e.position:"end"},a.gridTextDx=function(e){return"start"===e.position?4:"middle"===e.position?0:-4},a.xGridTextX=function(e){return"start"===e.position?-this.height:"middle"===e.position?-this.height/2:0},a.yGridTextX=function(e){return"start"===e.position?0:"middle"===e.position?this.width/2:this.width},a.updateGrid=function(e){var t,n,r,i=this,s=i.main,o=i.config;i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),s.select("line."+c.xgridFocus).style("visibility","hidden"),o.grid_x_show&&i.updateXGrid(),i.xgridLines=s.select("."+c.xgridLines).selectAll("."+c.xgridLine).data(o.grid_x_lines),t=i.xgridLines.enter().append("g").attr("class",function(e){return c.xgridLine+(e["class"]?" "+e["class"]:"")}),t.append("line").style("opacity",0),t.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",o.axis_rotated?"":"rotate(-90)").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),o.grid_y_show&&i.updateYGrid(),i.ygridLines=s.select("."+c.ygridLines).selectAll("."+c.ygridLine).data(o.grid_y_lines),n=i.ygridLines.enter().append("g").attr("class",function(e){return c.ygridLine+(e["class"]?" "+e["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",o.axis_rotated?"rotate(-90)":"").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),r=i.yv.bind(i),i.ygridLines.select("line").transition().duration(e).attr("x1",o.axis_rotated?r:0).attr("x2",o.axis_rotated?r:i.width).attr("y1",o.axis_rotated?0:r).attr("y2",o.axis_rotated?i.height:r).style("opacity",1),i.ygridLines.select("text").transition().duration(e).attr("x",o.axis_rotated?i.xGridTextX.bind(i):i.yGridTextX.bind(i)).attr("y",r).text(function(e){return e.text}).style("opacity",1),i.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},a.redrawGrid=function(e){var t=this,n=t.config,r=t.xv.bind(t),i=t.xgridLines.select("line"),s=t.xgridLines.select("text");return[(e?i.transition():i).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?t.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:t.height).style("opacity",1),(e?s.transition():s).attr("x",n.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",r).text(function(e){return e.text}).style("opacity",1)]},a.showXGridFocus=function(e){var t=this,n=t.config,r=e.filter(function(e){return e&&h(e.value)}),i=t.main.selectAll("line."+c.xgridFocus),s=t.xx.bind(t);n.tooltip_show&&(t.hasType("scatter")||t.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",s).attr(n.axis_rotated?"y2":"x2",s),t.smoothLines(i,"grid")))},a.hideXGridFocus=function(){this.main.select("line."+c.xgridFocus).style("visibility","hidden")},a.updateXgridFocus=function(){var e=this,t=e.config;e.main.select("line."+c.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?e.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:e.height)},a.generateGridData=function(e,t){var n,r,i,s,o=this,u=[],a=o.main.select("."+c.axisX).selectAll(".tick").size();if("year"===e)for(n=o.getXDomain(),r=n[0].getFullYear(),i=n[1].getFullYear(),s=r;i>=s;s++)u.push(new Date(s+"-01-01 00:00:00"));else u=t.ticks(10),u.length>a&&(u=u.filter(function(e){return(""+e).indexOf(".")<0}));return u},a.getGridFilterToRemove=function(e){return e?function(t){var n=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t["class"]===e["class"])&&(n=!0)}),n}:function(){return!0}},a.removeGridLines=function(e,t){var n=this,r=n.config,i=n.getGridFilterToRemove(e),s=function(e){return!i(e)},o=t?c.xgridLines:c.ygridLines,u=t?c.xgridLine:c.ygridLine;n.main.select("."+o).selectAll("."+u).filter(i).transition().duration(r.transition_duration).style("opacity",0).remove(),t?r.grid_x_lines=r.grid_x_lines.filter(s):r.grid_y_lines=r.grid_y_lines.filter(s)},a.initTooltip=function(){var e,t=this,n=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",c.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(t.isTimeSeries()&&d(n.tooltip_init_x)){for(n.tooltip_init_x=t.parseDate(n.tooltip_init_x),e=0;e<t.data.targets[0].values.length&&t.data.targets[0].values[e].x-n.tooltip_init_x!==0;e++);n.tooltip_init_x=e}t.tooltip.html(n.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[n.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},a.getTooltipContent=function(e,t,n,r){var i,s,o,u,a,f,l=this,h=l.config,p=h.tooltip_format_title||t,d=h.tooltip_format_name||function(e){return e},v=h.tooltip_format_value||n;for(s=0;s<e.length;s++)e[s]&&(e[s].value||0===e[s].value)&&(i||(o=p?p(e[s].x):e[s].x,i="<table class='"+c.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),u=v(e[s].value,e[s].ratio,e[s].id,e[s].index),void 0!==u&&(a=d(e[s].name,e[s].ratio,e[s].id,e[s].index),f=l.levelColor?l.levelColor(e[s].value):r(e[s].id),i+="<tr class='"+c.tooltipName+"-"+e[s].id+"'>",i+="<td class='name'><span style='background-color:"+f+"'></span>"+a+"</td>",i+="<td class='value'>"+u+"</td>",i+="</tr>"));return i+"</table>"},a.tooltipPosition=function(e,t,n,r){var i,s,o,u,a,f=this,l=f.config,c=f.d3,h=f.hasArcType(),p=c.mouse(r);return h?(s=(f.width-(f.isLegendRight?f.getLegendWidth():0))/2+p[0],u=f.height/2+p[1]+20):(i=f.getSvgLeft(!0),l.axis_rotated?(s=i+p[0]+100,o=s+t,a=f.currentWidth-f.getCurrentPaddingRight(),u=f.x(e[0].x)+20):(s=i+f.getCurrentPaddingLeft(!0)+f.x(e[0].x)+20,o=s+t,a=i+f.currentWidth-f.getCurrentPaddingRight(),u=p[1]+15),o>a&&(s-=o-a+20),u+n>f.currentHeight&&(u-=n+30)),0>u&&(u=0),{top:u,left:s}},a.showTooltip=function(e,t){var n,r,i,s=this,o=s.config,u=s.hasArcType(),f=e.filter(function(e){return e&&h(e.value)}),l=o.tooltip_position||a.tooltipPosition;0!==f.length&&o.tooltip_show&&(s.tooltip.html(o.tooltip_contents.call(s,e,s.axis.getXAxisTickFormat(),s.getYFormat(u),s.color)).style("display","block"),n=s.tooltip.property("offsetWidth"),r=s.tooltip.property("offsetHeight"),i=l.call(this,f,n,r,t),s.tooltip.style("top",i.top+"px").style("left",i.left+"px"))},a.hideTooltip=function(){this.tooltip.style("display","none")},a.initLegend=function(){var e=this;return e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),e.config.legend_show?void e.updateLegendWithDefaults():(e.legend.style("visibility","hidden"),void (e.hiddenLegendIds=e.mapToIds(e.data.targets)))},a.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},a.updateSizeForLegend=function(e,t){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-e-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-t-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-e,right:0/0,bottom:0,left:n.isLegendRight?n.currentWidth-t:n.isLegendInset?i.left:0}},a.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},a.updateLegendStep=function(e){this.legendStep=e},a.updateLegendItemWidth=function(e){this.legendItemWidth=e},a.updateLegendItemHeight=function(e){this.legendItemHeight=e},a.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},a.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(t=e.isLegendRight?e.currentHeight:Math.max(20,e.legendItemHeight)*(e.legendStep+1)),t},a.opacityForLegend=function(e){return e.classed(c.legendItemHidden)?null:1},a.opacityForUnfocusedLegend=function(e){return e.classed(c.legendItemHidden)?null:.3},a.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+c.legendItem).filter(function(t){return e.indexOf(t)>=0}).classed(c.legendItemFocused,t).transition().duration(100).style("opacity",function(){var e=t?n.opacityForLegend:n.opacityForUnfocusedLegend;return e.call(n,n.d3.select(this))})},a.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+c.legendItem).classed(c.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},a.showLegend=function(e){var t=this,n=t.config;n.legend_show||(n.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},a.hideLegend=function(e){var t=this,n=t.config;n.legend_show&&w(e)&&(n.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},a.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},a.updateLegend=function(e,t,n){function r(e,t){return w.legendItemTextBox[t]||(w.legendItemTextBox[t]=w.getTextRect(e.textContent,c.legendItem)),w.legendItemTextBox[t]}function i(t,n,i){function s(e,t){t||(o=(d-A-p)/2,k>o&&(o=(d-p)/2,A=0,H++)),P[e]=H,D[H]=w.isLegendInset?10:o,O[e]=A,A+=p}var o,u,a=0===i,f=i===e.length-1,l=r(t,n),c=l.width+L+(!f||w.isLegendRight||w.isLegendInset?T:0),h=l.height+x,p=w.isLegendRight||w.isLegendInset?h:c,d=w.isLegendRight||w.isLegendInset?w.getLegendHeight():w.getLegendWidth();return a&&(A=0,H=0,N=0,C=0),E.legend_show&&!w.isLegendToShow(n)?void (M[n]=_[n]=P[n]=O[n]=0):(M[n]=c,_[n]=h,(!N||c>=N)&&(N=c),(!C||h>=C)&&(C=h),u=w.isLegendRight||w.isLegendInset?C:N,void (E.legend_equally?(Object.keys(M).forEach(function(e){M[e]=N}),Object.keys(_).forEach(function(e){_[e]=C}),o=(d-u*e.length)/2,k>o?(A=0,H=0,e.forEach(function(e){s(e)})):s(n,!0)):s(n)))}var s,o,u,a,f,l,h,p,d,v,g,y,b,w=this,E=w.config,x=4,T=10,N=0,C=0,k=10,L=15,A=0,O={},M={},_={},D=[0],P={},H=0;t=t||{},p=S(t,"withTransition",!0),d=S(t,"withTransitionForTransform",!0),w.isLegendInset&&(H=E.legend_inset_step?E.legend_inset_step:e.length,w.updateLegendStep(H)),w.isLegendRight?(s=function(e){return N*P[e]},a=function(e){return D[P[e]]+O[e]}):w.isLegendInset?(s=function(e){return N*P[e]+10},a=function(e){return D[P[e]]+O[e]}):(s=function(e){return D[P[e]]+O[e]},a=function(e){return C*P[e]}),o=function(e,t){return s(e,t)+14},f=function(e,t){return a(e,t)+9},u=function(e,t){return s(e,t)},l=function(e,t){return a(e,t)-5},h=w.legend.selectAll("."+c.legendItem).data(e).enter().append("g").attr("class",function(e){return w.generateClass(c.legendItem,e)}).style("visibility",function(e){return w.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){E.legend_item_onclick?E.legend_item_onclick.call(w,e):w.d3.event.altKey?(w.api.hide(),w.api.show(e)):(w.api.toggle(e),w.isTargetToShow(e)?w.api.focus(e):w.api.revert())}).on("mouseover",function(e){w.d3.select(this).classed(c.legendItemFocused,!0),!w.transiting&&w.isTargetToShow(e)&&w.api.focus(e),E.legend_item_onmouseover&&E.legend_item_onmouseover.call(w,e)}).on("mouseout",function(e){w.d3.select(this).classed(c.legendItemFocused,!1),w.api.revert(),E.legend_item_onmouseout&&E.legend_item_onmouseout.call(w,e)}),h.append("text").text(function(e){return m(E.data_names[e])?E.data_names[e]:e}).each(function(e,t){i(this,e,t)}).style("pointer-events","none").attr("x",w.isLegendRight||w.isLegendInset?o:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:f),h.append("rect").attr("class",c.legendItemEvent).style("fill-opacity",0).attr("x",w.isLegendRight||w.isLegendInset?u:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:l),h.append("rect").attr("class",c.legendItemTile).style("pointer-events","none").style("fill",w.color).attr("x",w.isLegendRight||w.isLegendInset?o:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:a).attr("width",10).attr("height",10),b=w.legend.select("."+c.legendBackground+" rect"),w.isLegendInset&&N>0&&0===b.size()&&(b=w.legend.insert("g","."+c.legendItem).attr("class",c.legendBackground).append("rect")),v=w.legend.selectAll("text").data(e).text(function(e){return m(E.data_names[e])?E.data_names[e]:e}).each(function(e,t){i(this,e,t)}),(p?v.transition():v).attr("x",o).attr("y",f),g=w.legend.selectAll("rect."+c.legendItemEvent).data(e),(p?g.transition():g).attr("width",function(e){return M[e]}).attr("height",function(e){return _[e]}).attr("x",u).attr("y",l),y=w.legend.selectAll("rect."+c.legendItemTile).data(e),(p?y.transition():y).style("fill",w.color).attr("x",s).attr("y",a),b&&(p?b.transition():b).attr("height",w.getLegendHeight()-12).attr("width",N*(H+1)+10),w.legend.selectAll("."+c.legendItem).classed(c.legendItemHidden,function(e){return!w.isTargetToShow(e)}),w.updateLegendItemWidth(N),w.updateLegendItemHeight(C),w.updateLegendStep(H),w.updateSizes(),w.updateScales(),w.updateSvgSize(),w.transformAll(d,n),w.legendHasRendered=!0},n(t,s),s.prototype.init=function(){var e=this.owner,t=e.config,n=e.main;e.axes.x=n.append("g").attr("class",c.axis+" "+c.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",c.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=n.append("g").attr("class",c.axis+" "+c.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",c.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=n.append("g").attr("class",c.axis+" "+c.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",c.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},s.prototype.getXAxis=function(e,t,n,r,i,s,u){var a=this.owner,f=a.config,l={isCategory:a.isCategorized(),withOuterTick:i,tickMultiline:f.axis_x_tick_multiline,tickWidth:f.axis_x_tick_width,tickTextRotate:u?0:f.axis_x_tick_rotate,withoutTransition:s},c=o(a.d3,l).scale(e).orient(t);return a.isTimeSeries()&&r&&(r=r.map(function(e){return a.parseDate(e)})),c.tickFormat(n).tickValues(r),a.isCategorized()&&(c.tickCentered(f.axis_x_tick_centered),w(f.axis_x_tick_culling)&&(f.axis_x_tick_culling=!1)),c},s.prototype.updateXAxisTickValues=function(e,t){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(e),i.axis_x_tick_count,r.isTimeSeries())),t?t.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},s.prototype.getYAxis=function(e,t,n,r,i,s){var u={withOuterTick:i,withoutTransition:s},a=this.owner,f=a.d3,l=a.config,c=o(f,u).scale(e).orient(t).tickFormat(n);return a.isTimeSeriesY()?c.ticks(f.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):c.tickValues(r),c},s.prototype.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:"y"},s.prototype.getXAxisTickFormat=function(){var e=this.owner,t=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return 0>e?e.toFixed(0):e};return t.axis_x_tick_format&&(p(t.axis_x_tick_format)?n=t.axis_x_tick_format:e.isTimeSeries()&&(n=function(n){return n?e.axisTimeFormat(t.axis_x_tick_format)(n):""})),p(n)?function(t){return n.call(e,t)}:n},s.prototype.getTickValues=function(e,t){return e?e:t?t.tickValues():void 0},s.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},s.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},s.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},s.prototype.getLabelOptionByAxisId=function(e){var t,n=this.owner,r=n.config;return"y"===e?t=r.axis_y_label:"y2"===e?t=r.axis_y2_label:"x"===e&&(t=r.axis_x_label),t},s.prototype.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e);return d(t)?t:t?t.text:null},s.prototype.setLabelText=function(e,t){var n=this.owner,r=n.config,i=this.getLabelOptionByAxisId(e);d(i)?"y"===e?r.axis_y_label=t:"y2"===e?r.axis_y2_label=t:"x"===e&&(r.axis_x_label=t):i&&(i.text=t)},s.prototype.getLabelPosition=function(e,t){var n=this.getLabelOptionByAxisId(e),r=n&&"object"==typeof n&&n.position?n.position:t;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},s.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},s.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},s.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},s.prototype.getLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},s.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},s.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},s.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},s.prototype.xForAxisLabel=function(e,t){var n=this.owner;return e?t.isLeft?0:t.isCenter?n.width/2:n.width:t.isBottom?-n.height:t.isMiddle?-n.height/2:0},s.prototype.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},s.prototype.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},s.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},s.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},s.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},s.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},s.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},s.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},s.prototype.dyForXAxisLabel=function(){var e=this.owner,t=e.config,n=this.getXAxisLabelPosition();return t.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},s.prototype.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},s.prototype.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},s.prototype.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},s.prototype.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},s.prototype.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},s.prototype.getMaxTickWidth=function(e,t){var n,r,i,s,o,u=this.owner,a=u.config,f=0;return t&&u.currentMaxTickWidths[e]?u.currentMaxTickWidths[e]:(u.svg&&(n=u.filterTargetsToShow(u.data.targets),"y"===e?(r=u.y.copy().domain(u.getYDomain(n,"y")),i=this.getYAxis(r,u.yOrient,a.axis_y_tick_format,u.yAxisTickValues,!1,!0)):"y2"===e?(r=u.y2.copy().domain(u.getYDomain(n,"y2")),i=this.getYAxis(r,u.y2Orient,a.axis_y2_tick_format,u.y2AxisTickValues,!1,!0)):(r=u.x.copy().domain(u.getXDomain(n)),i=this.getXAxis(r,u.xOrient,u.xAxisTickFormat,u.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),s=u.d3.select("body").append("div").classed("c3",!0),o=s.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o.append("g").call(i).each(function(){u.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();f<e.width&&(f=e.width)}),s.remove()})),u.currentMaxTickWidths[e]=0>=f?u.currentMaxTickWidths[e]:f,u.currentMaxTickWidths[e])},s.prototype.updateLabels=function(e){var t=this.owner,n=t.main.select("."+c.axisX+" ."+c.axisXLabel),r=t.main.select("."+c.axisY+" ."+c.axisYLabel),i=t.main.select("."+c.axisY2+" ."+c.axisY2Label);(e?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(e?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},s.prototype.getPadding=function(e,t,n,r){return h(e[t])?"ratio"===e.unit?e[t]*r:this.convertPixelsToAxisPadding(e[t],r):n},s.prototype.convertPixelsToAxisPadding=function(e,t){var n=this.owner,r=n.config.axis_rotated?n.width:n.height;return t*(e/r)},s.prototype.generateTickValues=function(e,t,n){var r,i,s,o,u,a,f,l=e;if(t)if(r=p(t)?t():t,1===r)l=[e[0]];else if(2===r)l=[e[0],e[e.length-1]];else if(r>2){for(o=r-2,i=e[0],s=e[e.length-1],u=(s-i)/(o+1),l=[i],a=0;o>a;a++)f=+i+u*(a+1),l.push(n?new Date(f):f);l.push(s)}return n||(l=l.sort(function(e,t){return e-t})),l},s.prototype.generateTransitions=function(e){var t=this.owner,n=t.axes;return{axisX:e?n.x.transition().duration(e):n.x,axisY:e?n.y.transition().duration(e):n.y,axisY2:e?n.y2.transition().duration(e):n.y2,axisSubX:e?n.subx.transition().duration(e):n.subx}},s.prototype.redraw=function(e,t){var n=this.owner;n.axes.x.style("opacity",t?0:1),n.axes.y.style("opacity",t?0:1),n.axes.y2.style("opacity",t?0:1),n.axes.subx.style("opacity",t?0:1),e.axisX.call(n.xAxis),e.axisY.call(n.yAxis),e.axisY2.call(n.y2Axis),e.axisSubX.call(n.subXAxis)},a.getClipPath=function(t){var n=e.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+t+")"},a.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},a.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},a.getAxisClipY=function(e){return e?-20:-this.margin.top},a.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},a.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},a.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},a.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},a.getAxisClipWidth=function(e){var t=this,n=Math.max(30,t.margin.left),r=Math.max(30,t.margin.right);return e?t.width+2+n+r:t.margin.left+20},a.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},a.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},a.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},a.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},a.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},a.initPie=function(){var e=this,t=e.d3,n=e.config;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),n.data_order||e.pie.sort(null)},a.updateRadius=function(){var e=this,t=e.config,n=t.gauge_width||t.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=.95*e.radiusExpanded,e.innerRadiusRatio=n?(e.radius-n)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},a.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},a.updateAngle=function(e){var t,n,r=this,i=r.config,s=!1,o=0,u=i.gauge_min,a=i.gauge_max;return r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,e=t,e.index=o),o++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),r.isGaugeType(e.data)&&(t=Math.PI/(a-u),n=e.value<u?0:e.value<a?e.value-u:a-u,e.startAngle=-1*(Math.PI/2),e.endAngle=e.startAngle+t*n),s?e:null},a.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),n=function(n,r){var i;return r?t(n):(i=e.updateAngle(n),i?t(i):"M 0 0")};return n.centroid=t.centroid,n},a.getSvgArcExpanded=function(e){var t=this,n=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e?e:1)).innerRadius(t.innerRadius);return function(e){var r=t.updateAngle(e);return r?n(r):"M 0 0"}},a.getArc=function(e,t,n){return n||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},a.transformForArcLabel=function(e){var t,n,r,i,s,o=this,u=o.updateAngle(e),a="";return u&&!o.hasType("gauge")&&(t=this.svgArc.centroid(u),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?0:t[1],i=Math.sqrt(n*n+r*r),s=o.radius&&i?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/i:0,a="translate("+n*s+","+r*s+")"),a},a.getArcRatio=function(e){var t=this,n=t.hasType("gauge")?Math.PI:2*Math.PI;return e?(e.endAngle-e.startAngle)/n:null},a.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},a.textForArcLabel=function(e){var t,n,r,i,s,o=this;return o.shouldShowArcLabel()?(t=o.updateAngle(e),n=t?t.value:null,r=o.getArcRatio(t),i=e.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(r)?(s=o.getArcLabelFormat(),s?s(n,r,i):o.defaultArcValueFormat(n,r)):""):""},a.expandArc=function(t){var n,r=this;return r.transiting?void (n=e.setInterval(function(){r.transiting||(e.clearInterval(n),r.legend.selectAll(".c3-legend-item-focused").size()>0&&r.expandArc(t))},10)):(t=r.mapToTargetIds(t),void r.svg.selectAll(r.selectorTargets(t,"."+c.chartArc)).each(function(e){r.shouldExpand(e.data.id)&&r.d3.select(this).selectAll("path").transition().duration(50).attr("d",r.svgArcExpanded).transition().duration(100).attr("d",r.svgArcExpandedSub).each(function(e){r.isDonutType(e.data)})}))},a.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+c.chartArc)).selectAll("path").transition().duration(50).attr("d",t.svgArc),t.svg.selectAll("."+c.arc).style("opacity",1))},a.shouldExpand=function(e){var t=this,n=t.config;return t.isDonutType(e)&&n.donut_expand||t.isGaugeType(e)&&n.gauge_expand||t.isPieType(e)&&n.pie_expand},a.shouldShowArcLabel=function(){var e=this,t=e.config,n=!0;return e.hasType("donut")?n=t.donut_label_show:e.hasType("pie")&&(n=t.pie_label_show),n},a.meetsArcLabelThreshold=function(e){var t=this,n=t.config,r=t.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return e>=r},a.getArcLabelFormat=function(){var e=this,t=e.config,n=t.pie_label_format;return e.hasType("gauge")?n=t.gauge_label_format:e.hasType("donut")&&(n=t.donut_label_format),n},a.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},a.updateTargetsForArc=function(e){var t,n,r=this,i=r.main,s=r.classChartArc.bind(r),o=r.classArcs.bind(r),u=r.classFocus.bind(r);t=i.select("."+c.chartArcs).selectAll("."+c.chartArc).data(r.pie(e)).attr("class",function(e){return s(e)+u(e.data)}),n=t.enter().append("g").attr("class",s),n.append("g").attr("class",o),n.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},a.initArc=function(){var e=this;e.arcs=e.main.select("."+c.chart).append("g").attr("class",c.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",c.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},a.redrawArc=function(e,t,n){var r,i=this,s=i.d3,o=i.config,u=i.main;r=u.selectAll("."+c.arcs).selectAll("."+c.arc).data(i.arcData.bind(i)),r.enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(e){return i.color(e.data)}).style("cursor",function(e){return o.interaction_enabled&&o.data_selection_isselectable(e)?"pointer":null}).style("opacity",0).each(function(e){i.isGaugeType(e.data)&&(e.startAngle=e.endAngle=-1*(Math.PI/2)),this._current=e}),r.attr("transform",function(e){return!i.isGaugeType(e.data)&&n?"scale(0)":""}).style("opacity",function(e){return e===this._current?0:1}).on("mouseover",o.interaction_enabled?function(e){var t,n;i.transiting||(t=i.updateAngle(e),n=i.convertToArcData(t),i.expandArc(t.data.id),i.api.focus(t.data.id),i.toggleFocusLegend(t.data.id,!0),i.config.data_onmouseover(n,this))}:null).on("mousemove",o.interaction_enabled?function(e){var t=i.updateAngle(e),n=i.convertToArcData(t),r=[n];i.showTooltip(r,this)}:null).on("mouseout",o.interaction_enabled?function(e){var t,n;i.transiting||(t=i.updateAngle(e),n=i.convertToArcData(t),i.unexpandArc(t.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(n,this))}:null).on("click",o.interaction_enabled?function(e,t){var n=i.updateAngle(e),r=i.convertToArcData(n);i.toggleShape&&i.toggleShape(this,r,t),i.config.data_onclick.call(i.api,r,this)}:null).each(function(){i.transiting=!0}).transition().duration(e).attrTween("d",function(e){var t,n=i.updateAngle(e);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),t=s.interpolate(this._current,n),this._current=t(0),function(n){var r=t(n);return r.data=e.data,i.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(e){return i.levelColor?i.levelColor(e.data.values[0].value):i.color(e.data.id)}).style("opacity",1).call(i.endall,function(){i.transiting=!1}),r.exit().transition().duration(t).style("opacity",0).remove(),u.selectAll("."+c.chartArc).select("text").style("opacity",0).attr("class",function(e){return i.isGaugeType(e.data)?c.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(e){return i.isGaugeType(e.data)?Math.round(i.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return i.isTargetToShow(e.data.id)&&i.isArcType(e.data)?1:0}),u.select("."+c.chartArcsTitle).style("opacity",i.hasType("donut")||i.hasType("gauge")?1:0),i.hasType("gauge")&&(i.arcs.select("."+c.chartArcsBackground).attr("d",function(){var e={data:[{value:o.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return i.getArc(e,!0,!0)}),i.arcs.select("."+c.chartArcsGaugeUnit).attr("dy",".75em").text(o.gauge_label_show?o.gauge_units:""),i.arcs.select("."+c.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/2)+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_min:""),i.arcs.select("."+c.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/2+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_max:""))},a.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",c.chartArcsBackground),e.append("text").attr("class",c.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",c.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",c.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},a.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},a.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",c.regions)},a.updateRegion=function(e){var t=this,n=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+c.regions).selectAll("."+c.region).data(n.regions),t.mainRegion.enter().append("g").attr("class",t.classRegion.bind(t)).append("rect").style("fill-opacity",0),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},a.redrawRegion=function(e){var t=this,n=t.mainRegion.selectAll("rect"),r=t.regionX.bind(t),i=t.regionY.bind(t),s=t.regionWidth.bind(t),o=t.regionHeight.bind(t);return[(e?n.transition():n).attr("x",r).attr("y",i).attr("width",s).attr("height",o).style("fill-opacity",function(e){return h(e.opacity)?e.opacity:.1})]},a.regionX=function(e){var t,n=this,r=n.config,i="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated&&"start"in e?i(e.start):0:r.axis_rotated?0:"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0},a.regionY=function(e){var t,n=this,r=n.config,i="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?0:"end"in e?i(e.end):0:r.axis_rotated&&"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0},a.regionWidth=function(e){var t,n=this,r=n.config,i=n.regionX(e),s="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated&&"end"in e?s(e.end):n.width:r.axis_rotated?n.width:"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.width,i>t?0:t-i},a.regionHeight=function(e){var t,n=this,r=n.config,i=this.regionY(e),s="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?n.height:"start"in e?s(e.start):n.height:r.axis_rotated&&"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.height,i>t?0:t-i},a.isRegionOnX=function(e){return!e.axis||"x"===e.axis},a.drag=function(e){var t,n,r,i,s,o,u,a,f=this,l=f.config,h=f.main,p=f.d3;f.hasArcType()||l.data_selection_enabled&&(!l.zoom_enabled||f.zoom.altDomain)&&l.data_selection_multiple&&(t=f.dragStart[0],n=f.dragStart[1],r=e[0],i=e[1],s=Math.min(t,r),o=Math.max(t,r),u=l.data_selection_grouped?f.margin.top:Math.min(n,i),a=l.data_selection_grouped?f.height:Math.max(n,i),h.select("."+c.dragarea).attr("x",s).attr("y",u).attr("width",o-s).attr("height",a-u),h.selectAll("."+c.shapes).selectAll("."+c.shape).filter(function(e){return l.data_selection_isselectable(e)}).each(function(e,t){var n,r,i,l,h,d,v=p.select(this),m=v.classed(c.SELECTED),g=v.classed(c.INCLUDED),y=!1;if(v.classed(c.circle))n=1*v.attr("cx"),r=1*v.attr("cy"),h=f.togglePoint,y=n>s&&o>n&&r>u&&a>r;else{if(!v.classed(c.bar))return;d=T(this),n=d.x,r=d.y,i=d.width,l=d.height,h=f.togglePath,y=!(n>o||s>n+i||r>a||u>r+l)}y^g&&(v.classed(c.INCLUDED,!g),v.classed(c.SELECTED,!m),h.call(f,!m,v,e,t))}))},a.dragstart=function(e){var t=this,n=t.config;t.hasArcType()||n.data_selection_enabled&&(t.dragStart=e,t.main.select("."+c.chart).append("rect").attr("class",c.dragarea).style("opacity",.1),t.dragging=!0)},a.dragend=function(){var e=this,t=e.config;e.hasArcType()||t.data_selection_enabled&&(e.main.select("."+c.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+c.shape).classed(c.INCLUDED,!1),e.dragging=!1)},a.selectPoint=function(e,t,n){var r=this,i=r.config,s=(i.axis_rotated?r.circleY:r.circleX).bind(r),o=(i.axis_rotated?r.circleX:r.circleY).bind(r),u=r.pointSelectR.bind(r);i.data_onselected.call(r.api,t,e.node()),r.main.select("."+c.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+c.selectedCircle+"-"+n).data([t]).enter().append("circle").attr("class",function(){return r.generateClass(c.selectedCircle,n)}).attr("cx",s).attr("cy",o).attr("stroke",function(){return r.color(t)}).attr("r",function(e){return 1.4*r.pointSelectR(e)}).transition().duration(100).attr("r",u)},a.unselectPoint=function(e,t,n){var r=this;r.config.data_onunselected(t,e.node()),r.main.select("."+c.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+c.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},a.togglePoint=function(e,t,n,r){e?this.selectPoint(t,n,r):this.unselectPoint(t,n,r)},a.selectPath=function(e,t){var n=this;n.config.data_onselected.call(n,t,e.node()),e.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(t)).brighter(.75)})},a.unselectPath=function(e,t){var n=this;n.config.data_onunselected.call(n,t,e.node()),e.transition().duration(100).style("fill",function(){return n.color(t)})},a.togglePath=function(e,t,n,r){e?this.selectPath(t,n,r):this.unselectPath(t,n,r)},a.getToggle=function(e,t){var n,r=this;return"circle"===e.nodeName?n=r.isStepType(t)?function(){}:r.togglePoint:"path"===e.nodeName&&(n=r.togglePath),n},a.toggleShape=function(e,t,n){var r=this,i=r.d3,s=r.config,o=i.select(e),u=o.classed(c.SELECTED),a=r.getToggle(e,t).bind(r);s.data_selection_enabled&&s.data_selection_isselectable(t)&&(s.data_selection_multiple||r.main.selectAll("."+c.shapes+(s.data_selection_grouped?r.getTargetSelectorSuffix(t.id):"")).selectAll("."+c.shape).each(function(e,t){var n=i.select(this);n.classed(c.SELECTED)&&a(!1,n.classed(c.SELECTED,!1),e,t)}),o.classed(c.SELECTED,!u),a(!u,o,t,n))},a.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+c.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},a.initSubchart=function(){var e=this,t=e.config,n=e.context=e.svg.append("g").attr("transform",e.getTranslate("context"));n.style("visibility",t.subchart_show?"visible":"hidden"),n.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",c.chart),n.select("."+c.chart).append("g").attr("class",c.chartBars),n.select("."+c.chart).append("g").attr("class",c.chartLines),n.append("g").attr("clip-path",e.clipPath).attr("class",c.brush).call(e.brush),e.axes.subx=n.append("g").attr("class",c.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis)},a.updateTargetsForSubchart=function(e){var t,n,r,i,s=this,o=s.context,u=s.config,a=s.classChartBar.bind(s),f=s.classBars.bind(s),l=s.classChartLine.bind(s),h=s.classLines.bind(s),p=s.classAreas.bind(s);u.subchart_show&&(i=o.select("."+c.chartBars).selectAll("."+c.chartBar).data(e).attr("class",a),r=i.enter().append("g").style("opacity",0).attr("class",a),r.append("g").attr("class",f),n=o.select("."+c.chartLines).selectAll("."+c.chartLine).data(e).attr("class",l),t=n.enter().append("g").style("opacity",0).attr("class",l),t.append("g").attr("class",h),t.append("g").attr("class",p),o.selectAll("."+c.brush+" rect").attr(u.axis_rotated?"width":"height",u.axis_rotated?s.width2:s.height2))},a.updateBarForSubchart=function(e){var t=this;t.contextBar=t.context.selectAll("."+c.bars).selectAll("."+c.bar).data(t.barData.bind(t)),t.contextBar.enter().append("path").attr("class",t.classBar.bind(t)).style("stroke","none").style("fill",t.color),t.contextBar.style("opacity",t.initialOpacity.bind(t)),t.contextBar.exit().transition().duration(e).style("opacity",0).remove()},a.redrawBarForSubchart=function(e,t,n){(t?this.contextBar.transition().duration(n):this.contextBar).attr("d",e).style("opacity",1)},a.updateLineForSubchart=function(e){var t=this;t.contextLine=t.context.selectAll("."+c.lines).selectAll("."+c.line).data(t.lineData.bind(t)),t.contextLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.contextLine.style("opacity",t.initialOpacity.bind(t)),t.contextLine.exit().transition().duration(e).style("opacity",0).remove()},a.redrawLineForSubchart=function(e,t,n){(t?this.contextLine.transition().duration(n):this.contextLine).attr("d",e).style("opacity",1)},a.updateAreaForSubchart=function(e){var t=this,n=t.d3;t.contextArea=t.context.selectAll("."+c.areas).selectAll("."+c.area).data(t.lineData.bind(t)),t.contextArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.contextArea.style("opacity",0),t.contextArea.exit().transition().duration(e).style("opacity",0).remove()},a.redrawAreaForSubchart=function(e,t,n){(t?this.contextArea.transition().duration(n):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},a.redrawSubchart=function(e,t,n,r,i,s,o){var u,a,f,l=this,c=l.d3,h=l.config;l.context.style("visibility",h.subchart_show?"visible":"hidden"),h.subchart_show&&(c.event&&"zoom"===c.event.type&&l.brush.extent(l.x.orgDomain()).update(),e&&(l.brush.empty()||l.brush.extent(l.x.orgDomain()).update(),u=l.generateDrawArea(i,!0),a=l.generateDrawBar(s,!0),f=l.generateDrawLine(o,!0),l.updateBarForSubchart(n),l.updateLineForSubchart(n),l.updateAreaForSubchart(n),l.redrawBarForSubchart(a,n,n),l.redrawLineForSubchart(f,n,n),l.redrawAreaForSubchart(u,n,n)))},a.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},a.transformContext=function(e,t){var n,r=this;t&&t.axisSubX?n=t.axisSubX:(n=r.context.select("."+c.axisX),e&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},a.getDefaultExtent=function(){var e=this,t=e.config,n=p(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(n=[e.parseDate(n[0]),e.parseDate(n[1])]),n},a.initZoom=function(){var e,t=this,n=t.d3,r=t.config;t.zoom=n.behavior.zoom().on("zoomstart",function(){e=n.event.sourceEvent,t.zoom.altDomain=n.event.sourceEvent.altKey?t.x.orgDomain():null,r.zoom_onzoomstart.call(t.api,n.event.sourceEvent)}).on("zoom",function(){t.redrawForZoom.call(t)}).on("zoomend",function(){var i=n.event.sourceEvent;i&&e.clientX===i.clientX&&e.clientY===i.clientY||(t.redrawEventRect(),t.updateZoom(),r.zoom_onzoomend.call(t.api,t.x.orgDomain()))}),t.zoom.scale=function(e){return r.axis_rotated?this.y(e):this.x(e)},t.zoom.orgScaleExtent=function(){var e=r.zoom_extent?r.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]},t.zoom.updateScaleExtent=function(){var e=b(t.x.orgDomain())/b(t.orgXDomain),n=this.orgScaleExtent();return this.scaleExtent([n[0]*e,n[1]*e]),this}},a.updateZoom=function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};e.main.select("."+c.zoomRect).call(t).on("dblclick.zoom",null),e.main.selectAll("."+c.eventRect).call(t).on("dblclick.zoom",null)},a.redrawForZoom=function(){var e=this,t=e.d3,n=e.config,r=e.zoom,i=e.x;if(n.zoom_enabled&&0!==e.filterTargetsToShow(e.data.targets).length){if("mousemove"===t.event.sourceEvent.type&&r.altDomain)return i.domain(r.altDomain),void r.scale(i).updateScaleExtent();e.isCategorized()&&i.orgDomain()[0]===e.orgXDomain[0]&&i.domain([e.orgXDomain[0]-1e-10,i.orgDomain()[1]]),e.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),n.zoom_onzoom.call(e.api,i.orgDomain())}},a.generateColor=function(){var e=this,t=e.config,n=e.d3,r=t.data_colors,i=E(t.color_pattern)?t.color_pattern:n.scale.category10().range(),s=t.data_color,o=[];return function(e){var t,n=e.id||e.data&&e.data.id||e;return r[n]instanceof Function?t=r[n](e):r[n]?t=r[n]:(o.indexOf(n)<0&&o.push(n),t=i[o.indexOf(n)%i.length],r[n]=t),s instanceof Function?s(t,e):t}},a.generateLevelColor=function(){var e=this,t=e.config,n=t.color_pattern,r=t.color_threshold,i="value"===r.unit,s=r.values&&r.values.length?r.values:[],o=r.max||100;return E(t.color_threshold)?function(e){var t,r,u=n[n.length-1];for(t=0;t<s.length;t++)if(r=i?e:100*e/o,r<s[t]){u=n[t];break}return u}:null},a.getYFormat=function(e){var t=this,n=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,r=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,i,s){var o="y2"===t.axis.getId(s)?r:n;return o.call(t,e,i)}},a.yFormat=function(e){var t=this,n=t.config,r=n.axis_y_tick_format?n.axis_y_tick_format:t.defaultValueFormat;return r(e)},a.y2Format=function(e){var t=this,n=t.config,r=n.axis_y2_tick_format?n.axis_y2_tick_format:t.defaultValueFormat;return r(e)},a.defaultValueFormat=function(e){return h(e)?+e:""},a.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},a.dataLabelFormat=function(e){var t,n=this,r=n.config.data_labels,i=function(e){return h(e)?+e:""};return t="function"==typeof r.format?r.format:"object"==typeof r.format?r.format[e]?r.format[e]===!0?i:r.format[e]:function(){return""}:i},a.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},a.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},a.getCaches=function(e){var t,n=[];for(t=0;t<e.length;t++)e[t]in this.cache&&n.push(this.cloneTarget(this.cache[e[t]]));return n};var c=a.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};a.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},a.classText=function(e){return this.generateClass(c.text,e.index)},a.classTexts=function(e){return this.generateClass(c.texts,e.id)},a.classShape=function(e){return this.generateClass(c.shape,e.index)},a.classShapes=function(e){return this.generateClass(c.shapes,e.id)},a.classLine=function(e){return this.classShape(e)+this.generateClass(c.line,e.id)},a.classLines=function(e){return this.classShapes(e)+this.generateClass(c.lines,e.id)},a.classCircle=function(e){return this.classShape(e)+this.generateClass(c.circle,e.index)},a.classCircles=function(e){return this.classShapes(e)+this.generateClass(c.circles,e.id)},a.classBar=function(e){return this.classShape(e)+this.generateClass(c.bar,e.index)},a.classBars=function(e){return this.classShapes(e)+this.generateClass(c.bars,e.id)},a.classArc=function(e){return this.classShape(e.data)+this.generateClass(c.arc,e.data.id)},a.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(c.arcs,e.data.id)},a.classArea=function(e){return this.classShape(e)+this.generateClass(c.area,e.id)},a.classAreas=function(e){return this.classShapes(e)+this.generateClass(c.areas,e.id)},a.classRegion=function(e,t){return this.generateClass(c.region,t)+" "+("class"in e?e["class"]:"")},a.classEvent=function(e){return this.generateClass(c.eventRect,e.index)},a.classTarget=function(e){var t=this,n=t.config.data_classes[e],r="";return n&&(r=" "+c.target+"-"+n),t.generateClass(c.target,e)+r},a.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},a.classFocused=function(e){return" "+(this.focusedTargetIds.indexOf(e.id)>=0?c.focused:"")},a.classDefocused=function(e){return" "+(this.defocusedTargetIds.indexOf(e.id)>=0?c.defocused:"")},a.classChartText=function(e){return c.chartText+this.classTarget(e.id)},a.classChartLine=function(e){return c.chartLine+this.classTarget(e.id)},a.classChartBar=function(e){return c.chartBar+this.classTarget(e.id)},a.classChartArc=function(e){return c.chartArc+this.classTarget(e.data.id)},a.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},a.selectorTarget=function(e,t){return(t||"")+"."+c.target+this.getTargetSelectorSuffix(e)},a.selectorTargets=function(e,t){var n=this;return e=e||[],e.length?e.map(function(e){return n.selectorTarget(e,t)}):null},a.selectorLegend=function(e){return"."+c.legendItem+this.getTargetSelectorSuffix(e)},a.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null};var h=a.isValue=function(e){return e||0===e},p=a.isFunction=function(e){return"function"==typeof e},d=a.isString=function(e){return"string"==typeof e},v=a.isUndefined=function(e){return"undefined"==typeof e},m=a.isDefined=function(e){return"undefined"!=typeof e},g=a.ceil10=function(e){return 10*Math.ceil(e/10)},y=a.asHalfPixel=function(e){return Math.ceil(e)+.5},b=a.diffDomain=function(e){return e[1]-e[0]},w=a.isEmpty=function(e){return!e||d(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length},E=a.notEmpty=function(e){return Object.keys(e).length>0},S=a.getOption=function(e,t,n){return m(e[t])?e[t]:n},x=a.hasValue=function(e,t){var n=!1;return Object.keys(e).forEach(function(r){e[r]===t&&(n=!0)}),n},T=a.getPathBox=function(e){var t=e.getBoundingClientRect(),n=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)],r=n[0].x,i=Math.min(n[0].y,n[1].y);return{x:r,y:i,width:t.width,height:t.height}};u.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(c.focused,!0).classed(c.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},u.defocus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),t.classed(c.focused,!1).classed(c.defocused,!0),n.hasArcType()&&n.unexpandArc(e),n.toggleFocusLegend(e,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),n.defocusedTargetIds=e},u.revert=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e)),t.classed(c.focused,!1).classed(c.defocused,!1),n.hasArcType()&&n.unexpandArc(e),n.config.legend_show&&(n.showLegend(e.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(e)).filter(function(){return n.d3.select(this).classed(c.legendItemFocused)}).classed(c.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},u.show=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.removeHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),t.withLegend&&r.showLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},u.hide=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.addHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),t.withLegend&&r.hideLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},u.toggle=function(e,t){var n=this,r=this.internal;r.mapToTargetIds(e).forEach(function(e){r.isTargetToShow(e)?n.hide(e,t):n.show(e,t)})},u.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},u.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},u.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},u.load=function(e){var t=this.internal,n=t.config;return e.xs&&t.addXs(e.xs),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?void t.load(t.getCaches(e.cacheIds),e.done):void ("unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e))},u.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},u.flow=function(e){var t,n,r,i,s,o,u,a,f=this.internal,l=[],c=f.getMaxDataCount(),p=0,d=0;if(e.json)n=f.convertJsonToData(e.json,e.keys);else if(e.rows)n=f.convertRowsToData(e.rows);else{if(!e.columns)return;n=f.convertColumnsToData(e.columns)}t=f.convertDataToTargets(n,!0),f.data.targets.forEach(function(e){var n,r,i=!1;for(n=0;n<t.length;n++)if(e.id===t[n].id){for(i=!0,e.values[e.values.length-1]&&(d=e.values[e.values.length-1].index+1),p=t[n].values.length,r=0;p>r;r++)t[n].values[r].index=d+r,f.isTimeSeries()||(t[n].values[r].x=d+r);e.values=e.values.concat(t[n].values),t.splice(n,1);break}i||l.push(e.id)}),f.data.targets.forEach(function(e){var t,n;for(t=0;t<l.length;t++)if(e.id===l[t])for(d=e.values[e.values.length-1].index+1,n=0;p>n;n++)e.values.push({id:e.id,index:d+n,x:f.isTimeSeries()?f.getOtherTargetX(d+n):d+n,value:null})}),f.data.targets.length&&t.forEach(function(e){var t,n=[];for(t=f.data.targets[0].values[0].index;d>t;t++)n.push({id:e.id,index:t,x:f.isTimeSeries()?f.getOtherTargetX(t):t,value:null});e.values.forEach(function(e){e.index+=d,f.isTimeSeries()||(e.x+=d)}),e.values=n.concat(e.values)}),f.data.targets=f.data.targets.concat(t),r=f.getMaxDataCount(),s=f.data.targets[0],o=s.values[0],m(e.to)?(p=0,a=f.isTimeSeries()?f.parseDate(e.to):e.to,s.values.forEach(function(e){e.x<a&&p++})):m(e.length)&&(p=e.length),c?1===c&&f.isTimeSeries()&&(u=(s.values[s.values.length-1].x-o.x)/2,i=[new Date(+o.x-u),new Date(+o.x+u)],f.updateXDomain(null,!0,!0,!1,i)):(u=f.isTimeSeries()?s.values.length>1?s.values[s.values.length-1].x-o.x:o.x-f.getXDomain(f.data.targets)[0]:1,i=[o.x-u,o.x],f.updateXDomain(null,!0,!0,!1,i)),f.updateTargets(f.data.targets),f.redraw({flow:{index:o.index,length:p,duration:h(e.duration)?e.duration:f.config.transition_duration,done:e.done,orgDataCount:c},withLegend:!0,withTransition:c>1,withTrimXDomain:!1,withUpdateXAxis:!0})},a.generateFlow=function(e){var t=this,n=t.config,r=t.d3;return function(){var i,s,o,u=e.targets,a=e.flow,f=e.drawBar,l=e.drawLine,h=e.drawArea,p=e.cx,d=e.cy,v=e.xv,m=e.xForText,g=e.yForText,y=e.duration,w=1,E=a.index,S=a.length,x=t.getValueOnIndex(t.data.targets[0].values,E),T=t.getValueOnIndex(t.data.targets[0].values,E+S),N=t.x.domain(),C=a.duration||y,k=a.done||function(){},L=t.generateWait(),A=t.xgrid||r.selectAll([]),O=t.xgridLines||r.selectAll([]),M=t.mainRegion||r.selectAll([]),_=t.mainText||r.selectAll([]),D=t.mainBar||r.selectAll([]),P=t.mainLine||r.selectAll([]),H=t.mainArea||r.selectAll([]),B=t.mainCircle||r.selectAll([]);t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,S)}),o=t.updateXDomain(u,!0,!0),t.updateXGrid&&t.updateXGrid(!0),a.orgDataCount?i=1===a.orgDataCount||x.x===T.x?t.x(N[0])-t.x(o[0]):t.isTimeSeries()?t.x(N[0])-t.x(o[0]):t.x(x.x)-t.x(T.x):1!==t.data.targets[0].values.length?i=t.x(N[0])-t.x(o[0]):t.isTimeSeries()?(x=t.getValueOnIndex(t.data.targets[0].values,0),T=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),i=t.x(x.x)-t.x(T.x)):i=b(o)/2,w=b(N)/b(o),s="translate("+i+",0) scale("+w+",1)",t.hideXGridFocus(),t.hideTooltip(),r.transition().ease("linear").duration(C).each(function(){L.add(t.axes.x.transition().call(t.xAxis)),L.add(D.transition().attr("transform",s)),L.add(P.transition().attr("transform",s)),L.add(H.transition().attr("transform",s)),L.add(B.transition().attr("transform",s)),L.add(_.transition().attr("transform",s)),L.add(M.filter(t.isRegionOnX).transition().attr("transform",s)),L.add(A.transition().attr("transform",s)),L.add(O.transition().attr("transform",s))}).call(L,function(){var e,r=[],i=[],s=[];if(S){for(e=0;S>e;e++)r.push("."+c.shape+"-"+(E+e)),i.push("."+c.text+"-"+(E+e)),s.push("."+c.eventRect+"-"+(E+e));t.svg.selectAll("."+c.shapes).selectAll(r).remove(),t.svg.selectAll("."+c.texts).selectAll(i).remove(),t.svg.selectAll("."+c.eventRects).selectAll(s).remove(),t.svg.select("."+c.xgrid).remove()}A.attr("transform",null).attr(t.xgridAttr),O.attr("transform",null),O.select("line").attr("x1",n.axis_rotated?0:v).attr("x2",n.axis_rotated?t.width:v),O.select("text").attr("x",n.axis_rotated?t.width:0).attr("y",v),D.attr("transform",null).attr("d",f),P.attr("transform",null).attr("d",l),H.attr("transform",null).attr("d",h),B.attr("transform",null).attr("cx",p).attr("cy",d),_.attr("transform",null).attr("x",m).attr("y",g).style("fill-opacity",t.opacityForText.bind(t)),M.attr("transform",null),M.select("rect").filter(t.isRegionOnX).attr("x",t.regionX.bind(t)).attr("width",t.regionWidth.bind(t)),n.interaction_enabled&&t.redrawEventRect(),k(),t.flowing=!1})}},u.selected=function(e){var t=this.internal,n=t.d3;return n.merge(t.main.selectAll("."+c.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+c.shape).filter(function(){return n.select(this).classed(c.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},u.select=function(e,t,n){var r=this.internal,i=r.d3,s=r.config;s.data_selection_enabled&&r.main.selectAll("."+c.shapes).selectAll("."+c.shape).each(function(o,u){var a=i.select(this),f=o.data?o.data.id:o.id,l=r.getToggle(this,o).bind(r),h=s.data_selection_grouped||!e||e.indexOf(f)>=0,p=!t||t.indexOf(u)>=0,d=a.classed(c.SELECTED);a.classed(c.line)||a.classed(c.area)||(h&&p?s.data_selection_isselectable(o)&&!d&&l(!0,a.classed(c.SELECTED,!0),o,u):m(n)&&n&&d&&l(!1,a.classed(c.SELECTED,!1),o,u))})},u.unselect=function(e,t){var n=this.internal,r=n.d3,i=n.config;i.data_selection_enabled&&n.main.selectAll("."+c.shapes).selectAll("."+c.shape).each(function(s,o){var u=r.select(this),a=s.data?s.data.id:s.id,f=n.getToggle(this,s).bind(n),l=i.data_selection_grouped||!e||e.indexOf(a)>=0,h=!t||t.indexOf(o)>=0,p=u.classed(c.SELECTED);u.classed(c.line)||u.classed(c.area)||l&&h&&i.data_selection_isselectable(s)&&p&&f(!1,u.classed(c.SELECTED,!1),s,o)})},u.transform=function(e,t){var n=this.internal,r=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;n.transformTo(t,e,r)},a.transformTo=function(e,t,n){var r=this,i=!r.hasArcType(),s=n||{withTransitionForAxis:i};s.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(e,t),r.updateTargets(r.data.targets),r.updateAndRedraw(s)},u.groups=function(e){var t=this.internal,n=t.config;return v(e)?n.data_groups:(n.data_groups=e,t.redraw(),n.data_groups)},u.xgrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_x_lines=e,t.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},u.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e?e:[]))},u.xgrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!0)},u.ygrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_y_lines=e,t.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},u.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e?e:[]))},u.ygrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!1)},u.regions=function(e){var t=this.internal,n=t.config;return e?(n.regions=e,t.redrawWithoutRescale(),n.regions):n.regions},u.regions.add=function(e){var t=this.internal,n=t.config;return e?(n.regions=n.regions.concat(e),t.redrawWithoutRescale(),n.regions):n.regions},u.regions.remove=function(e){var t,n,r,i=this.internal,s=i.config;return e=e||{},t=i.getOption(e,"duration",s.transition_duration),n=i.getOption(e,"classes",[c.region]),r=i.main.select("."+c.regions).selectAll(n.map(function(e){return"."+e})),(t?r.transition().duration(t):r).style("opacity",0).remove(),s.regions=s.regions.filter(function(e){var t=!1;return e["class"]?(e["class"].split(" ").forEach(function(e){n.indexOf(e)>=0&&(t=!0)}),!t):!0}),s.regions},u.data=function(e){var t=this.internal.data.targets;return"undefined"==typeof e?t:t.filter(function(t){return[].concat(e).indexOf(t.id)>=0})},u.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},u.data.values=function(e){var t,n=null;return e&&(t=this.data(e),n=t[0]?t[0].values.map(function(e){return e.value}):null),n},u.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},u.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},u.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},u.category=function(e,t){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[e]=t,n.redraw()),r.axis_x_categories[e]},u.categories=function(e){var t=this.internal,n=t.config;return arguments.length?(n.axis_x_categories=e,t.redraw(),n.axis_x_categories):n.axis_x_categories},u.color=function(e){var t=this.internal;return t.color(e)},u.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},u.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},u.axis=function(){},u.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(n){t.axis.setLabelText(n,e[n])}),t.axis.updateLabels())},u.axis.max=function(e){var t=this.internal,n=t.config;return arguments.length?("object"==typeof e?(h(e.x)&&(n.axis_x_max=e.x),h(e.y)&&(n.axis_y_max=e.y),h(e.y2)&&(n.axis_y2_max=e.y2)):n.axis_y_max=n.axis_y2_max=e,void t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},u.axis.min=function(e){var t=this.internal,n=t.config;return arguments.length?("object"==typeof e?(h(e.x)&&(n.axis_x_min=e.x),h(e.y)&&(n.axis_y_min=e.y),h(e.y2)&&(n.axis_y2_min=e.y2)):n.axis_y_min=n.axis_y2_min=e,void t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},u.axis.range=function(e){return arguments.length?(m(e.max)&&this.axis.max(e.max),void (m(e.min)&&this.axis.min(e.min))):{max:this.axis.max(),min:this.axis.min()}},u.legend=function(){},u.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},u.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},u.resize=function(e){var t=this.internal,n=t.config;n.size_width=e?e.width:null,n.size_height=e?e.height:null,this.flush()},u.flush=function(){var e=this.internal;e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},u.destroy=function(){var t=this.internal;return e.clearInterval(t.intervalForObserveInserted),e.onresize=null,t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},u.tooltip=function(){},u.tooltip.show=function(e){var t,n,r=this.internal;e.mouse&&(n=e.mouse),e.data?r.isMultipleX()?(n=[r.x(e.data.x),r.getYScale(e.data.id)(e.data.value)],t=null):t=h(e.data.index)?e.data.index:r.getIndexByX(e.data.x):"undefined"!=typeof e.x?t=r.getIndexByX(e.x):"undefined"!=typeof e.index&&(t=e.index),r.dispatchEvent("mouseover",t,n),r.dispatchEvent("mousemove",t,n)},u.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var N;a.isSafari=function(){var t=e.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},a.isChrome=function(){var t=e.navigator.userAgent;return t.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"function"==typeof define&&define.amd?define("c3",["d3"],l):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=l:e.c3=l}(window),define("app/views/graph_list_item",["app/views/templated","d3","c3"],function(e,t,n){return App.GraphListItemView=e.extend({graph:null,unit:null,isHidden:null,actionProxy:null,load:function(){Ember.run.next(this,function(){this.graph.set("view",this)})}.on("didInsertElement"),unload:function(){}.on("willDestroyElement"),draw:function(e){var t=this,r=this.graph,i=this.get("charts")||[];if(!r.datasources||!r.datasources.length)return;var s=r.datasources[0],o=0;for(var u=0;u<r.datasources.length;u++)r.datasources[u].datapoints.length>o&&(s=r.datasources[u]);var a=s.metric.unit,f=s.datapoints[s.datapoints.length-1],l=["x"].pushObjects(s.datapoints.map(function(e){return e.time}));r.get("batches").forEach(function(s,o){var u=[l].pushObjects(s.body.map(function(e){var t=e.datapoints.map(function(e){return e.value});return r.multi?t.unshift(e.machine.name):t.unshift(e.metric.id),t})),f="area-spline";r.multi&&(f="spline");if(i.length==o)i.push(n.generate({bindto:"#"+s.id,data:{x:"x",columns:u,type:f},axis:{x:{type:"timeseries",tick:{format:"%H:%M",count:5},padding:{left:0,right:0}},y:{label:{text:a,position:"inner-top"},tick:{format:function(e){return r.valueText(e)}},min:0,padding:{bottom:0}}},point:{r:0,focus:{expand:{r:3}}},line:{connectNull:!1},tooltip:{format:{title:function(e){return e.toTimeString()},value:function(e,t,n,i){return r.valueText(e)+a}}}})),t.set("charts",i);else if(Mist.graphsController.stream.isStreaming&&!e){var c=null,h=0;try{var p=i[o].data(),d=0;for(var v=0;v<p.length;v++)p[v].values.length>h&&(d=v,h=p[v].values.length);c=i[o].data.shown()[d].values.slice(-1)[0].x}catch(m){}if(!c){for(var g=0;g<u.length;g++)if(u[g].length>1){i[o].flow({columns:u});break}}else{for(var y=0;y<l.length;y++)if(c&&l[l.length-1-y]<=c)break;if(y>1){var b=[];u.forEach(function(e){b.push([e[0]].pushObjects(e.slice(0-y)))})}h<MAX_DATAPOINTS&&(y=0);try{i[o].flow({duration:250,length:y,columns:b})}catch(m){error(m)}}}else i[o].load({columns:u})})},clearData:function(){this.graph.datasources.forEach(function(e){e.clear()})},enableAnimation:function(){this.set("animationEnabled",!0)},isStreamingObserver:function(){return}.observes("Mist.graphsController.stream.isStreaming"),isVisibleObserver:function(){this.isHidden?(warn("hiding","#"+this.graph.id),$("#"+this.graph.id).parent().hide(400)):this.isHidden!==undefined&&($("#"+this.graph.id).parent().show(400),this.draw())}.observes("isHidden"),isEmptyObserver:function(){this.graph.isEmpty?$("#"+this.id).parent().hide(500):$("#"+this.id).parent().show(500)}.observes("graph.isEmpty"),fetchingStatsObserver:function(){return}.observes("Mist.graphsController.fetchingStats","Mist.graphsController.stream.isStreaming","Mist.graphsController.stream.firstStreamingCall")})}),define("app/views/page",["app/views/templated"],function(e){return e.extend({didInsertElement:function(){this._super(),$(".ui-page-active").parent().trigger("create")}})}),define("app/views/home",["app/views/page","app/models/graph"],function(e,t){return App.HomeView=e.extend({hasIncidents:function(){if(Mist.openIncidents)return!!Mist.openIncidents.length}.property("Mist.openIncidents"),load:function(){Ember.run.next(this,function(){this.checkedMonitoringObserver()}),Mist.backendsController.on("onMachineListChange",this,"checkedMonitoringObserver")}.on("didInsertElement"),unload:function(){Mist.graphsController.close(),Mist.backendsController.off("onMachineListChange",this,"checkedMonitoringObserver")}.on("willDestroyElement"),actions:{addBackend:function(){Mist.backendAddController.open()},incidentClicked:function(e){var t=e.get("machine");t?Mist.Router.router.transitionTo("machine",e.get("machine")):Mist.notificationController.timeNotify("Machine not found",2e3)}},showGraphs:function(){if(!Mist.monitored_machines)return;var e=[],n=Mist.metricsController.getMetric("load.shortterm");Mist.monitored_machines.forEach(function(t){var r=Mist.backendsController.getBackend(t[0]);if(!r||!r.get("enabled"))return;var i=Mist.backendsController.getMachine(t[1],t[0]);if(!i||i.get("isWindows"))return;Mist.datasourcesController.addDatasource({machine:i,metric:n,callback:function(t,n){e.push(n)}})});if(Mist.graphsController.isOpen){var r=!1,i=Mist.graphsController.content[0].datasources;e.some(function(e){var t=i.findBy("id",e.id);if(!t)return r=!0,!0}),i.length!=e.length&&(r=!0);if(!r)return;Mist.graphsController.close()}if(!e.length)return;Mist.graphsController.open({graphs:[t.create({title:"Load on all monitored machines",datasources:e,multi:!0})],config:{canModify:!1,canMinimize:!1,showGraphLegend:!0,historyWidgetPosition:"bottom"}})},checkedMonitoringObserver:function(){Ember.run.later(this,function(){this.$()&&Mist.backendsController.checkedMonitoring&&this.showGraphs()},500)}.observes("Mist.backendsController.checkedMonitoring")})}),define("app/views/list_item",["app/views/templated","ember"],function(e){return e.extend({tagName:"li",renderListItem:function(){var e=$("#"+this.elementId).hide();Ember.run.next(this,function(){try{e.trigger("create").show().parent().listview("refresh")}catch(t){}})}.on("didInsertElement")})}),define("app/views/image_list_item",["app/views/list_item"],function(e){return App.ImageListItemView=e.extend({image:null,starClass:function(){return this.image.star?"staron":"staroff"}.property("image.star"),actions:{toggleImageStar:function(){var e=this;this.image.toggle(function(t,n){t||e.image.set("star",!e.image.star)})},launchImage:function(){this.image.backend.images.content.addObject(this.image),Mist.machineAddController.open(),Ember.run.next(this,function(){Mist.machineAddController.view._actions.selectProvider(this.image.backend),Mist.machineAddController.view._actions.selectImage(this.image)})}}})}),define("app/views/image_list",["app/views/page"],function(e){return App.ImageListView=e.extend({baseImages:[],defaultImages:[],renderedImages:[],renderingMoreImages:null,load:function(){Mist.imageSearchController.on("onSearchEnd",this,"updateBaseImages"),Mist.backendsController.on("onImagesChange",this,"updateDefaultImages");var e=this;Ember.run.later(function(){$(window).on("scroll",function(t){e.set("pageYOffset",window.pageYOffset)})},500),this.updateDefaultImages()}.on("didInsertElement"),unload:function(){var e=this;Mist.backendsController.content.forEach(function(t){t.off("onImagesChange",e,"updateBaseImages")}),Mist.imageSearchController.off("onSearchEnd",this,"updateBaseImages"),$(window).off("scroll")}.on("willDestroyElement"),updateRenderedImages:function(){this.set("renderedImages",this.baseImages.slice(0,25))},updateBaseImages:function(){Mist.imageSearchController.searchTerm?this.set("baseImages",Mist.imageSearchController.searchResults):this.set("baseImages",this.defaultImages),this.updateRenderedImages()},updateDefaultImages:function(){var e=[];Mist.backendsController.content.forEach(function(t){t.images.content.forEach(function(t){t.star?e.unshift(t):e.push(t)})}),Mist.imageSearchController.set("images",e),this.set("defaultImages",e),this.updateBaseImages()},renderMoreImages:function(){if(this.renderedImages.length==this.baseImages.length)return;this.set("renderingMoreImages",!0),this.renderedImages.addObjects(this.baseImages.slice(this.renderedImages.length,this.renderedImages.length+25)),Ember.run.next(this,function(){this.set("renderingMoreImages",!1)})},windowScrolled:function(){Mist.isScrolledToBottom()&&this.renderMoreImages()},actions:{searchClicked:function(){Mist.imageSearchController.search(!0)}},scrollObserver:function(){Ember.run.once(this,"windowScrolled")}.observes("pageYOffset")})}),define("app/views/ip_address_list_item",["app/views/list_item"],function(e){"use strict";return App.IpAddressListItemView=e.extend({tagName:"tr",pendingToggle:null,domID:function(){return"_"+this.get("model").get("id").replace(/\./g,"")}.property("controller.model.id"),updateReservedToggle:function(e){this.set("pendingToggle",!0),this.$().find("select").val(this.get("model").get("reserved")?"on":"off").slider("refresh")},actions:{reservedToggled:function(){if(this.get("pendingToggle")){this.set("pendingToggle",!1);return}var e=this.get("model"),t=this;e.reserve({reserve:!e.reserved,callback:function(e){e||t.updateReservedToggle()}})},assignClicked:function(){var e=this.get("model");this.get("parentView").get("parentView").set("selectedIp",e),$("#assign-machine").popup("option","positionTo","#"+this.get("domID")).find(".ui-listview").listview("refresh"),Ember.run.next(function(){$("#assign-machine").popup("open")})}},reservedObserver:function(){Ember.run.once(this,"updateReservedToggle")}.observes("model.reserved")})}),define("app/views/key",["app/views/page","app/models/machine"],function(e,t){return App.KeyView=e.extend({key:null,machines:[],load:function(){Mist.keysController.on("onKeyListChange",this,"updateView"),Mist.keysController.on("onKeyDisassociate",this,"updateMachines"),Mist.backendsController.on("onMachineListChange",this,"updateMachines"),this.updateView()}.on("didInsertElement"),unload:function(){Mist.keysController.off("onKeyListChange",this,"updateView"),Mist.keysController.off("onKeyDisassociate",this,"updateMachines"),Mist.backendsController.off("onMachineListChange",this,"updateMachines")}.on("willDestroyElement"),updateView:function(){this.updateModel(),Mist.keysController.keyExists(this.key.id)&&(this.updateMachines(),this.showPublicKey())},updateModel:function(){var e=Mist.keysController.getRequestedKey();e&&this.get("controller").set("model",e),this.set("key",this.get("controller").get("model"))},updateMachines:function(){var e=[];this.key.machines.forEach(function(n){var r=Mist.backendsController.getMachine(n[1],n[0]);if(!r){var i=Mist.backendsController.getBackend(n[0]);r=t.create({id:n[1],name:n[1],state:i?"terminated":"unknown",backend:i?i:n[0],isGhost:!0})}e.push(r)}),this.set("machines",e)},renderMachines:function(){Ember.run.next(function(){$("#single-key-machines").collapsible&&$("#single-key-machines").collapsible().trigger("create")})},showPublicKey:function(){Mist.keysController.getPublicKey(this.key.id,function(e,t){e&&$("#public-key").val(t)})},actions:{displayClicked:function(){Mist.keysController.getPrivateKey(this.key.id,function(e,t){e&&Mist.dialogController.open({type:DIALOG_TYPES.BACK,head:"Private Key",body:[{command:t}]})})},renameClicked:function(){var e=this.key;Mist.keyEditController.open(e.id,function(t){t&&Mist.Router.router.transitionTo("key",e)})},deleteClicked:function(){var e=this.key.id;Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Delete key",body:[{paragraph:'Are you sure you want to delete "'+e+'" ?'}],callback:function(t){t&&Mist.keysController.deleteKey(e,function(e){e&&Mist.Router.router.transitionTo("keys")})}})}},modelObserver:function(){Ember.run.once(this,"updateView")}.observes("controller.model"),modelMachinesObserver:function(){Ember.run.once(this,"updateMachines")}.observes("key.machines"),viewMachinesObserver:function(){Ember.run.once(this,"renderMachines")}.observes("machines")})}),define("app/views/key_add",["app/views/popup"],function(e){return App.KeyAddView=e.extend({addButton:"#key-add-ok",fileInput:"#key-add-upload",load:function(){this.setProperties({fileInput:$(this.fileInput),addButton:$(this.addButton)})}.on("didInsertElement"),updateAddButton:function(){Mist.keyAddController.addingKey||!Mist.keyAddController.formReady?this.addButton.addClass("ui-state-disabled"):this.addButton.removeClass("ui-state-disabled")},actions:{uploadClicked:function(){this.fileInput.click()},uploadInputChanged:function(){Mist.keyAddController.upload()},generateClicked:function(){Mist.keyAddController.generate()},backClicked:function(){Mist.keyAddController.close()},addClicked:function(){Mist.keyAddController.add()}},updateButtonObserver:function(){Ember.run.once(this,"updateAddButton")}.observes("Mist.keyAddController.formReady","Mist.keyAddController.addingKey")})}),define("app/views/key_edit",["app/views/templated"],function(e){return App.KeyEditView=e.extend({updateSaveButton:function(){Mist.keysController.renamingKey||!Mist.keyEditController.formReady?$("#rename-key-ok").addClass("ui-state-disabled"):$("#rename-key-ok").removeClass("ui-state-disabled")},actions:{backClicked:function(){Mist.keyEditController.close()},saveClicked:function(){Mist.keyEditController.save()}},updateSaveButtonObserver:function(){Ember.run.once(this,"updateSaveButton")}.observes("Mist.keyEditController.formReady","Mist.keysController.renamingKey")})}),define("app/views/key_list",["app/views/page"],function(e){return App.KeyListView=e.extend({load:function(){Mist.keysController.on("onSelectedKeysChange",this,"updateFooter"),this.updateFooter()}.on("didInsertElement"),unload:function(){Mist.keysController.off("onSelectedKeysChange",this,"updateFooter")}.on("willDestroyElement"),updateFooter:function(){switch(Mist.keysController.selectedKeys.length){case 0:$("#key-list-page .ui-footer").slideUp();break;case 1:$("#key-list-page .ui-footer").slideDown().find("a").removeClass("ui-state-disabled");break;default:$("#key-list-page .ui-footer").slideDown().find("a").addClass("ui-state-disabled")}},actions:{addClicked:function(){Mist.keyAddController.open()},renameClicked:function(){Mist.keyEditController.open(Mist.keysController.selectedKeys[0].id)},setDefaultClicked:function(){Mist.keysController.setDefaultKey(Mist.keysController.selectedKeys[0].id)},selectClicked:function(){$("#select-keys-popup").popup("open")},selectionModeClicked:function(e){$("#select-keys-popup").popup("close"),Ember.run(function(){Mist.keysController.content.forEach(function(t){t.set("selected",e)})})},deleteClicked:function(){var e=Mist.keysController.selectedKeys[0].id;Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Delete key",body:[{paragraph:'Are you sure you want to delete "'+e+'" ?'}],callback:function(t){t&&Mist.keysController.deleteKey(e)}})}}})}),define("app/views/key_list_item",["app/views/list_item"],function(e){return App.KeyListItemView=e.extend({key:null,updateCheckbox:function(){var e=$("#"+this.elementId+" input.ember-checkbox");Ember.run.next(this,function(){e.checkboxradio&&e.checkboxradio().checkboxradio("refresh")})},keySelectedObserver:function(){Ember.run.once(this,"updateCheckbox")}.observes("key.selected")})}),define("app/views/log_list",["app/views/page"],function(e){function s(e,t){return typeof t!="string"?!1:t.toLowerCase().indexOf(e)>-1}var t=20,n=300,r=500,i=["job","shell","request","session","incident"];return App.LogListView=e.extend({firstRequest:!0,forceFlag:"all",filterString:"",noMoreLogs:!1,lastLogTimestamp:null,showErrors:null,includeTypes:[],includeFilters:[],includeEmails:[],excludeTypes:[],excludeFilters:[],excludeEmails:[],load:function(){this._initializeController(),this._initializeScrolling(),this._initializeSocket(),this._updateLogTime(),this.set("firstRequest",!0),this.search(),Mist.l=this}.on("didInsertElement"),unload:function(){this._initializeController(),Mist.get("logs").off("logs",this,this.handleResponse),Mist.get("logs").off("event",this,this.handleStream)}.on("willDestroyElement"),search:function(){if(!Mist.logs.socket.socket.connected){Ember.run.later(this,function(){this.search()},350);return}if(this.get("noMoreLogs"))return;this.set("fetchingHistory",!0),this._processFilterString(),Mist.logs.emit("get_logs",this._generatePayload()),this.set("firstRequest",!1)},handleResponse:function(e){e.length?this.set("lastLogTimestamp",e[e.length-1].time):this.set("noMoreLogs",!0),this.set("fetchingHistory",!1),Ember.run(this,function(){Mist.logsController._appendContent(this.filter(e))}),e.length&&Mist.logsController.content.length<t?(this.set("disableScrollFetch",!0),Ember.run.later(this,function(){this.search()},r)):this.set("disableScrollFetch",!1)},handleStream:function(e){Ember.run(this,function(){Mist.logsController._prependContent(this.filter([e]))})},filter:function(e){e=slice(e),this.get("showErrors")!=null&&this._filterErrors(e,this.get("showErrors")),this.get("includeTypes").length&&this._filterInTypes(e,this.get("includeTypes")),this.get("excludeTypes").length&&this._filterOutTypes(e,this.get("excludeTypes")),this.get("includeEmails").length&&this._filterInEmails(e,this.get("includeEmails")),this.get("excludeEmails").length&&this._filterOutEmails(e,this.get("excludeEmails")),this.get("includeTerms").length&&this._filterInTerms(e,this.get("includeTerms")),this.get("excludeTerms").length&&this._filterOutTerms(e,this.get("excludeTerms"));var t=this.get("forceFlag");return t!="all"&&(t=="error"?this._filterErrors(e,!0):this._filterInTypes(e,[t])),e},_initializeSocket:function(){Mist.get("logs").on("logs",this,this.handleResponse),Mist.get("logs").on("event",this,this.handleStream)},_initializeController:function(){Mist.logsController.clear()},_initializeScrolling:function(){var e=this;Ember.run.later(function(){$(window).on("scroll",function(t){Ember.run.once(function(){Mist.isScrolledToBottom()&&!e.disableScrollFetch&&!e.fetchingHistory&&e.search()})})},1e3)},_processFilterString:function(){var e=this.get("filterString").trim().toLowerCase().split(" ").map(function(e){return e.trim()}).uniq().removeObject(""),t=e.filter(function(e){return e.charAt(0)!=="!"});e=e.removeObjects(t);var n=e.map(function(e){return e.slice(1)}),r=t.filter(function(e){return i.indexOf(e)>-1},this);t.removeObjects(r);var s=n.filter(function(e){return i.indexOf(e)>-1},this);n.removeObjects(s);var o=t.filter(function(e){var t=e.match(EMAIL_REGEX);return t?t[0]:!1});t.removeObjects(o);var u=n.filter(function(e){var t=e.match(EMAIL_REGEX);return t?t[0]:!1});n.removeObjects(u);var a=null;t.indexOf("error")>-1&&(a=!0,t.removeObject("error")),n.indexOf("error")>-1&&(a=!1,n.removeObject("error")),this.setProperties({showErrors:a,includeTerms:t,excludeTerms:n,includeTypes:r,excludeTypes:s,includeEmails:o,excludeEmails:u})},_updateLogTime:function(){this.$()&&(Ember.run(this,function(){Mist.logsController.content.forEach(function(e){e.propertyWillChange("time"),e.propertyDidChange("time")})}),Ember.run.later(this,this._updateLogTime,10*TIME_MAP.SECOND))},_generatePayload:function(){var e=this.get("firstRequest")?t:n,r={limit:e};this.get("showErrors")!=null&&(r.error=this.get("showErrors")),this.get("includeTypes").length==1&&!this.get("excludeTypes").length&&(r.event_type=this.get("includeTypes")[0]),this.get("includeEmails").length==1&&!this.get("excludeEmails").length&&(r.email=this.get("includeEmails")[0]),this.get("lastLogTimestamp")&&(r.stop=this.get("lastLogTimestamp"));var i=this.get("forceFlag");return i!="all"&&(i=="error"?r.error=!0:r.event_type=i),DEBUG_LOGS&&info("Requesting logs:",r),this._injectExtraParams(r),r},_injectExtraParams:function(e){var t=this.get("extraParams");if(!t)return;forIn(t,function(n,r){e[r]=t.get(r)})},_filterErrors:function(e,t){e.removeObjects(e.rejectBy("error",t))},_filterInTypes:function(e,t){e.removeObjects(e.filter(function(e){return t.indexOf(e.type)==-1}))},_filterOutTypes:function(e,t){t.forEach(function(t){e.removeObjects(e.filterBy("type",t))})},_filterInEmails:function(e,t){e.removeObjects(e.filter(function(e){return t.indexOf(e.email)==-1}))},_filterOutEmails:function(e,t){t.forEach(function(t){e.removeObjects(e.filterBy("email",t))})},_filterInTerms:function(e,t){e.removeObjects(e.filter(function(e){return t.some(function(t){return!forIn(e,function(e){return s(t,e)})})}))},_filterOutTerms:function(e,t){e.removeObjects(e.filter(function(e){return t.some(function(t){return forIn(e,function(e){return s(t,e)})})}))},actions:{updateFilterFlags:function(e){var t=this.get("filterString"),n=slice(i);n.push("error"),n.forEach(function(e){t=t.replace("!"+e,"").replace(e,"")}),this.set("filterString",t.trim().replace(/\s\s/g," ")),this.set("forceFlag",e),this.newSearch(1)}},newSearch:function(e){var t=this;clearTimeout(this.searchLock),this.set("searchLock",setTimeout(function(){Mist.logsController.clear(),t.set("noMoreLogs",!1),t.set("lastLogTimestamp",null),t.search()},e||700))},filterStringObserver:function(){Ember.run.once(this,"newSearch")}.observes("filterString")})}),define("app/views/log_list_item",["app/views/list_item"],function(e){return App.LogListItemView=e.extend({log:null,tagName:"li",isCollapsed:!0,details:function(){var e=[];return forIn(this.log,function(t,n){if(n=="time")return;t!==undefined&&t!==null&&e.push({key:n,value:t instanceof Object?JSON.stringify(t):t})}),e.sort(function(e,t){return e.key>t.key?1:e.key<t.key?-1:0})}.property("log"),collapsedClass:function(){return this.get("isCollapsed")?"":"open"}.property("isCollapsed"),prettyTime:function(){return this.get("log").get("date").getTimeFromNow()}.property("log.time"),fullPrettyTime:function(){return this.get("log").get("date").getPrettyDateTime()}.property("log.time"),formatedAction:function(){return this.get("log").get("action").split("_").map(function(e){return e.capitalize()}).join(" ")}.property("log.action"),filteredEmail:function(){var e=this.get("log").get("email");return e!=="None"?e:""}.property("log.email"),isIncident:function(){return this.get("log").get("type")=="incident"}.property("log.type"),backendTitle:function(){var e=this.get("log"),t=e.get("backend_id");return Mist.backendsController.backendExists(t)?Mist.backendsController.getBackend(t).title:!1}.property("log.backend_id"),machineLink:function(){var e=this.get("log"),t=e.get("backend_id"),n=e.get("machine_id");return Mist.backendsController.getMachine(n,t)}.property("log.machine_id"),load:function(){this.set("isCollapsed",!0)}.on("didInsertElement"),actions:{toggleCollapse:function(){this.propertyDidChange("machineLink");if(this.get("isCollapsed"))this.set("isCollapsed",!1),Ember.run.next(this,function(){this.$(".details").slideDown()});else{var e=this;this.$(".details").slideUp(function(){e.set("isCollapsed",!0)})}},userClicked:function(e){Mist.Router.router.transitionTo("user",Mist.usersController.getUser(this.get("log").get("email")))}}})}),define("app/views/login",["app/views/templated"],function(e){return App.LoginView=e.extend({updateLoginButton:function(){Mist.loginController.loggingIn||!Mist.loginController.formReady?$("#login-ok").addClass("ui-state-disabled"):$("#login-ok").removeClass("ui-state-disabled")},keyUp:function(e){e.keyCode==13&&Mist.loginController.formReady&&Mist.loginController.login()},actions:{backClicked:function(){Mist.loginController.close()},loginClicked:function(){Mist.loginController.login()}},updateLoginButtonObserver:function(){Ember.run.once(this,"updateLoginButton")}.observes("Mist.loginController.formReady","Mist.loginController.loggingIn")})}),define("app/views/machine",["app/views/page"],function(e){function t(e){e.sort(function(e,t){return e.key>t.key?1:t.key<e.key?-1:0})}return App.MachineView=e.extend({machine:null,load:function(){Mist.backendsController.off("onMachineListChange",this,"load"),Mist.backendsController.on("onMachineListChange",this,"load"),Ember.run(this,function(){this.updateCurrentMachine(),this.machine.id&&this.updateUptime()})}.on("didInsertElement"),unload:function(){Mist.backendsController.off("onMachineListChange",this,"load")}.on("willDestroyElement"),updateCurrentMachine:function(){Ember.run(this,function(){var e=Mist.backendsController.getRequestedMachine();e&&this.get("controller").set("model",e),this.set("machine",this.get("controller").get("model")),this.machine.id&&this.machine.set("keysCount",Mist.keysController.getMachineKeysCount(this.machine))})},updateMonitoringCollapsible:function(){Ember.run.next(this,function(){Mist.backendsController.checkedMonitoring&&this.machine.id?$("#monitoring-collapsible").show():$("#monitoring-collapsible").hide()})},updateUptime:function(){if($("#single-machine-page").length){Ember.run.later(this,function(){this.updateUptime()},1e3);var e=this.machine;if(!e)return 0;if(!e.uptimeChecked)return 0;if(!e.uptimeFromServer)return 0;e.set("uptime",e.uptimeFromServer+(Date.now()-e.uptimeChecked))}},renderMetadata:function(){Ember.run.next(function(){$("#single-machine-metadata").collapsible&&$("#single-machine-metadata").collapsible()})},actions:{manageKeysClicked:function(){Mist.machineKeysController.open(this.machine)},addKeyClicked:function(){Mist.machineKeysController.openKeyList(this.machine)},tagsClicked:function(){Mist.machineTagsController.open(this.machine)},powerClicked:function(){Mist.machinePowerController.open(this.machine)},shellClicked:function(){Mist.machineShellController.open(this.machine)},deleteMetric:function(e){Mist.metricsController.deleteMetric(e)},probeClicked:function(){this.machine.probe(null,function(e){e||Mist.notificationController.notify("Failed to probe machine")})}},isRunning:function(){return this.machine?this.machine.state=="running":!1}.property("machine.state"),providerIconClass:function(){return!this.machine||!this.machine.backend||!this.machine.backend.provider?"":"provider-"+this.machine.backend.getSimpleProvider()}.property("machine.backend.provider"),imageIconClass:function(){if(!this.machine||!this.machine.extra||!this.machine.backend||!this.machine.backend.provider)return"image-generic";var e=this.machine.extra.image_id||this.machine.extra.imageId||this.machine.extra.image||this.machine.extra.os_type||"";return"image-"+this.machine.backend.images.getImageOS(e.toString())}.property("machine.extra.@each"),upFor:function(){var e="";if(this.machine&&this.machine.uptime){var t=Math.floor(this.machine.uptime/1e3),n=t%60;t=Math.floor(t/60);var r=t%60;t=Math.floor(t/60);var i=t%24;t=Math.floor(t/24);var s=t;s&&(e=e+s+" days, "),i&&(e=e+i+" hours, "),r&&(e=e+r+" minutes, "),n?e=e+n+" seconds":e+="0 seconds"}return e}.property("machine.uptime"),lastProbe:function(){var e="never";if(this.machine&&this.machine.uptimeChecked>0){var t=(Date.now()-this.machine.uptimeChecked)/1e3,n=Math.floor(t/60);n>1?e=n+" minutes ago":n==1?e="1 minute ago":e="just now"}return e}.property("machine.uptime"),basicInfo:function(){if(!this.machine)return;var e={};this.machine.public_ips instanceof Array?this.set("public_ips",this.machine.public_ips):typeof this.machine.public_ips=="string"&&this.set("public_ips",[this.machine.public_ips]),this.machine.backend.provider!="docker"&&(this.machine.private_ips instanceof Array?this.set("private_ips",this.machine.private_ips):typeof this.machine.public_ips=="string"&&this.set("private_ips",[this.machine.private_ips])),this.machine.extra&&(this.machine.backend.provider=="docker"&&(e.Image=this.machine.extra.image,e.Status=this.machine.extra.status,e.Command=this.machine.extra.command),this.machine.extra.dns_name&&(e["DNS Name"]=this.machine.extra.dns_name),this.machine.extra.launchdatetime&&(e["Launch Date"]=this.machine.extra.launchdatetime)),this.machine.image&&this.machine.image.name&&(e.image=this.machine.image.name);var n=[];return forIn(e,function(e,t){typeof e=="string"&&n.push({key:t,value:e})}),t(n),n}.property("machine.public_ips","machine.private_ips"),metadata:function(){if(!this.machine||!this.machine.extra)return;var e=[];return forIn(this.machine.extra,function(t,n){(typeof t=="string"||typeof t=="number")&&e.push({key:n,value:t})}),this.renderMetadata(),t(e),e}.property("machine.extra"),modelObserver:function(){Ember.run.once(this,"load")}.observes("controller.model"),checkedMonitoringObserver:function(){Ember.run.once(this,"updateMonitoringCollapsible")}.observes("machine","Mist.backendsController.checkedMonitoring")})}),define("app/views/machine_add",["app/views/templated"],function(e){return App.MachineAddView=e.extend({price:function(){var e=Mist.machineAddController.newMachineImage,t=Mist.machineAddController.newMachineSize,n=Mist.machineAddController.newMachineProvider,r=Mist.machineAddController.newMachineLocation;if(!e||!e.id||!t||!t.id||!n||!n.id)return 0;try{return n.provider.indexOf("ec2")>-1?e.name.indexOf("SUSE Linux Enterprise")>-1?t.price.sles:e.name.indexOf("Red Hat")>-1?t.price.rhel:t.price.linux:n.provider.indexOf("rackspace")>-1?e.name.indexOf("Red Hat")>-1?t.price.rhel:e.name.indexOf("Vyatta")>-1?t.price.vyatta:t.price.linux:n.provider.indexOf("gce")>-1?r.name.indexOf("europe-")>-1?t.price.eu:r.name.indexOf("us-")>-1?t.price.us:r.name.indexOf("asia-")>-1?t.price.as:t.price.eu:t.price}catch(i){return 0}}.property("Mist.machineAddController.newMachineProvider","Mist.machineAddController.newMachineImage","Mist.machineAddController.newMachineSize","Mist.machineAddController.newMachineLocation"),load:function(){Mist.scriptsController.on("onChange",this,"renderFields"),Mist.keysController.on("onKeyListChange",this,"renderFields"),Mist.backendsController.on("onImagesChange",this,"renderFields");var e=$("#create-machine-panel").parent().attr("id");Mist.machineAddController.set("view",Ember.View.views[e])}.on("didInsertElement"),unload:function(){Mist.scriptsController.off("onChange",this,"renderFields"),Mist.keysController.off("onKeyListChange",this,"renderFields"),Mist.backendsController.off("onImagesChange",this,"renderFields")}.on("willDestroyElement"),clear:function(){this.$("select").val("basic").slider("refresh"),this.$(".script-option").hide(),this.$(".basic").show()},fieldIsReady:function(e){$("#create-machine-"+e).collapsible("option","collapsedIcon","check").collapsible("collapse")},renderFields:function(){Ember.run.next(function(){$(".ui-collapsible").collapsible&&$(".ui-collapsible").collapsible(),$(".ui-listview").listview&&$(".ui-listview").listview().listview("refresh")})},showDockerMenu:function(){this.hideDockerMenu(),$("#create-machine-panel #location").hide(),$("#create-machine-panel #script").hide(),$("#create-machine-panel #size").hide(),$("#create-machine-panel #key").hide(),$("#create-machine-monitoring").hide(),$("#create-machine-panel .docker").show(),$("#create-machine-panel #ports").show()},showMistDockerMenu:function(){this.hideDockerMenu(),$("#create-machine-panel #location").hide(),$("#create-machine-panel #size").hide(),$("#create-machine-panel #ports").show()},hideDockerMenu:function(){$("#create-machine-panel #location").show(),$("#create-machine-panel #script").show(),$("#create-machine-panel #size").show(),$("#create-machine-panel #key").show(),$("#create-machine-monitoring").show(),$("#create-machine-panel .docker").hide(),$("#create-machine-panel #ports").hide()},updateLaunchButton:function(){Mist.machineAddController.formReady?$("#create-machine-ok").removeClass("ui-state-disabled"):$("#create-machine-ok").addClass("ui-state-disabled")},actions:{switchToggled:function(){var e=this.$("#script select").val();this.$(".script-option").hide(),this.$("."+e).show(),Mist.machineAddController.set("newMachineScript",""),Mist.machineAddController.set("newMachineScriptParams",""),Mist.machineAddController.set("hasScript",e=="advanced")},selectProvider:function(e){this.fieldIsReady&&this.fieldIsReady("provider"),e.networks.content.forEach(function(e,t){e.set("selected",!1)}),Mist.machineAddController.set("newMachineLocation",{name:"Select Location"}).set("newMachineImage",{name:"Select Image"}).set("newMachineSize",{name:"Select Size"}).set("newMachineProvider",e),$("#create-machine-image").removeClass("ui-state-disabled"),$("#create-machine-location").addClass("ui-state-disabled"),$("#create-machine-size").addClass("ui-state-disabled"),$("#create-machine-key").addClass("ui-state-disabled"),$("#create-machine-panel .docker textarea").addClass("ui-state-disabled"),$("#create-machine-panel .docker .ui-checkbox").addClass("ui-state-disabled"),$("#create-machine-network .ui-collapsible").addClass("ui-state-disabled"),$("#create-machine-panel #ports").addClass("ui-state-disabled"),e.get("requiresNetworkOnCreation")?e.networks.content.length>0&&($("#create-machine-network").show(),$("label[for=create-machine-script]").text("Script:")):($("#create-machine-network").hide(),$("label[for=create-machine-script]").text("Script:"));var t=Mist.machineAddController.view;e.get("isDocker")?t.showDockerMenu():t.hideDockerMenu()},selectImage:function(e){this.fieldIsReady&&this.fieldIsReady("image"),Mist.machineAddController.set("newMachineLocation",{name:"Select Location"}).set("newMachineSize",{name:"Select Size"}).set("newMachineImage",e),$("#create-machine-location").addClass("ui-state-disabled"),$("#create-machine-size").removeClass("ui-state-disabled"),$("#create-machine-key").addClass("ui-state-disabled"),$("#create-machine-network .ui-collapsible").addClass("ui-state-disabled");var t=Mist.machineAddController.view;e.get("isDocker")&&(Mist.machineAddController.set("newMachineSize",Mist.machineAddController.newMachineProvider.sizes.content[0]),e.get("isMist")?(t.showMistDockerMenu(),$("#create-machine-key").removeClass("ui-state-disabled")):(t.showDockerMenu(),$("#create-machine-panel .docker textarea").removeClass("ui-state-disabled")),$("#create-machine-panel #ports").removeClass("ui-state-disabled"))},selectSize:function(e){this.fieldIsReady("size"),Mist.machineAddController.set("newMachineLocation",{name:"Select Location"}).set("newMachineSize",e),$("#create-machine-location").removeClass("ui-state-disabled"),$("#create-machine-panel .docker textarea").removeClass("ui-state-disabled"),$("#create-machine-panel .docker .ui-checkbox").removeClass("ui-state-disabled"),$("#create-machine-key").addClass("ui-state-disabled"),$("#create-machine-network .ui-collapsible").addClass("ui-state-disabled"),Mist.machineAddController.newMachineProvider.provider=="docker"&&$("#create-machine-key").removeClass("ui-state-disabled")},selectLocation:function(e){this.fieldIsReady("location"),Mist.machineAddController.set("newMachineLocation",e),$("#create-machine-key").removeClass("ui-state-disabled"),$("#create-machine-network .ui-collapsible").addClass("ui-state-disabled")},selectKey:function(e){this._selectKey(e)},selectScript:function(e){Mist.machineAddController.set("newMachineScript",e),$("#create-machine-script-select").collapsible("collapse")},toggleNetworkSelection:function(e){e.set("selected",!e.selected),$("#create-machine-machine").collapsible("option","collapsedIcon","check").collapsible("collapse")},createKeyClicked:function(){var e=this;Mist.keyAddController.open(function(t,n){e._selectKey(n)})},backClicked:function(){Mist.machineAddController.close()},launchClicked:function(){Mist.machineAddController.add()}},_selectKey:function(e){this.fieldIsReady("key"),Mist.machineAddController.set("newMachineKey",e),$("#script").show(),$("#create-machine-monitoring").removeClass("ui-state-disabled"),$("#create-machine-network .ui-collapsible").removeClass("ui-state-disabled").parent().trigger("create").find("label").removeClass("ui-corner-all")},bindingsObserver:function(){Ember.run.once(this,"renderFields")}.observes("Mist.machineAddController.newMachineSize","Mist.machineAddController.newMachineImage","Mist.machineAddController.newMachineProvider","Mist.machineAddController.newMachineLocation"),formReadyObserver:function(){Ember.run.once(this,"updateLaunchButton")}.observes("Mist.machineAddController.formReady")})}),define("app/views/machine_keys",["app/views/controlled"],function(e){return App.MachineKeysView=e.extend({selectedKey:null,renderNonAssocatedKeys:function(){Ember.run.next(function(){$("#non-associated-keys-popup .ui-listview").listview("refresh")})},actions:{associateClicked:function(){$("#non-associated-keys-popup").popup("option","positionTo","#mist-manage-keys"),$("#non-associated-keys-popup").popup("open")},customAssociateClicked:function(){var e=Mist.machineKeysController;$("#machine-userPort-popup").popup("close"),e.associate(e.lastAssocKey,null,e.user,e.port)},nonAssociatedKeyClicked:function(e){$("#non-associated-keys-popup").popup("close"),Mist.machineKeysController.associate(e),$("#machine-keys-panel").panel("open")},newKeyClicked:function(){$("#non-associated-keys-popup").popup("close"),Ember.run.later(function(){Mist.keyAddController.open(function(e,t){e&&(Mist.machineKeysController.associate(Mist.keysController.getKey(t.id)),$("#machine-keys-panel").panel("open"))})},300)},removeClicked:function(){Mist.machineKeysController.disassociate(this.selectedKey),$("#key-actions-popup").popup("close")},probeClicked:function(){Mist.machineKeysController.probe(this.selectedKey),$("#key-actions-popup").popup("close")},viewClicked:function(){$("#key-actions-popup").popup("close"),Ember.run.later(this,function(){Mist.Router.router.transitionTo("key",this.selectedKey)},250)},cancelClicked:function(){this.set("selectedKey",null),$("#key-actions-popup").popup("close")},backClicked:function(){Mist.machineKeysController.close()}},nonAssociatedKeysObserver:function(){Ember.run.once(this,"renderNonAssocatedKeys")}.observes("Mist.machineKeysController.nonAssociatedKeys")})}),define("app/views/machine_keys_list_item",["app/views/list_item"],function(e){return App.MachineKeysListItemView=e.extend({tagName:"span",keyIcon:null,load:function(){this.keyObserver()}.on("didInsertElement"),keyObserver:function(){var e=this.key.probing?this.key.probing:Mist.machineKeysController.get("machine");if(!e)return;var t=this;this.key.machines.some(function(n){if(n[1]==e.id&&n[0]==e.backend.id)return t.key.probing?t.set("keyIcon","probing"):n[2]>0?t.set("keyIcon","probed"):t.set("keyIcon","unprobed"),!0})}.observes("this.key.probing","this.key.machines"),actions:{associatedKeyClicked:function(e){this.get("parentView").set("selectedKey",e),$("#key-actions-popup").popup("open")}}})}),define("app/views/machine_list",["app/views/page"],function(e){return App.MachineListView=e.extend({selectedMachine:null,load:function(){Mist.backendsController.on("onMachineProbe",this,"updateFooter"),Mist.backendsController.on("onSelectedMachinesChange",this,"updateFooter")}.on("didInsertElement"),unload:function(){Mist.backendsController.off("onMachineProbe",this,"updateFooter"),Mist.backendsController.off("onSelectedMachinesChange",this,"updateFooter")}.on("willDestroyElement"),updateFooter:function(){if(Mist.machineShellController.isOpen)return;var e="Shell";this.set("selectedMachine",null);switch(Mist.backendsController.selectedMachines.length){case 0:$("#machine-list-page .ui-footer").slideUp();break;case 1:var t=Mist.backendsController.selectedMachines[0];e=t.get("connectText"),$("#machine-list-page .ui-footer").slideDown(),this.set("selectedMachine",t),t.can_tag?$("#machine-list-page #machines-tags-btn").removeClass("ui-state-disabled"):$("#machine-list-page #machines-tags-btn").addClass("ui-state-disabled"),t.get("canConnect")&&t.state=="running"?$("#machine-list-page #machines-shell-btn").removeClass("ui-state-disabled"):$("#machine-list-page #machines-shell-btn").addClass("ui-state-disabled");break;default:$("#machine-list-page .ui-footer").slideDown(),$("#machine-list-page #machines-tags-btn").addClass("ui-state-disabled"),$("#machine-list-page #machines-shell-btn").addClass("ui-state-disabled")}this.set("connectText",e)},actions:{createClicked:function(){Mist.machineAddController.open()},tagsClicked:function(){Mist.machineTagsController.open(Mist.backendsController.selectedMachines[0])},powerClicked:function(){Mist.machinePowerController.open(Mist.backendsController.selectedMachines)},shellClicked:function(){Mist.machineShellController.open(Mist.backendsController.selectedMachines[0])},selectClicked:function(){$("#select-machines-popup").popup("open").find(".ui-listview").listview("refresh")},selectionModeClicked:function(e){$("#select-machines-popup").popup("close"),Mist.backendsController.content.forEach(function(t){t.machines.content.forEach(function(n){n.set("selected",e=="all"||e==t.title)})})}}})}),define("app/views/machine_list_item",["app/views/list_item"],function(e){return App.MachineListItemView=e.extend({machine:null,updateCheckbox:function(){var e=$("#"+this.elementId+" input.ember-checkbox");Ember.run.next(this,function(){e.checkboxradio&&e.checkboxradio().checkboxradio("refresh")})},monitoringIcon:function(){return this.machine.hasMonitoring?this.machine.get("hasOpenIncident")?"ui-icon-alert":"ui-icon-check":"ui-icon-none"}.property("machine.hasMonitoring","machine.hasOpenIncident"),actions:{disassociateGhostMachine:function(){var e=this.get("parentView").get("key").get("id"),t=this.machine;Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Disassociate machine",body:[{paragraph:"Are you sure you want to disassociate "+t.name+" ?"}],callback:function(n){n&&Mist.keysController.disassociateKey(e,t)}})}},machineSelectedObserver:function(){Ember.run.once(this,"updateCheckbox")}.observes("machine.selected")})}),define("app/views/machine_monitoring",["app/views/templated","app/models/graph","app/models/datasource","app/models/stats_request"],function(e,t,n,r){function i(e){var t=$("#"+e).parent(),n=t.prev(),r=t.next();t.detach().appendTo("#graphs"),n.detach().appendTo("#graphs"),r.detach().appendTo("#graphs")}function s(e){var t=$("#"+e+"-btn").parent(),n=t.prev(),r=t.next();t.detach().insertBefore($("#add-metric-btn")),n.detach().insertBefore($("#add-metric-btn")),r.detach().insertBefore($("#add-metric-btn"))}return App.MachineMonitoringView=e.extend({rules:[],graphs:[],metrics:[],machine:null,gettingCommand:null,monitoringMessage:function(){var e=this.machine.installationStatus.finished_at,t=this.machine.installationStatus.activated_at,n=this.machine.installationStatus.manual;return t?"Fetching monitoring data":n||e?"Waiting for monitoring data":"Installing collectd monitoring agent"}.property("machine.installationStatus.finished_at","machine.installationStatus.activated_at"),load:function(){Mist.set("ma",this),Mist.rulesController.on("onAdd",this,"_ruleAdded"),Mist.rulesController.on("onDelete",this,"_ruleDeleted"),Mist.metricsController.on("onMetricAdd",this,"_metricAdded"),Mist.metricsController.on("onMetricDelte",this,"_metricDeleted"),Mist.metricsController.on("onMetricDisassociate",this,"_metricDeleted"),Mist.graphsController.on("onFetchStats",this,"_analyzeStatsResponse")}.on("didInsertElement"),unload:function(){Mist.rulesController.off("onAdd",this,"_ruleAdded"),Mist.rulesController.off("onDelete",this,"_ruleDeleted"),Mist.metricsController.off("onMetricAdd",this,"_metricAdded"),Mist.metricsController.off("onMetricDelte",this,"_metricDeleted"),Mist.metricsController.off("onMetricDisassociate",this,"_metricDeleted"),Mist.graphsController.off("onFetchStats",this,"_analyzeStatsResponse"),this._clear(),this._hideGraphs()}.on("willDestroyElement"),showMonitoring:function(){this._clear(),this._updateRules();var e=this;this._updateMetrics(function(){e._updateGraphs(),e._showGraphs()})},hideMonitoring:function(){this._hideGraphs(),this._clear()},addGraphClicked:function(){Mist.metricAddController.open(this.machine)},actions:{enableMonitoringClicked:function(){Mist.authenticated?Mist.current_plan?!this.machine.probed||this.machine.get("isCoreos")?this._showManualMonitoringCommand():this._showEnableMonitoringConfirmation():this._showMissingPlanMessage():Mist.loginController.open()},disableMonitoringClicked:function(){function t(t){if(!t)return;Mist.smoothScroll(0,50),Ember.run.later(function(){Mist.monitoringController.disableMonitoring(e,function(e){e&&Mist.graphsController.close()})},200)}var e=this.machine;Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Disable monitoring",body:[{paragraph:"Are you sure you want to disable monitoring for this machine?"}],callback:t})},addRuleClicked:function(){Mist.rulesController.newRule(this.machine)},addGraphClicked:function(){this.addGraphClicked()},graphButtonClicked:function(e){e.view.set("isHidden",!1);var t=Mist.cookiesController.getSingleMachineGraphEntry(this.machine,e).hidden=!1;Mist.cookiesController.save(),i(e.id),Ember.run.later(function(){s(e.id)},400)},collapseClicked:function(e){e.view.set("isHidden",!0);var t=Mist.cookiesController.getSingleMachineEntry(this.machine).graphs,n=this.metrics.length-1,r;forIn(t,function(t){t.index==e.index?r=t:t.index>e.index&&(t.index-=1)}),r.index=n,r.hidden=!0,e.set("index",n),Mist.cookiesController.save(),s(e.id),Ember.run.later(function(){i(e.id)},400)},removeClicked:function(e){function i(n){n?Mist.metricsController.disassociateMetric(r,t,function(t){t&&Mist.graphsController.content.removeObject(e)}):e.set("pendingRemoval",!1)}var t=this.machine,n='Are you sure you want to remove "'+e.datasources[0].metric.name+'"',r=e.datasources[0].metric;r.isPlugin&&(n+=" and disable it from server "+t.name),n+=" ?",Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Remove graph",body:[{paragraph:n}],callback:function(n){n&&(e.set("pendingRemoval",!0),r.isPlugin?Mist.metricsController.disableMetric(r,t,i):i(!0))}})}},_clear:function(){this.setProperties({rules:new Array,graphs:new Array,metrics:new Array})},_showMissingPlanMessage:function(){Mist.dialogController.open({type:DIALOG_TYPES.OK,head:"No plan",body:[{paragraph:"In order to use our monitoring service you have to purchase a plan"},{paragraph:"You can do that in the Account page, which can be accessed from the menu button on the top right corner, or you can the link bellow:"},{link:"Account page",href:"https://mist.io/account"}]})},_showManualMonitoringCommand:function(){function t(t){Mist.dialogController.open({type:DIALOG_TYPES.OK_CANCEL,head:"Enable monitoring",body:t.body,callback:function(t){if(!t)return;Mist.monitoringController.enableMonitoring(e.machine,null,!0)}})}var e=this;this.set("gettingCommand",!0),Mist.monitoringController.getMonitoringCommand(this.machine,function(n,r){n&&(e.machine.get("isWindows")?t({body:[{paragraph:"Run this command on your server's power shell to install the monitoring agent:"},{command:r.windows_command}]}):e.machine.get("isCoreos")?t({body:[{paragraph:"Run this command on your server's terminal to install the monitoring agent:"},{command:r.coreos_command}]}):t({body:[{paragraph:"Automatic installation of the monitoring agent requires an SSH key"},{paragraph:"Run this command on your server's terminal to install the monitoring agent:"},{command:r.unix_command}]})),e.set("gettingCommand",!1)})},_showEnableMonitoringConfirmation:function(){var e=this.machine;Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Enable monitoring",body:[{paragraph:"Are you sure you want to enable monitoring for this machine?"}],callback:function(t){t&&Mist.monitoringController.enableMonitoring(e)}})},_showGraphs:function(){if(!this.$())return;var e=Mist.cookiesController.getSingleMachineEntry(this.machine);if(Mist.graphsController.isOpen)return;this.set("graphs",this.graphs.sortBy("index")),Mist.graphsController.open({graphs:this.graphs,config:{canModify:!0,canControl:!0,canMinimize:!0}}),Ember.run.next(function(){return})},_hideGraphs:function(){if(!Mist.graphsController.isOpen)return;Mist.graphsController.close()},_updateRules:function(){Mist.rulesController.forEach(function(e){this.machine.equals(e.machine)&&(this.rules.findBy("id",e.id)||this.rules.pushObject(e))},this)},_updateMetrics:function(e){function i(){Mist.graphsController.off("onFetchStatsFromSocket",s)}function s(r){r.request_id==n.id&&(i(),Object.keys(r.metrics).length>1?(forIn(t,r.metrics,function(e,n){var e=Mist.metricsController.getMetric(n);e&&!t.metrics.findBy("id",e.id)&&t.metrics.pushObject(e)}),t.set("pendingFirstStats",!1),e()):Ember.run.later(o,TIME_MAP.SECOND*10))}function o(){t.$()?(Mist.graphsController.on("onFetchStatsFromSocket",s),Mist.graphsController._fetchStatsFromSocket(n)):i()}this.set("pendingFirstStats",!0);var t=this,n=r.create({from:Date.now(),until:Date.now(),datasources:[{machine:this.machine}]});o()},_updateGraphs:function(){function s(t){return Mist.cookiesController.getSingleMachineGraphEntry(e.machine,t)}var e=this,r=Mist.graphsController.stream.isStreaming,i=!1;this.metrics.forEach(function(e,r){var o=n.create({metric:e,machine:this.machine}),u=!1;this.graphs.some(function(e){if(e.datasources.findBy("id",o.id))return u=!0},this);if(!u){i=!0,Mist.graphsController.stream.stop();var a=t.create({title:e.name,index:r,datasources:[o]});a.set("isHidden",s(a).hidden),a.set("index",s(a).index),this.graphs.pushObject(a)}},this),r&&i&&Mist.graphsController.stream.start()},_analyzeStatsResponse:function(e){Ember.run.later(this,function(){forIn(this,e,function(e,t){var e=Mist.metricsController.getMetric(t);e&&!this.metrics.findBy("id",e.id)&&this.metrics.pushObject(e)})},TIME_MAP.SECOND)},_ruleAdded:function(e){this.machine.equals&&this.machine.equals(e.object.machine)&&this.rules.pushObject(e.object)},_ruleDeleted:function(e){this.machine.equals&&this.machine.equals(e.object.machine)&&this.rules.removeObject(e.object)},_metricAdded:function(e){this.machine.equals&&this.machine.equals(e.machine)&&this.metrics.pushObject(e.metric)},_metricDeleted:function(e){this.metrics.findBy("id",e.metric.id)&&this.metrics.removeObject(e.metric)},hasMonitoringObserver:function(){this.machine.hasMonitoring?this.showMonitoring():this.hideMonitoring()}.observes("machine.hasMonitoring").on("didInsertElement"),metricsObsever:function(){Ember.run.once(this,"_updateGraphs")}.observes("metrics.@each")})}),define("app/views/machine_power",["app/views/templated"],function(e){return App.MachinePowerView=e.extend({load:function(){Mist.machinePowerController.on("onActionsChange",this,"renderActions")}.on("didInsertElement"),unload:function(){Mist.machinePowerController.off("onActionsChange",this,"renderActions")}.on("willDestroyElement"),renderActions:function(){Ember.run.next(function(){$("#machine-power-popup").trigger("create")})},actions:{actionClicked:function(e){Mist.machinePowerController.act(e)},backClicked:function(){Mist.machinePowerController.close()}}})}),define("app/views/machine_edit",["app/views/popup"],function(e){return App.MachineEditView=e.extend({updateRenameButton:function(){Mist.machineEditController.renamingMachine?($("#rename-machine-option").addClass("ui-state-disabled"),$("#machine-edit-ok").addClass("ui-state-disabled")):($("#rename-machine-option").removeClass("ui-state-disabled"),$("#machine-edit-ok").removeClass("ui-state-disabled"))},actions:{backClicked:function(){Mist.machineEditController.close()},saveClicked:function(){Mist.machineEditController.save()}},updateRenameButtonObserver:function(){Ember.run.once(this,"updateRenameButton")}.observes("Mist.machineEditController.renamingMachine")})}),define("app/views/machine_shell",["app/views/popup"],function(e){function i(){clearTimeout(r),r=setTimeout(u,1e3)}function s(e){$(e.currentTarget).off("blur"),$(document).off("focusin"),Ember.run.next(function(){Mist.isClientMobile||u()})}function o(e){Mist.isClientMobile&&u()}function u(){Mist.isClientMobile?f():a(),Mist.machineShellController.connect()}function a(){var e=$("#machine-shell-popup #shell-return");e={width:e.width(),height:e.height(),ptop:e.css("padding-top").replace("px",""),pleft:e.css("padding-left").replace("px",""),pright:e.css("padding-right").replace("px",""),pbottom:e.css("padding-bottom").replace("px","")};var r=$("#machine-shell-popup .ui-btn");r={height:r.height(),ptop:r.css("padding-top").replace("px",""),pbottom:r.css("padding-bottom").replace("px","")};var i={width:Math.floor(e.width-e.pleft-e.pright),height:Math.floor(e.height-e.ptop-e.pbottom-r.height-r.ptop-r.pbottom)},s=$("#font-test").css("font-size","1em").css("font-size"),o,u;for(;;){s=s.replace("px","")-.5;if(s<10)break;s+="px",o=maxCharsInWidth(s,i.width);if(o<n)continue;u=maxLinesInHeight(s,i.height);if(u<t)continue;break}$("#shell-return").css("font-size",s),Mist.machineShellController.set("cols",o),Mist.machineShellController.set("rows",u)}function f(){var e=19,r=$("#font-test").text("-"),i,s,o=window.innerWidth-46,u=window.innerHeight-135-virtualKeyboardHeight();do{--e;if(e==6)break;r.css("font-size",e+"px"),i=r.width()*n,s=r.height()*t}while(i>o||s>u);$("#shell-return").css("font-size",e+"px");var a=$("#machine-shell-popup");a.css("left",(window.innerWidth-a.width())/2+"px"),Mist.machineShellController.set("cols",n),Mist.machineShellController.set("rows",t)}var t=24,n=80;return App.MachineShellView=e.extend({load:function(){$(this.popupId).on("popupafteropen",s).on("popupbeforeposition",o).parent().addClass(Mist.isClientMobile?"mobile":"desktop").addClass(Mist.isClientMoblie?"huge-popup":"")}.on("didInsertElement"),unload:function(){$(this.popupId).off("popupafteropen",s).off("popupbeforeposition",o)}.on("willDestroyElement"),open:function(){this.setUpUI(),this._super()},close:function(){this._super(),this.cleanUpUI()},setUpUI:function(){lockScroll(),$(".ui-footer").slideUp(200),$(window).on("resize",i)},cleanUpUI:function(){unlockScroll(),$(".ui-footer").slideDown(400),$(window).off("resize",i)},actions:{backClicked:function(){Mist.machineShellController.close()}}});var r}),define("app/views/machine_tags",["app/views/templated"],function(e){return App.MachineTagsView=e.extend({actions:{addClicked:function(){Mist.machineTagsController.add()},backClicked:function(){Mist.machineTagsController.close()}}})}),define("app/views/machine_tags_list_item",["app/views/list_item"],function(e){return App.MachineTagsListItemView=e.extend({tag:null,tagName:"span",actions:{deleteClicked:function(){Mist.machineTagsController.deleteTag(this.tag)}}})}),define("app/views/messagebox",["app/views/templated"],function(e){return App.MessageBoxView=e.extend({popup:"#message-box",load:function(){this.set("popup",$(this.popup)),Mist.notificationController.messageBox.set("view",this)}.on("didInsertElement"),unload:function(){Mist.notificationController.messageBox.set("view",null)}.on("willDestroyElement"),open:function(){Ember.run.later(this,function(){this.popup.popup("reposition",{positionTo:"window"}),Ember.run.next(this,function(){this.popup.popup("open")})},400)},close:function(){this.popup.popup("close")},actions:{okClicked:function(){Mist.notificationController.messageBox.close()}}})}),define("app/views/metric_add",["app/views/popup"],function(e){return App.MetricAddView=e.extend({open:function(){this._super(),Ember.run.later(this,function(){$(this.popupId).popup("reposition",{positionTo:"#add-metric-btn"})},200)},clear:function(){},addCustomMetric:function(){this.close();var e=this;Ember.run.later(function(){Mist.metricAddCustomController.open(Mist.metricAddController.machine,function(t,n){t?Mist.metricAddController.close():Ember.run.later(function(){e.open()},400)})},400)},showSSHError:function(){this.close();var e=this;Ember.run.later(function(){Mist.notificationController.messageBox.open({title:"SSH key missing",paragraphs:["Please add a key to your server to deploy custom metrics."],callback:function(){Ember.run.later(function(){e.open()},400)}})},400)},actions:{customClicked:function(){Mist.metricAddController.machine.probed?this.addCustomMetric():this.showSSHError()}}})}),define("app/views/metric_add_custom",["app/views/popup"],function(e){return App.MetricAddCustomView=e.extend({open:function(){this._super(),Ember.run.later(this,function(){$(this.popupId).popup("reposition",{positionTo:"#add-metric-btn"})},200)},clear:function(){Ember.run.next(this,function(){$(this.popupId+" .ember-checkbox").checkboxradio("refresh"),$("#custom-plugin-script").scrollTop(),$("#advanced-toggle").val(0),$("#advanced-toggle").slider("refresh").trigger("change")})},updateDeployButton:function(){Mist.metricAddCustomController.addingMetric||!Mist.metricAddCustomController.formReady?$("#deploy").addClass("ui-state-disabled"):$("#deploy").removeClass("ui-state-disabled")},actions:{backClicked:function(){Mist.metricAddCustomController.close()},deployClicked:function(){$("#custom-plugin-error").slideUp().text(""),$("#custom-plugin-script").removeClass("error"),Mist.metricAddCustomController.add()},advancedToggled:function(){$("#advanced-toggle").val()=="1"?$("#custom-plugin-advanced").slideDown():$("#custom-plugin-advanced").slideUp()}},updateDoneButtonObserver:function(){Ember.run.once(this,"updateDeployButton")}.observes("Mist.metricAddCustomController.addingMetric","Mist.metricAddCustomController.formReady")})}),define("app/views/missing",["app/views/templated"],function(e){return App.MissingView=e.extend({})}),define("app/views/metric_node",["app/views/templated"],function(e){return App.MetricNodeView=e.extend({node:null,metric:null,unfold:!1,element:null,load:function(){this.set("element",$("#"+this.elementId)),this.indentNode(),this.node.isRootNode&&this.unfoldChildren(),this.node.isEndNode&&this.set("metric",Mist.metricAddController.getMetric(this.node.target))}.on("didInsertElement"),indentNode:function(){for(var e=1;e<this.node.nestIndex;e++)$('<div class="margin"></div>').insertBefore(this.element)},foldChildren:function(){this.set("unfold",!1);var e=this.element.find("> a.parent-node").eq(0);e.removeClass("ui-icon-minus"),e.addClass("ui-icon-carat-d"),this.element.find(".nest").eq(0).slideUp()},foldSiblings:function(){var e=this.element.siblings().filter(".ember-view");e.toArray().forEach(function(e){Ember.View.views[e.id].foldChildren()})},preCenterNode:function(){this.set("prevOffsetTop",this.element.offset().top),this.set("prevWinScrollTop",$(window).scrollTop())},centerNode:function(){if(!this.element)return;var e=this.element.offset().top,t=$(window).scrollTop(),n=this.prevOffsetTop-this.prevWinScrollTop,r=e-t;if(e<t){var i=n-r;Mist.smoothScroll($(window).scrollTop()-i)}},unfoldChildren:function(){this.preCenterNode(),this.set("unfold",!0);var e=this.element.find("> a.parent-node").eq(0);e.removeClass("ui-icon-carat-d"),e.addClass("ui-icon-minus"),this.foldSiblings();var t=this;Ember.run.next(function(){t.element.find(".nest").eq(0).slideDown(400,function(){t.centerNode()})})},actions:{toggleUnfold:function(){this.unfold?this.foldChildren():this.unfoldChildren()},selectMetric:function(){var e=this;Mist.metricAddController.set("newMetric",this.metric),Mist.metricAddController.add()}}})}),define("app/views/network",["app/views/page"],function(e){return App.NetworkView=e.extend({network:null,extra:null,selectedIp:null,load:function(){Mist.backendsController.one("onNetworkListChange",this,"load"),Ember.run(this,function(){this.updateCurrentNetwork(),this.network.id&&this.updateExtra(),Ember.run.next(function(){$("#single-network-subnets").trigger("create"),$("#single-network-subnets").collapsible()})})}.on("didInsertElement"),unload:function(){Mist.backendsController.off("onNetworkListChange",this,"load")}.on("willDestroyElement"),updateCurrentNetwork:function(){Ember.run(this,function(){var e=Mist.backendsController.getRequestedNetwork();e&&this.get("controller").set("model",e),this.set("network",this.get("controller").get("model")),this.network.id&&this.updateExtra()}),$("#single-network-subnets").trigger("create")},actions:{deleteClicked:function(){var e=this,t=this.network.id;Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Delete network",body:[{paragraph:'Are you sure you want to delete "'+this.network.name+'" ?'}],callback:function(n){n&&e.network.backend.networks.deleteNetwork(t,function(e){e&&Mist.Router.router.transitionTo("networks")})}})},assignMachine:function(e){var t=this.get("selectedIp");this.get("network").get("backend").get("networks").associateIP({network:this.get("network"),machine:e,ip:t,callback:function(n){n&&t.get("server").set("name",e.get("name"))}}),$("#assign-machine").popup("close")}},updateExtra:function(){var e=[];this.network.extra instanceof Object&&forIn(this.network.extra,function(t,n){e.push({key:n,value:t})}),this.set("extra",e),Ember.run.next(function(){$("#single-network-extra").collapsible()})}.observes("network.extra.@each")})}),define("app/views/network_create",["app/views/panel"],function(e){var t=130;return App.NetworkCreateView=e.extend({createSubnet:!1,disableGateway:!1,clear:function(){$("#network-create-name-wrapper").hide(),$("#network-create-admin-state-wrapper").hide(),$("#network-create-admin-state-wrapper").hide(),$("#network-create-subnet-wrapper").hide(),$("#network-create-subnet-form").hide(),$("#network-create-subnet-address-wrapper").hide(),$("#network-create-subnet-other-wrapper").hide(),$("#network-create-subnet-gateway-ip-wrapper").show(),$("#network-create .ui-collapsible").collapsible("option","collapsedIcon","arrow-d").collapsible("collapse"),$("#network-create .ui-checkbox > .ui-btn").removeClass("ui-checkbox-on").addClass("ui-checkbox-off"),this.renderFields(),this._fieldIsReady("admin-state"),this._fieldIsReady("subnet-ipv")},renderFields:function(){Ember.run.next(function(){$("#network-create .ui-collapsible").collapsible&&$("#network-create .ui-collapsible").collapsible(),$("#network-create .ui-listview").listview&&$("#network-create .ui-listview").listview().listview("refresh")})},_fieldIsReady:function(e){$("#network-create-"+e).collapsible("option","collapsedIcon","check").collapsible("collapse")},actions:{backendSelected:function(e){Ember.run.later(function(){$("#network-create-name-wrapper").slideDown()},t),Mist.networkCreateController.selectBackend(e),this._fieldIsReady("backend")},adminStateSelected:function(e){Mist.networkCreateController.selectAdminState(e),this._fieldIsReady("admin-state")},ipvSelected:function(e){Mist.networkCreateController.selectIpv(e),this._fieldIsReady("subnet-ipv")},backClicked:function(){Mist.networkCreateController.close()},createClicked:function(){Mist.networkCreateController.create()}},networkNameObserver:function(){Ember.run.later(function(){Mist.networkCreateController.network.name&&($("#network-create-subnet-wrapper").slideDown(),$("#network-create-admin-state-wrapper").slideDown())},t)}.observes("Mist.networkCreateController.network.name"),createSubnetObserver:function(){Ember.run.later(function(){Mist.networkCreateController.network.createSubnet?($("#network-create-subnet-form").slideDown(),$("#network-create-subnet-name-wrapper").slideDown()):$("#network-create-subnet-form").slideUp()},t)}.observes("Mist.networkCreateController.network.createSubnet"),subnetNameObserver:function(){Ember.run.later(function(){Mist.networkCreateController.network.subnet.name&&$("#network-create-subnet-address-wrapper").slideDown()},t)}.observes("Mist.networkCreateController.network.subnet.name"),subnetAddressObserver:function(){Ember.run.later(function(){Mist.networkCreateController.network.subnet.address&&$("#network-create-subnet-other-wrapper").slideDown()},t)}.observes("Mist.networkCreateController.network.subnet.address"),subnetEnableGatewayObserver:function(){Ember.run.later(function(){Mist.networkCreateController.network.subnet.disableGateway?$("#network-create-subnet-gateway-ip-wrapper").slideUp():$("#network-create-subnet-gateway-ip-wrapper").slideDown()},t)}.observes("Mist.networkCreateController.network.subnet.disableGateway")})}),define("app/views/network_list",["app/views/page"],function(e){return App.NetworkListView=e.extend({load:function(){Mist.backendsController.on("onSelectedNetworksChange",this,"updateFooter"),this.updateFooter()}.on("didInsertElement"),unload:function(){Mist.keysController.off("onSelectedNetworksChange",this,"updateFooter")}.on("willDestroyElement"),updateFooter:function(){Mist.backendsController.selectedNetworks.length?$("#network-list-page .ui-footer").slideDown():$("#network-list-page .ui-footer").slideUp()},actions:{createClicked:function(){Mist.networkCreateController.open()},deleteClicked:function(){var e=Mist.backendsController.selectedNetworks.toStringByProperty("name");Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Delete networks",body:[{paragraph:"Are you sure you want to delete these networks: "+e+" ?"}],callback:function(e){e&&Mist.backendsController.selectedNetworks.forEach(function(e){e.backend.networks.deleteNetwork(e.id)})}})}}})}),define("app/views/network_list_item",["app/views/list_item"],function(e){return App.NetworkListItemView=e.extend({})}),define("app/views/rule",["app/views/templated","ember"],function(e){"use strict";return App.RuleView=e.extend({isUpdating:null,newRuleValue:null,newRuleTimeWindow:null,rule:function(){return this.get("model")}.property("controller.model"),aggregateIsAny:function(){if(this.get("rule").aggregate){var e=this.get("rule").aggregate.value=="any";return e||Ember.run.next(this,function(){$("#"+this.get("rule").id+" .rule-time-window").parent().trigger("create")}),e}}.property("rule","rule.aggregate"),load:function(){Ember.run.next(this,function(){this.showAdvancedCondition(),this.updateTextValues(),$("#"+this.elementId).trigger("create")})}.on("didInsertElement"),update:function(){if(this.isUpdating)return;if(this.get("rule").value==this.newRuleValue&&1+this.get("rule").timeWindow/60==this.newRuleTimeWindow)return;this.set("isUpdating",!0),Ember.run.later(this,function(){this.set("isUpdating",!1);var e=this;Mist.rulesController.editRule({rule:this.get("rule"),properties:{value:this.newRuleValue,reminder_offset:(this.newRuleTimeWindow-1)*60},callback:function(t){t||e.updateTextValues()}})},500)},updateTextValues:function(){this.setProperties({newRuleTimeWindow:1+this.get("rule").timeWindow/60,newRuleValue:this.get("rule").value})},showAdvancedCondition:function(e){var t="#"+this.elementId;if(e){$(t+" .rule-more").fadeOut(200,function(){$(t+" .advanced-condition").fadeIn()});return}if(!this.get("rule.aggregate"))return;var n=this.get("rule").aggregate.value=="all"&&this.get("rule").timeWindow==0;n||($(t+" .rule-more").hide(0),$(t+" .advanced-condition").show(0))},actions:{openMetricPopup:function(){Mist.ruleEditController.open(this.get("rule"),"metric")},openOperatorPopup:function(){Mist.ruleEditController.open(this.get("rule"),"operator")},openActionPopup:function(){Mist.ruleEditController.open(this.get("rule"),"action")},openAggregatePopup:function(){Mist.ruleEditController.open(this.get("rule"),"aggregate")},deleteRuleClicked:function(){Mist.rulesController.deleteRule(this.get("rule"))},openAdvancedCondition:function(){this.showAdvancedCondition(!0)}},textValuesObserver:function(){Ember.run.once(this,"update")}.observes("newRuleValue","newRuleTimeWindow"),timeWindowObserver:function(){Ember.run.once(this,"updateTextValues")}.observes("rule","rule.timeWindow")})}),define("app/views/rule_edit",["app/views/controlled"],function(e){return App.RuleEditView=e.extend({rule:null,metrics:[],newCommand:null,sortedMetrics:function(){var e=this.get("metrics");return e?e.sortBy("lowerName"):[]}.property("metrics"),open:function(e){this.set("rule",Mist.ruleEditController.rule),this.set("metrics",this._parentView.metrics);var t="#"+this.rule.id+" .rule-button.rule-"+e;$("#rule-"+e).popup("option","positionTo",t),Ember.run.next(function(){$("#rule-"+e).popup("open")})},close:function(e){$("#rule-"+e).popup("close")},openCommandEditor:function(){Mist.ruleEditController.close("action"),Ember.run.later(this,function(){Mist.ruleEditController.open(this.rule,"command"),this.set("newCommand",this.rule.command)},500)},closeCommandEditor:function(){Mist.ruleEditController.close("command"),Ember.run.later(this,function(){Mist.ruleEditController.open(this.rule,"action")},500)},actions:{metricClicked:function(e){Mist.ruleEditController.edit({metric:e})},operatorClicked:function(e){Mist.ruleEditController.edit({operator:e})},aggregateClicked:function(e){Mist.ruleEditController.edit({aggregate:e})},actionClicked:function(e){e=="command"?this.openCommandEditor():Mist.ruleEditController.edit({action:e})},saveClicked:function(){Mist.ruleEditController.edit({action:"command",command:this.newCommand})},backClicked:function(){this.closeCommandEditor()}}})}),define("app/views/rule_list",["app/views/templated"],function(e){return App.RuleListView=e.extend({rules:null})}),define("app/views/script",["app/views/page"],function(e){return App.ScriptView=e.extend({isInline:function(){var e=this.get("model");return e.id?e.get("source")=="inline":!1}.property("controller.model.source"),model:function(){return this.get("controller").get("model")}.property("controller.model"),load:function(){Mist.scriptsController.on("onChange",this,"updateView"),this.updateView()}.on("didInsertElement"),unload:function(){Mist.scriptsController.on("onChange",this,"updateView")}.on("willDestroyElement"),updateView:function(){this.updateModel(),Mist.scriptsController.objectExists(this.get("model").id)},updateModel:function(){var e=Mist.scriptsController.getRequestedScript();e&&this.get("controller").set("model",e)},actions:{runClicked:function(){Mist.scriptRunController.open(this.get("model"))},renameClicked:function(){Mist.scriptEditController.open(this.get("model"))},deleteClicked:function(){var e=this.get("model");Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Delete script",body:[{paragraph:'Are you sure you want to delete "'+e.name+'" ?'}],callback:function(t){if(!t)return;Mist.scriptsController.deleteScript({script:e,callback:function(e){if(!e)return;Mist.Router.router.transitionTo("scripts")}})}})}}})}),define("app/views/script_add",["app/views/panel"],function(e){var t="http://",n="https://github.com/owner/repo",r='#!/bin/bash\necho "hello world"',i='- name: Dummy ansible playbook\n   hosts: localhost\n   tasks:\n    - name: Dummy task\n      debug:\n        msg: "Hello World"\n';return App.ScriptAddView=e.extend({scriptTypes:[{label:"Ansible Playbook",value:"ansible"},{label:"Executable",value:"executable"}],scriptSources:[{label:"Github",value:"github"},{label:"URL",value:"url"},{label:"Inline",value:"inline"}],isReady:function(){var e=Mist.scriptAddController.get("newScript"),t=e.get("name"),n=e.get("type"),r=e.get("source");return!n||!r||!t?!1:r.value=="inline"?e.get("script"):e.get("url")}.property("Mist.scriptAddController.newScript.name","Mist.scriptAddController.newScript.source","Mist.scriptAddController.newScript.type","Mist.scriptAddController.newScript.url","Mist.scriptAddController.newScript.script"),clear:function(){this.$(".source").hide(),this.$("#script-add-description").hide(),this.closeTypeSelect(),this.closeSourceSelect()},selectType:function(e){this.closeTypeSelect(),Mist.scriptAddController.get("newScript").set("type",e),this.setScript()},setScript:function(){var e=Mist.scriptAddController.get("newScript"),t=e.get("type");t.value=="ansible"&&e.set("script",i),t.value=="executable"&&e.set("script",r)},selectSource:function(e){this.closeSourceSelect(),this.showSourceBundle(e);var r=Mist.scriptAddController.get("newScript");r.set("source",e),e.value=="url"&&r.set("url",t),e.value=="github"&&r.set("url",n),e.value=="inline"&&this.setScript()},closeTypeSelect:function(){this.$("#script-add-type .mist-select").collapsible("collapse")},closeSourceSelect:function(){this.$("#script-add-source .mist-select").collapsible("collapse")},showSourceBundle:function(e){this.$(".source").hide(),this.$("."+e.value).slideDown(),this.$("#script-add-description").slideDown()},actions:{selectType:function(e){this.selectType(e)},selectSource:function(e){this.selectSource(e)},backClicked:function(){Mist.scriptAddController.close()},addClicked:function(){Mist.scriptAddController.add()}}})}),define("app/views/script_edit",["app/views/popup"],function(e){return App.ScriptEditView=e.extend({actions:{backClicked:function(){Mist.scriptEditController.close()},saveClicked:function(){Mist.scriptEditController.save()}}})}),define("app/views/script_list",["app/views/page"],function(e){return App.ScriptListView=e.extend({load:function(){Mist.scriptsController.on("onSelectedChange",this,"updateFooter"),this.updateFooter()}.on("didInsertElement"),unload:function(){Mist.scriptsController.off("onSelectedChange",this,"updateFooter")}.on("willDestroyElement"),canRename:function(){return Mist.scriptsController.get("selectedObjects").length==1}.property("Mist.scriptsController.@each.selected"),canDelete:function(){return Mist.scriptsController.get("selectedObjects").length}.property("Mist.scriptsController.@each.selected"),updateFooter:function(){Mist.scriptsController.get("selectedObjects").length?this.$(".ui-footer").slideDown():this.$(".ui-footer").slideUp()},actions:{addClicked:function(){Mist.scriptAddController.open()},renameClicked:function(){Mist.scriptEditController.open(Mist.scriptsController.get("selectedObjects")[0])},selectClicked:function(){$("#select-scripts-popup").popup("open")},selectionModeClicked:function(e){$("#select-scripts-popup").popup("close"),Ember.run(function(){Mist.scriptsController.forEach(function(t){t.set("selected",e)})})},deleteClicked:function(){var e=Mist.scriptsController.get("selectedObjects");Mist.dialogController.open({type:DIALOG_TYPES.YES_NO,head:"Delete scripts",body:[{paragraph:"Are you sure you want to delete these scripts: "+e.toStringByProperty("name")+" ?"}],callback:function(t){if(!t)return;e.forEach(function(e){Mist.scriptsController.deleteScript({script:e})})}})}}})}),define("app/views/script_run",["app/views/panel"],function(e){return App.ScriptRunView=e.extend({load:function(){Mist.backendsController.on("onMachineListChange",this,"refreshList")}.on("didInsertElement"),unload:function(){Mist.backendsController.off("onMachineListChange",this,"refreshList")}.on("willDestroyElement"),refreshList:function(){Ember.run.later(this,function(){this.$(".ui-listview").listview("refresh")},200)},isReady:function(){return Mist.scriptRunController.scriptToRun.machine.id}.property("Mist.scriptRunController.scriptToRun.machine"),actions:{machineClicked:function(e){Mist.scriptRunController.get("scriptToRun").set("machine",e),this.$("#script-run-machine").collapsible("collapse")},backClicked:function(){Mist.scriptRunController.close()},runClicked:function(){Mist.scriptRunController.run()}}})}),define("app/views/script_list_item",["app/views/list_item"],function(e){return App.ScriptListItemView=e.extend({updateCheckbox:function(){var e=this.$("input.ember-checkbox");Ember.run.next(this,function(){e.checkboxradio&&e.checkboxradio().checkboxradio("refresh")})},selectedObserver:function(){Ember.run.once(this,"updateCheckbox")}.observes("script.selected")})}),define("app/views/script_log_list",["app/views/log_list"],function(e){return App.ScriptLogListView=e.extend({filterString:Ember.computed.alias("controller.model.id"),extraParams:Ember.Object.create({script_id:""}),search:function(){if(this.get("filterString")===undefined)return;this.get("extraParams").set("script_id",this.get("filterString")),this._super()}})}),define("app/views/subnet_list_item",["app/views/list_item"],function(e){return App.SubnetListItemView=e.extend({tagName:"div"})});var hex_chr="0123456789abcdef".split("");if(md5("hello")!="5d41402abc4b2a76b9719d911017c592")function add32(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}define("md5",function(){}),define("app/views/user_menu",["app/views/templated","md5"],function(e){"user strict";return App.UserMenuView=e.extend({isNotCore:!IS_CORE,accountUrl:URL_PREFIX+"/account",gravatarURL:EMAIL&&"https://www.gravatar.com/avatar/"+md5(EMAIL)+"?d="+encodeURIComponent("https://mist.io/resources/images/sprite-images/user.png")+"&s=36",actions:{meClicked:function(){$("#user-menu-popup").popup("open")},loginClicked:function(){$("#user-menu-popup").popup("close"),Ember.run.later(function(){Mist.loginController.open()},300)},logoutClicked:function(){Mist.loginController.logout()}}})}),define("app/models/story",["app/models/base"],function(e){"use sctrict";return e.extend({convertProperties:{backend_id:"backendId",started_at:"startedAt",finished_at:"finishedAt",incident_id:"incidentId",machine_id:"machineId",rule_id:"ruleId",story_id:"id"},processProperties:{startedAt:function(e){return e instanceof Date?e:new Date(parseInt(e*1e3))},finishedAt:function(e){return e instanceof Date?e:new Date(parseInt(e*1e3))}},backend:function(){return Mist.backendsController.getBackend(this.get("backendId"))}.property("backendId"),machine:function(){return Mist.backendsController.getMachine(this.get("machineId"))}.property("machineId"),rule:function(){return Mist.rulesController.getObject(this.get("ruleId"))}.property("ruleId"),duration:function(){var e=this.get("startedAt"),t=this.get("finishedAt");return t<e&&(t=new Date),t.diffToString(e)}.property("startedAt","finishedAt","Mist.clock.minute"),start:function(){return this.get("startedAt").getPrettyTime()}.property("startedAt"),closed:function(){return(new Date).diffToString(this.get("finishedAt"))}.property("finishedAt","Mist.clock.minute"),prettyTime:function(){var e=this.get("startedAt").getTimeFromNow().replace(" ago","");return e.split("")[0].match(/^\d+$/)||(e="since "+e),e}.property("startedAt","Mist.clock.second"),ruleText:function(){return this.get("logs")[0].condition}.property("logs.@each"),machineName:function(){return this.get("logs")[0].machine_name}.property("logs.@each"),isClosed:function(){return this.get("finishedAt")>this.get("startedAt")}.property("finishedAt")})}),startTimer(),window.App=new Object,DEBUG_SOCKET=!1,DEBUG_STATS=!1,DEBUG_LOGS=!1,MAX_DATAPOINTS=60,DATASOURCES_PER_GRAPH=8,require.config({baseUrl:"resources/js/",waitSeconds:200,paths:{text:"lib/require/text",ember:"lib/ember-1.6.0.min",jquery:"lib/jquery-2.1.1.min",jqm:"lib/jquery.mobile-1.4.5.min",handlebars:"lib/handlebars-1.3.0.min",md5:"lib/md5",d3:"lib/d3.min",c3:"lib/c3.min",socket:"lib/socket.io",term:"lib/term"},deps:["jquery"],callback:function(){fontTest=$("#font-test"),handleMobileInit(),appLoader.init()},shim:{ember:{deps:["jquery","handlebars"]},d3:{deps:["jquery"]},c3:{deps:["d3"]}}});var appLoader={buffer:null,progress:null,progressStep:null,init:function(){this.buffer={},this.progress=0,this.progressStep=100/Object.keys(this.steps).length,this.start()},start:function(){forIn(this.steps,function(e){e.before.length==0&&e.exec()})},complete:function(e){this.progress+=this.progressStep,changeLoadProgress(Math.ceil(this.progress)),forIn(this.steps,function(t,n){var r=t.before.indexOf(e);if(r==-1)return;t.before.splice(r,1),t.before.length==0&&t.exec()})},finish:function(){loadApp=null,loadFiles=null,loadImages=null,handleMobileInit=null,setupSocketEvents=null,changeLoadProgress=null,appLoader=null,info("Loaded in",getTime(),"ms")},steps:{"load ember":{before:[],exec:function(){require(["ember"],function(){extendEmberView(),appLoader.complete("load ember")})}},"load files":{before:[],exec:function(){loadFiles(function(){appLoader.buffer.files=Array.prototype.slice.call(arguments),appLoader.complete("load files")})}},"load images":{before:[],exec:function(){loadImages(function(){appLoader.complete("load images")})}},"load socket":{before:[],exec:function(){require(["socket"],function(){appLoader.complete("load socket")})}},"load jqm":{before:["load ember"],exec:function(){require(["jqm"],function(){appLoader.complete("load jqm")})}},"load templates":{before:["load ember","load files"],exec:function(){appLoader.buffer.files[0](function(){appLoader.complete("load templates")})}},"init app":{before:["load templates","init connections"],exec:function(){loadApp.apply(null,[function(){appLoader.complete("init app")}].concat(appLoader.buffer.files))}},"init connections":{before:["load socket","load ember"],exec:function(){appLoader.buffer.ajax=Ajax(CSRF_TOKEN),appLoader.buffer.socket=Socket({namespace:"/mist",onInit:function(){appLoader.complete("init connections")},onConnect:function(e){appLoader||e.emit("ready")}}),appLoader.buffer.logs=new Socket_({namespace:"/logs",onConnect:function(e){appLoader||e.emit("ready")}})}},"init socket events":{before:["init connections","init app"],exec:function(){Mist.set("ajax",appLoader.buffer.ajax),Mist.set("socket",appLoader.buffer.socket),Mist.set("logs",appLoader.buffer.logs),appLoader.complete("init socket events")}},"fetch first data":{before:["init socket events"],exec:function(){setupSocketEvents(Mist.socket,function(){setupLogsSocketEvents(Mist.logs,function(){appLoader.complete("fetch first data")})})}}}},loadFiles=function(e){require(["app/templates/templates","app/controllers/backend_add","app/controllers/backend_edit","app/controllers/backends","app/controllers/cookies","app/controllers/datasources","app/controllers/dialog","app/controllers/file_upload","app/controllers/graphs","app/controllers/image_search","app/controllers/key_add","app/controllers/key_edit","app/controllers/keys","app/controllers/login","app/controllers/logs","app/controllers/machine_add","app/controllers/machine_keys","app/controllers/machine_power","app/controllers/machine_edit","app/controllers/machine_shell","app/controllers/machine_tags","app/controllers/metric_add","app/controllers/metric_add_custom","app/controllers/metrics","app/controllers/monitoring","app/controllers/network_create","app/controllers/notification","app/controllers/rule_edit","app/controllers/rules","app/controllers/script_add","app/controllers/script_edit","app/controllers/script_run","app/controllers/scripts","app/routes/images","app/routes/index","app/routes/key","app/routes/keys","app/routes/machine","app/routes/machines","app/routes/missing","app/routes/network","app/routes/networks","app/routes/script","app/routes/scripts","app/views/backend_add","app/views/backend_button","app/views/backend_edit","app/views/dialog","app/views/file_upload","app/views/graph_button","app/views/graph_list","app/views/graph_list_bar","app/views/graph_list_control","app/views/graph_list_item","app/views/home","app/views/image_list_item","app/views/image_list","app/views/ip_address_list_item","app/views/key","app/views/key_add","app/views/key_edit","app/views/key_list","app/views/key_list_item","app/views/log_list","app/views/log_list_item","app/views/login","app/views/machine","app/views/machine_add","app/views/machine_keys","app/views/machine_keys_list_item","app/views/machine_list","app/views/machine_list_item","app/views/machine_monitoring","app/views/machine_power","app/views/machine_edit","app/views/machine_shell","app/views/machine_tags","app/views/machine_tags_list_item","app/views/messagebox","app/views/metric_add","app/views/metric_add_custom","app/views/missing","app/views/metric_node","app/views/network","app/views/network_create","app/views/network_list","app/views/network_list_item","app/views/rule","app/views/rule_edit","app/views/rule_list","app/views/script","app/views/script_add","app/views/script_edit","app/views/script_list","app/views/script_run","app/views/script_list_item","app/views/script_log_list","app/views/subnet_list_item","app/views/user_menu"],e)},loadApp=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D){window.onbeforeunload=function(){$(".ui-loader").hide()},App.ready=e,App=Ember.Application.create(App),window.Mist=App,App.set("betaFeatures",!!window.BETA_FEATURES),App.set("isCore",!!IS_CORE),App.set("authenticated",AUTH||IS_CORE),App.set("email",EMAIL),App.set("password",""),App.set("isClientMobile",/iPhone|iPod|iPad|Android|BlackBerry|Windows Phone/.test(navigator.userAgent)),parseProviderMap(),App.Router.map(function(){this.route("machines"),this.route("images"),this.route("networks"),this.route("network",{path:"/networks/:network_id"}),this.route("machine",{path:"/machines/:machine_id"}),this.route("keys"),this.route("key",{path:"/keys/:key_id"}),this.route("scripts"),this.route("script",{path:"/scripts/:script_id"}),this.route("logs"),this.route("missing",{path:"/*path"})}),App.set("keysController",p.create()),App.set("logsController",v.create()),App.set("loginController",d.create()),App.set("rulesController",A.create()),App.set("keyAddController",c.create()),App.set("metricsController",T.create()),App.set("graphsController",f.create()),App.set("keyEditController",h.create()),App.set("cookiesController",s.create()),App.set("ruleEditController",L.create()),App.set("backendsController",i.create()),App.set("metricAddController",S.create()),App.set("fileUploadController",a.create()),App.set("machineAddController",m.create()),App.set("backendAddController",n.create()),App.set("monitoringController",N.create()),App.set("backendEditController",r.create()),App.set("machineTagsController",E.create()),App.set("machineKeysController",g.create()),App.set("imageSearchController",l.create()),App.set("datasourcesController",o.create()),App.set("machineShellController",w.create()),App.set("notificationController",k.create()),App.set("dialogController",u.create()),App.set("machinePowerController",y.create()),App.set("machineEditController",b.create()),App.set("networkCreateController",C.create()),App.set("metricAddCustomController",x.create()),App.set("scriptsController",D.create()),App.set("scriptAddController",O.create()),App.set("scriptRunController",_.create()),App.set("scriptEditController",M.create()),App.Select=Ember.Select.extend({attributeBindings:["name","data-theme","data-icon","data-native-menu","disabled"]}),App.TextArea=Ember.TextArea.extend({autocapitalize:"off",attributeBindings:["data-theme","autocapitalize"]}),App.Checkbox=Ember.Checkbox.extend({attributeBindings:["data-mini","data-theme","data-icon","data-icon-position","data-disabled"]}),App.TextField=Ember.TextField.extend({autocapitalize:"off",attributeBindings:["data-theme","placeholder","autocapitalize"],keyUp:function(e){this.get("parentView").keyUp&&this.get("parentView").keyUp(e)},click:function(e){this.get("parentView").inputClicked&&this.get("parentView").inputClicked(e)},focusIn:function(e){this.get("parentView").inputClicked&&this.get("parentView").inputClicked(e)}}),App.isScrolledToTop=function(){return window.pageYOffset<=20},App.isScrolledToBottom=function(){var e=$(document).height()-$(window).height(),t=$(document).scrollTop();return e-t<20},App.selectElementContents=function(e){var t;e instanceof HTMLElement?t=e:t=document.getElementById(e);var n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n)},App.smoothScroll=function(e,t){function f(){Math.abs($(window).scrollTop()-e)<10||s==0?window.scrollTo(0,e):(s--,window.scrollTo(0,$(window).scrollTop()+a*u),setTimeout(function(){f()},o))}t=t||100;var n=$(window).scrollTop(),r=Math.abs(n-e),i;r<10?i=1:r<100?i=10:i=100;var s=i,o=t/i,u=r/i,a=n<e?1:-1;f()},App.switchElementVisibility=function(e){var t=$("#"+e);t.css("display")=="none"?t.slideDown():t.slideUp()},App.clock=Ember.Object.extend({init:function(){this._super();var e=this;setInterval(function(){e.tick()},TIME_MAP.SECOND)},tick:function(){this.setProperties({second:(new Date).getSeconds(),minute:(new Date).getMinutes(),hour:(new Date).getHours()})}}).create()},loadImages=function(e){function u(){--i==0&&e()}var t=$('<div class="user"></div>').appendTo("body"),n=t.css("background-image").split("(")[1].split(")")[0].replace(/\"/g,"");t.remove();var r=[n,"resources/images/ajax-loader.gif","resources/images/spinner.gif"],i=r.length;for(var s=0;s<r.length;s++){var o=new Image;o.onload=u,o.src=r[s]}},handleMobileInit=function(){$(document).one("mobileinit",function(){$.mobile.ajaxEnabled=!1,$.mobile.pushStateEnabled=!1,$.mobile.linkBindingEnabled=!1,$.mobile.hashListeningEnabled=!1,$.mobile.ignoreContentEnabled=!0,$.mobile.panel.prototype._bindUpdateLayout=function(){}})},setupLogsSocketEvents=function(e,t){e.on("open_incidents",function(e){require(["app/models/story"],function(t){var n=e.map(function(e){return t.create(e)});Mist.set("openIncidents",n)})}).on("closed_incidents",function(e){require(["app/models/story"],function(t){var n=e.map(function(e){return t.create(e)});Mist.set("closedIncidents",n)})}).emit("ready"),Mist.set("openIncidents",[]),Mist.set("closedIncidents",[]),t&&t()},setupSocketEvents=function(e,t){function n(e){var t=Mist.backendsController.getMachine(e.machine_id,e.backend_id);t&&t.probeSuccess(e.result)}Mist.isCore&&Mist.ajax.GET("/scripts").success(function(e){Mist.scriptsController.setContent(e)}),e.on("list_keys",function(e){Mist.keysController.load(e)}).on("list_logs",function(e){Mist.logsController.load(e)}).on("list_backends",function(e){Mist.backendsController.load(e),t&&t(),t=null}).on("list_sizes",function(e){var t=Mist.backendsController.getBackend(e.backend_id);t&&t.sizes.setContent(e.sizes)}).on("list_images",function(e){var t=Mist.backendsController.getBackend(e.backend_id);t&&t.images.setContent(e.images)}).on("list_machines",function(e){var t=Mist.backendsController.getBackend(e.backend_id);t&&t.machines.load(e.machines)}).on("list_locations",function(e){var t=Mist.backendsController.getBackend(e.backend_id);t&&t.locations.setContent(e.locations)}).on("list_networks",function(e){var t=Mist.backendsController.getBackend(e.backend_id);t&&t.networks.setContent(e.networks)}).on("monitoring",function(e){Mist.monitoringController._updateMonitoringData(e),Mist.monitoringController.trigger("onMonitoringDataUpdate"),Mist.backendsController.set("checkedMonitoring",!0)}).on("stats",function(e){Mist.graphsController._handleSocketResponse(e)}).on("notify",function(e){if(!e.title||!e.body){var t=e.title||e.body;Mist.notificationController.notify(t);return}var n=[],r=e.machine_id,i=e.backend_id,s=Mist.backendsController.getMachine(r,i);s&&s.id&&n.push({link:s.name,"class":"ui-btn ui-btn-icon-right ui-mini ui-corner-all",href:"#/machines/"+r,closeDialog:!0}),e.output&&n.push({command:e.output});var o=parseInt(e.duration);if(o){var u=parseInt(o/60),a=o-u*60;n.push({paragraph:"Completed in "+u+"min "+a+" sec","class":"duration"})}Mist.dialogController.open({type:DIALOG_TYPES.OK,head:e.title,body:n})}).on("probe",n).on("ping",n).emit("ready")},changeLoadProgress=function(e){$(".mist-progress").animate({width:e+"%"},300,function(){e>=100&&($("body").css("overflow","auto"),$("#splash").fadeOut(300),appLoader.finish())})},fontTest,startTime,extendEmberView=function(){Ember.View.prototype.getName=function(){return this.constructor.toString().split(".")[1].split("View")[0]},Ember.View.prototype.getWidgetID=function(){return"#"+this.getName().dasherize()},Ember.View.prototype.getControllerName=function(){return this.getName().decapitalize()+"Controller"}};String.prototype.decapitalize=function(){return this.charAt(0).toLowerCase()+this.slice(1)},Date.prototype.isFuture=function(){return this>new Date},Date.prototype.getPrettyTime=function(e){var t=this.getHours(),n=this.getMinutes(),r=this.getSeconds(),i=(t<10?"0":"")+t+":"+(n<10?"0":"")+n+(e?"":":"+(r<10?"0":"")+r);return i},Date.prototype._toString=function(){var e=this.getMonth()+1+"/"+this.getDate()+"/"+this.getFullYear();return e+", "+this.getPrettyTime()},Date.prototype.getPrettyDate=function(e){return this.getMonthName(e)+" "+this.getDate()+", "+this.getFullYear()},Date.prototype.getPrettyDateTime=function(e,t){return this.getPrettyDate(e)+", "+this.getPrettyTime(t)},Date.prototype.getMonthName=function(e){return e?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][this.getMonth()]:["January","February","March","April","May","June","July","August","September","October","November","December"][this.getMonth()]},Date.prototype.diffToString=function(e){var t=this-e,n="";return t<TIME_MAP.MINUTE?n=parseInt(t/TIME_MAP.SECOND)+" sec":t<TIME_MAP.HOUR?n=parseInt(t/TIME_MAP.MINUTE)+" min":t<TIME_MAP.DAY?n=parseInt(t/TIME_MAP.HOUR)+" hour":t<TIME_MAP.MONTH?n=parseInt(t/TIME_MAP.DAY)+" day":t<TIME_MAP.YEAR?n=parseInt(t/TIME_MAP.MONTH)+" month":n="TOO LONG!",n.split(" ")[0]!="1"&&(n+="s"),n},Date.prototype.getTimeFromNow=function(){var e=new Date,t=e-this,n="";t<10*TIME_MAP.SECOND?n="Now":t<TIME_MAP.MINUTE?n=parseInt(t/TIME_MAP.SECOND)+" sec":t<TIME_MAP.HOUR?n=parseInt(t/TIME_MAP.MINUTE)+" min":t<TIME_MAP.DAY?n=parseInt(t/TIME_MAP.HOUR)+" hour":t<2*TIME_MAP.DAY?n="Yesterday":t<TIME_MAP.YEAR&&(n=this.getMonthName(!0)+" "+this.getDate());if(n.indexOf("sec")>-1||n.indexOf("min")>-1||n.indexOf("hour")>-1)n.split(" ")[0]!="1"&&(n+="s"),n+=" ago";return n},Array.prototype.toStringByProperty=function(e){return this.map(function(t){return t[e]}).join(", ")};var DISPLAYED_DATAPOINTS=60,TIME_MAP={SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5,MONTH:2592e6,YEAR:31104e6},DIALOG_TYPES={OK:0,OK_CANCEL:1,YES_NO:2,DONE_BACK:3,BACK:4},EMAIL_REGEX=/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,PROVIDER_MAP={azure:[{name:"title",type:"text",defaultValue:"Azure"},{name:"subscription_id",type:"text",helpText:"You can find your subscriptionID on the Azure portal",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/202083549-Adding-credentials-for-Azure"},{name:"certificate",type:"file",label:"Certificate file",buttonText:"Add Certificate",helpText:"Your Azure certificate PEM file",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/202083549-Adding-credentials-for-Azure"}],bare_metal:[{name:"title",type:"text"},{name:"machine_ip",type:"text",label:"Hostname",optional:!0,placeholder:"DNS or IP ",helpText:"The URL or IP adress that your server listens to"},{name:"windows",type:"slider",label:"Operating System",onLabel:"Windows",offLabel:"Unix",onValue:!0,offValue:!1,optional:!0,on:[{name:"remote_desktop_port",type:"text",label:"Remote Desktop Port",defaultValue:"3389",optional:!0}],off:[{name:"machine_key",type:"ssh_key",label:"SSH Key",optional:!0},{showIf:"machine_key",name:"machine_user",type:"text",label:"User",optional:!0,defaultValue:"root"},{showIf:"machine_key",name:"machine_port",type:"text",label:"Port",defaultValue:"22",optional:!0}]},{name:"monitoring",type:"checkbox",label:"Enable monitoring",defaultValue:!0}],coreos:[{name:"title",type:"text",defaultValue:"CoreOS"},{name:"machine_ip",type:"text",label:"Hostname",placeholder:"DNS or IP "},{name:"machine_key",type:"ssh_key",label:"SSH Key",optional:!0},{showIf:"machine_key",name:"machine_user",type:"text",label:"User",optional:!0,defaultValue:"root"},{showIf:"machine_key",name:"machine_port",type:"text",label:"Port",defaultValue:"22",optional:!0},{name:"monitoring",type:"checkbox",label:"Enable monitoring",defaultValue:!0}],digitalocean:[{name:"title",type:"text",defaultValue:"DigitalOcean"},{name:"token",type:"password",helpText:"You can find your API Token on the Digital Ocean portal",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/201501739--Add-credentials-for-Digital-Ocean"}],hostvirtual:[{name:"title",type:"text",defaultValue:"HostVirtual"},{name:"api_key",type:"password"}],vultr:[{name:"title",type:"text",defaultValue:"Vultr"},{name:"api_key",type:"password"}],docker:[{name:"title",type:"text",defaultValue:"Docker"},{name:"docker_host",type:"text",label:"Host",helpText:"The URL or IP your Docker engine listens to",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/201544379-Adding-a-Docker-engine"},{name:"docker_port",type:"text",label:"Port",optional:!0,defaultValue:"4243",helpText:"The port your Docker engine listens to",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/201544379-Adding-a-Docker-engine"},{type:"slider",label:"Authentication",onLabel:"TLS",offLabel:"Basic",on:[{name:"key_file",type:"file",label:"PEM Key",buttonText:"Add key",optional:!0},{name:"cert_file",type:"file",label:"PEM Certificate",buttonText:"Add certificate",optional:!0}],off:[{name:"auth_user",type:"text",label:"User",optional:!0},{name:"auth_password",type:"password",label:"Password",optional:!0}],helpText:"The type of authentication your Docker engine uses",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/201544379-Adding-a-Docker-engine"}],ec2:[{name:"region",type:"region"},{name:"title",type:"text",defaultValue:"EC2"},{name:"api_key",type:"text",helpText:"You can find your API key on your Amazon console",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/200235718-Adding-credentials-for-Amazon-EC2"},{name:"api_secret",type:"password",helpText:"You can find your API secret on your Amazon console",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/200235718-Adding-credentials-for-Amazon-EC2"}],gce:[{name:"title",type:"text",defaultValue:"GCE"},{name:"private_key",label:"JSON key",type:"file",buttonText:"Add JSON key",helpText:"You can create a new key on your GCE portal",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/203433315-Adding-Google-Compute-Engine-to-Mist-io"},{name:"project_id",type:"text",helpText:"You can find your project ID on your GCE portal",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/203433315-Adding-Google-Compute-Engine-to-Mist-io"}],hpcloud:[{name:"region",type:"region"},{name:"title",type:"text",defaultValue:"HP"},{name:"username",type:"text"},{name:"password",type:"password"},{name:"tenant_name",type:"text"}],linode:[{name:"title",type:"text",defaultValue:"Linode"},{name:"api_key",type:"text",helpText:"You can create an API key on your Linode portal",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/200278166-Adding-credentials-for-Linode"}],nephoscale:[{name:"title",type:"text",defaultValue:"Nephoscale"},{name:"username",type:"text",helpText:"The username you use to connect to the Nephoscale portal"},{name:"password",type:"password",helpText:"The password you use to connect to the Nephoscale portal"}],openstack:[{name:"title",type:"text",defaultValue:"OpenStack"},{name:"username",type:"text"},{name:"password",type:"password"},{name:"auth_url",type:"text",helpText:"Your OpenStack Auth URL",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/200638018-Adding-credentials-for-OpenStack"},{name:"tenant_name",type:"text"},{name:"region",type:"text",optional:!0}],rackspace:[{name:"region",type:"region"},{name:"title",type:"text",defaultValue:"Rackspace"},{name:"username",type:"text",helpText:"The username you use to connect to the RackSpace portal"},{name:"api_key",type:"password",helpText:"You can find your API key on your RackSpace portal",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/200235728-Adding-credentials-for-Rackspace"}],softlayer:[{name:"title",type:"text",defaultValue:"SoftLayer"},{name:"username",type:"text",helpText:"The username you use to connect to the SoftLayer portal"},{name:"api_key",type:"password",helpText:"You can find your API key on your SoftLayer portal",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/200794519-Adding-credentials-for-SoftLayer"}],libvirt:[{name:"title",type:"text",defaultValue:"KVM (libvirt)"},{name:"machine_hostname",label:"KVM hostname",type:"text",helpText:"The URL or IP that your KVM hypervisor listens to"},{name:"machine_user",type:"text",label:"ssh user",optional:!0,defaultValue:"root",helpText:"The SSH user that Mist.io should try to connect as"},{name:"ssh_port",type:"text",label:"ssh port",optional:!0,defaultValue:"22"},{name:"machine_key",type:"ssh_key",label:"ssh key",optional:!0,helpText:"If you don't specify an ssh key, mist.io will assume that you are connecting via tcp (qemu+tcp)",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/203342499--Adding-credentials-for-KVM-hypervisors"}],vcloud:[{name:"title",type:"text",defaultValue:"VMware vCloud"},{name:"username",type:"text",helpText:"The username you use to login to vCloud Director"},{name:"password",type:"password",helpText:"The password you use to login to vCloud Director"},{name:"organization",type:"text"},{name:"host",type:"text",label:"Hostname",helpText:"The URL or IP vCloud listens to",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/203326759--Adding-credentials-for-VMware-vCloud"}],indonesian_vcloud:[{name:"title",type:"text",defaultValue:"Indonesian Cloud"},{name:"username",type:"text",helpText:"The username you use to login Indonesian Cloud's portal"},{name:"password",type:"password",helpText:"The password you use to login Indonesian Cloud's portal"},{name:"organization",type:"text",helpText:"Name of your oganization",helpHref:"https://mistio.zendesk.com/hc/en-us/articles/203321959-Adding-credentials-for-Indonesian-Cloud"}],vsphere:[{name:"title",type:"text",defaultValue:"VMware vSphere"},{name:"username",type:"text"},{name:"password",type:"password"},{name:"host",type:"text",label:"Hostname"}]},OS_MAP=[[["rhel","redhat","red hat"],"redhat"],[["ubuntu"],"ubuntu"],[["ibm"],"ibm"],[["canonical"],"canonical"],[["sles","suse"],"suse"],[["oracle"],"oracle"],[["karmic"],"karmic"],[["opensolaris"],"opensolaris"],[["gentoo"],"gentoo"],[["opensuse"],"opensuse"],[["fedora"],"fedora"],[["centos"],"centos"],[["fedora"],"fedora"],[["debian"],"debian"],[["amazon"],"amazon"],[["windows"],"windows"]];define("app",function(){});